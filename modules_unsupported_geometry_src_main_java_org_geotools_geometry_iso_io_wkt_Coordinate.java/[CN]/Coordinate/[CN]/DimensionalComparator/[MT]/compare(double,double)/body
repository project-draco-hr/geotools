{
  if (a < b)   return -1;
  if (a > b)   return 1;
  if (Double.isNaN(a)) {
    if (Double.isNaN(b))     return 0;
    return -1;
  }
  if (Double.isNaN(b))   return 1;
  return 0;
}
