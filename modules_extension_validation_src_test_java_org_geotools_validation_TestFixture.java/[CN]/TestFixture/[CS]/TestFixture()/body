{
  repository=new DefaultRepository();
  File directory=TestData.file(this,"shapefiles");
  String shapefiles[]=directory.list(new FilenameFilter(){
    public boolean accept(    File dir,    String name){
      return name.toUpperCase().endsWith(".SHP");
    }
  }
);
  for (int i=0; i < shapefiles.length; i++) {
    File shapefile=new File(directory,shapefiles[i]);
    ShapefileDataStore dataStore=new ShapefileDataStore(shapefile.toURI().toURL());
    String dataStoreId=dataStore.getTypeNames()[0].toUpperCase();
    String typeName=dataStore.getTypeNames()[0];
    SimpleFeatureIterator features=dataStore.getFeatureSource(typeName).getFeatures().features();
    MemoryDataStore cache=new MemoryDataStore(features);
    repository.register(dataStoreId,cache);
  }
  File pluginDir=TestData.file(this,"plugins");
  File validationDir=TestData.file(this,"validation");
  pluginDTOs=XMLReader.loadPlugIns(pluginDir);
  testSuiteDTOs=XMLReader.loadValidations(validationDir,pluginDTOs);
  processor=new ValidationProcessor();
  processor.load(pluginDTOs,testSuiteDTOs);
}
