{
  PrecisionModel pm=new PrecisionModel();
  Geometry[] g=new Geometry[4];
  GeometryFactory gf=new GeometryFactory(pm);
  g[0]=gf.createPoint(new Coordinate(0,0));
  g[1]=gf.createPoint(new Coordinate(0,10));
  g[2]=gf.createPoint(new Coordinate(10,0));
  g[3]=gf.createPoint(new Coordinate(10,10));
  GeometryCollection gc=gf.createGeometryCollection(g);
  SimpleFeatureTypeBuilder tb=new SimpleFeatureTypeBuilder();
  tb.setName("bounds");
  tb.setCRS(null);
  tb.add("p1",Point.class);
  SimpleFeatureType t=tb.buildFeatureType();
  TreeSetFeatureCollection fc=new TreeSetFeatureCollection(null,t);
  SimpleFeatureBuilder b=new SimpleFeatureBuilder(t);
  for (int i=0; i < g.length; i++) {
    b.add(g[i]);
    fc.add(b.buildFeature(null));
  }
  assertEquals(gc.getEnvelopeInternal(),fc.getBounds());
}
