{
  final int LENGTH=x.size();
  Coordinate[] array=new Coordinate[LENGTH];
  if (z != null) {
    for (int i=0; i < LENGTH; i++) {
      array[i]=new Coordinate(x.getDouble(i),y.getDouble(i),z.getDouble(i));
    }
  }
 else {
    for (int i=0; i < LENGTH; i++) {
      array[i]=new Coordinate(x.getDouble(i),y.getDouble(i));
    }
  }
  return f.create(array);
}
