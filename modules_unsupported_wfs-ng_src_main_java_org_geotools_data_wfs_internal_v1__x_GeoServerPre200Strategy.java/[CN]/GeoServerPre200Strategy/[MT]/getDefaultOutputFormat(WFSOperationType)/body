{
  try {
    return super.getDefaultOutputFormat(op);
  }
 catch (  IllegalArgumentException e) {
    Set<String> supportedOutputFormats=getServerSupportedOutputFormats(op);
    if (supportedOutputFormats.contains(GEOSERVER_WRONG_FORMAT_NAME)) {
      return "text/xml; subtype=gml/3.1.1";
    }
    throw new IllegalArgumentException("Server does not support 'text/gml; subtype=gml/3.1.1' output format: " + supportedOutputFormats);
  }
}
