{
  final float relativePosition=(position - startPosition) / (endPosition - startPosition);
  float result;
  if (relativePosition <= 0) {
    result=startValue;
  }
 else   if (relativePosition >= 1) {
    result=endValue;
  }
 else {
    final double relativeSmoothPosition=(1.0 - Math.cos(relativePosition * Math.PI)) / 2.0;
    result=(float)(startValue * (1.0 - relativeSmoothPosition) + endValue * relativeSmoothPosition);
  }
  return result;
}
