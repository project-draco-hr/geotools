{
  Map<String,Object> properties=new HashMap<>((coverage.getProperties() != null) ? coverage.getProperties() : Collections.emptyMap());
  RenderedImage ri=coverage.getRenderedImage();
  ROIShape roi=new ROIShape(getImageBounds(ri));
  CoverageUtilities.setROIProperty(properties,roi);
  GridCoverage2D coverageWithRoi=GRID_COVERAGE_FACTORY.create(coverage.getName(),ri,coverage.getEnvelope(),coverage.getSampleDimensions(),null,properties);
  return coverageWithRoi;
}
