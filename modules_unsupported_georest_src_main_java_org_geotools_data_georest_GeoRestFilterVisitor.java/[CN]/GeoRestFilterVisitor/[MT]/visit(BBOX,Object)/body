{
  Polygon polygon=(Polygon)filter.getExpression2().evaluate(extraData);
  Envelope box=polygon.getEnvelopeInternal();
  if (!properties.containsKey("bbox")) {
    properties.put("bbox",box.getMinX() + "," + box.getMinY()+ ","+ box.getMaxX()+ ","+ box.getMaxY());
  }
 else {
    throw new IllegalArgumentException("Filter cannot contain more than one bounding box.");
  }
  if (!properties.containsKey("epsg") && polygon.getSRID() != 0) {
    properties.put("epsg",polygon.getSRID() + "");
  }
  return extraData;
}
