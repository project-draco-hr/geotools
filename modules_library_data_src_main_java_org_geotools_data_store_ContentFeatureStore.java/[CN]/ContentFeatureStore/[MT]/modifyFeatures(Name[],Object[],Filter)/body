{
  if (filter == null) {
    String msg="Must specify a filter, must not be null.";
    throw new IllegalArgumentException(msg);
  }
  filter=resolvePropertyNames(filter);
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=getWriter(filter,WRITER_UPDATE);
  try {
    while (writer.hasNext()) {
      SimpleFeature toWrite=writer.next();
      for (int i=0; i < type.length; i++) {
        toWrite.setAttribute(type[i],value[i]);
      }
      writer.write();
    }
  }
  finally {
    writer.close();
  }
}
