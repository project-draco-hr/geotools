{
  final int inputProducts=products.length;
  int j=0;
  final boolean[] accepted=new boolean[inputProducts];
  for (int i=0; i < inputProducts; i++)   if (isAcceptedItem(products[i])) {
    accepted[i]=true;
    j++;
  }
 else   accepted[i]=false;
  if (j == inputProducts)   return products;
  final String[] returnedProductsList=new String[j];
  j=0;
  for (int i=0; i < inputProducts; i++) {
    if (accepted[i])     returnedProductsList[j++]=products[i];
  }
  return returnedProductsList;
}
