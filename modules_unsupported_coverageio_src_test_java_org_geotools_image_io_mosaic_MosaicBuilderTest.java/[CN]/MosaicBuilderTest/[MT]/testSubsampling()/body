{
  assertTrue(MosaicBuilder.class.desiredAssertionStatus());
  builder.setSubsamplings((Dimension[])null);
  builder.setTileSize(null);
  Rectangle bounds=new Rectangle(SOURCE_SIZE * 4,SOURCE_SIZE * 2);
  builder.setUntiledImageBounds(bounds);
  assertEquals(bounds,builder.getUntiledImageBounds());
  Dimension size=builder.getTileSize();
  assertEquals(480,size.width);
  assertEquals(480,size.height);
  Dimension[] subsamplings=builder.getSubsamplings();
  int[] expected=new int[]{1,2,3,4,5,6,9,10,12,15,18,20,30,36,45,60,90,180};
  for (int i=0; i < subsamplings.length; i++) {
    assertEquals("width[" + i + ']',expected[i],subsamplings[i].width);
    assertEquals("height[" + i + ']',expected[i],subsamplings[i].height);
  }
  builder.setTileSize(new Dimension(960,960));
  builder.setSubsamplings((Dimension[])null);
  subsamplings=builder.getSubsamplings();
  expected=new int[]{1,2,3,5,6,9,10,15,18,30,45,90};
  for (int i=0; i < subsamplings.length; i++) {
    assertEquals("width[" + i + ']',expected[i],subsamplings[i].width);
    assertEquals("height[" + i + ']',expected[i],subsamplings[i].height);
  }
}
