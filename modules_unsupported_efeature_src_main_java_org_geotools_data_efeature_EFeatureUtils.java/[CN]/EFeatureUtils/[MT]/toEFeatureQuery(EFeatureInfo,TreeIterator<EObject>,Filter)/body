{
  isSane("eFeatureInfo",eFeatureInfo);
  isSane("eObjects",eObjects);
  isSane("filter",filter);
  EObjectCondition eClassFilter=createEClassFilter(eFeatureInfo.eClass());
  EObjectCondition eSpatialFilter=toEObjectCondition(eFeatureInfo,eFeatureInfo.getFeatureType(),true,filter);
  WHERE where=new WHERE(eClassFilter.AND(eSpatialFilter));
  EFeatureFilter eWhere=new EFeatureFilter(eFeatureInfo,where);
  return new EFeatureQuery(eObjects,eWhere);
}
