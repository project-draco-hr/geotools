{
  Query query=new Query(roadType.getTypeName());
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=data.getFeatureReader(query,Transaction.AUTO_COMMIT);
  SimpleFeature feature;
  while (reader.hasNext()) {
    feature=(SimpleFeature)reader.next();
    feature.setAttribute("NAME",null);
  }
  reader.close();
  reader=data.getFeatureReader(query,Transaction.AUTO_COMMIT);
  while (reader.hasNext()) {
    feature=(SimpleFeature)reader.next();
    assertNotNull(feature.getAttribute("NAME"));
  }
  reader.close();
  try {
    reader.next();
    fail("next should fail with an IOException or NoSuchElementException");
  }
 catch (  IOException expected) {
  }
catch (  NoSuchElementException expected) {
  }
}
