{
  setWindowTitle(format == null ? "Connect" : format == null ? "" : format.getDisplayName());
  if (params == null) {
    connectionParameters=new HashMap<String,Object>();
  }
 else {
    connectionParameters=params;
  }
  if (format == null) {
    dataChoosePage=new JDataChoosePage();
  }
  fillInDefaults(format,params);
  this.format=format;
  dataStorePage=new JDataStorePage(format,connectionParameters);
  dataStorePage.setLevel("user");
  if (countParamsAtLevel(format,"advanced") != 0) {
    dataStorePage=new JDataStorePage(format,connectionParameters);
    dataStorePage.setLevel("advanced");
  }
}
