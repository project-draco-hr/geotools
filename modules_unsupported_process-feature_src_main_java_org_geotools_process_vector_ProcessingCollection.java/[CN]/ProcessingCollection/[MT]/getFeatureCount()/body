{
  FeatureIterator<F> fi=null;
  try {
    fi=features();
    int count=0;
    while (fi.hasNext()) {
      fi.next();
      count++;
    }
    return count;
  }
  finally {
    if (fi != null) {
      fi.close();
    }
  }
}
