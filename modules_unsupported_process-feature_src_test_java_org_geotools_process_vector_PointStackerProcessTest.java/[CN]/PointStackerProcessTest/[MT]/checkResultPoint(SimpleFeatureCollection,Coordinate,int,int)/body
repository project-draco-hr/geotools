{
  double minDist=Double.MAX_VALUE;
  int count=-1;
  int countunique=-1;
  for (SimpleFeatureIterator it=result.features(); it.hasNext(); ) {
    SimpleFeature f=it.next();
    Coordinate outPt=((Point)f.getDefaultGeometry()).getCoordinate();
    double dist=outPt.distance(testPt);
    if (dist < minDist) {
      minDist=dist;
      count=(Integer)f.getAttribute(PointStackerProcess.ATTR_COUNT);
      countunique=(Integer)f.getAttribute(PointStackerProcess.ATTR_COUNT_UNIQUE);
    }
  }
  assertEquals(expectedCount,count);
  assertEquals(expectedCountUnique,countunique);
}
