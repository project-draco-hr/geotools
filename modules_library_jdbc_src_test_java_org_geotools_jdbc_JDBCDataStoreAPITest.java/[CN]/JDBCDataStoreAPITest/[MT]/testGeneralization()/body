{
  SimpleFeatureSource fs=dataStore.getFeatureSource(tname("lake"));
  if (fs.getSupportedHints().contains(Hints.GEOMETRY_GENERALIZATION) == false)   return;
  SimpleFeatureCollection fColl=fs.getFeatures();
  SimpleFeatureIterator iterator=fColl.features();
  Geometry original=null;
  if (iterator.hasNext())   original=(Geometry)iterator.next().getDefaultGeometry();
  fColl.close(iterator);
  double width=original.getEnvelope().getEnvelopeInternal().getWidth();
  DefaultQuery query=new DefaultQuery();
  Hints hints=new Hints(Hints.GEOMETRY_GENERALIZATION,width / 2);
  query.setHints(hints);
  Geometry generalized=null;
  fColl=fs.getFeatures(query);
  iterator=fColl.features();
  if (iterator.hasNext())   generalized=(Geometry)iterator.next().getDefaultGeometry();
  fColl.close(iterator);
  assertTrue(original.getNumPoints() >= generalized.getNumPoints());
}
