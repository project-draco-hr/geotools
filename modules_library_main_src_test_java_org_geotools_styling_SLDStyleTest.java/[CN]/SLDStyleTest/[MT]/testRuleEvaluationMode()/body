{
  StyleFactory factory=CommonFactoryFinder.getStyleFactory(null);
  java.net.URL surl=TestData.getResource(this,"ruleEvaluationMode.xml");
  SLDParser stylereader=new SLDParser(factory,surl);
  Style[] styles=stylereader.readXML();
  assertEquals(1,styles.length);
  assertEquals(1,styles[0].featureTypeStyles().size());
  final FeatureTypeStyle fts=styles[0].featureTypeStyles().get(0);
  assertEquals(1,fts.rules().size());
  Map<String,String> options=fts.getOptions();
  assertEquals(1,options.size());
  assertEquals(FeatureTypeStyle.VALUE_EVALUATION_MODE_FIRST,options.get(FeatureTypeStyle.KEY_EVALUATION_MODE));
}
