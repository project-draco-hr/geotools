{
  if (WFSOperationType.GET_FEATURE != operation) {
    throw new UnsupportedOperationException("Not implemented for other than GET_FEATURE yet");
  }
  Set<String> supportedOutputFormats=wfs.getSupportedGetFeatureOutputFormats();
  if (supportedOutputFormats.contains(DEFAULT_OUTPUT_FORMAT)) {
    return DEFAULT_OUTPUT_FORMAT;
  }
  throw new IllegalArgumentException("Server does not support '" + DEFAULT_OUTPUT_FORMAT + "' output format: "+ supportedOutputFormats);
}
