{
  Geobuf.Data data=Geobuf.Data.parseFrom(in);
  if (data.getDataTypeCase() == Geobuf.Data.DataTypeCase.GEOMETRY) {
    return 1;
  }
 else   if (data.getDataTypeCase() == Geobuf.Data.DataTypeCase.FEATURE) {
    return 1;
  }
 else   if (data.getDataTypeCase() == Geobuf.Data.DataTypeCase.FEATURE_COLLECTION) {
    return data.getFeatureCollection().getFeaturesCount();
  }
 else {
    return -1;
  }
}
