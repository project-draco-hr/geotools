{
  List<String> clientSupportedFormats=getClientSupportedOutputFormats(operation);
  Set<String> supportedOutputFormats=getServerSupportedOutputFormats(operation);
  for (  String clientSupported : clientSupportedFormats) {
    if (supportedOutputFormats.contains(clientSupported)) {
      return clientSupported;
    }
  }
  throw new IllegalArgumentException("Client does not support any of the server supported output formats for " + operation);
}
