{
  if (Filter.INCLUDE.equals(filter) || Filter.EXCLUDE.equals(filter)) {
    return filter;
  }
  SimplifyingFilterVisitor simplifier=new SimplifyingFilterVisitor();
  filter=(Filter)filter.accept(simplifier,null);
  return filter;
}
