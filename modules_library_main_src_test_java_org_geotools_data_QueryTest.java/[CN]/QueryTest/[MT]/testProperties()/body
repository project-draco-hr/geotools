{
  final FilterFactory2 ff=CommonFactoryFinder.getFilterFactory2(null);
  System.out.println("testProperties");
  Query query=new Query();
  assertNull(query.getProperties());
  List<PropertyName> properties=new ArrayList<PropertyName>();
  NamespaceSupport nsContext=new NamespaceSupport();
  nsContext.declarePrefix("foo","FooNamespace");
  PropertyName fooProp=ff.property("foo",nsContext);
  PropertyName barProp=ff.property("bar",nsContext);
  properties.add(fooProp);
  properties.add(barProp);
  query.setProperties(properties);
  List<PropertyName> properties2=query.getProperties();
  assertNotNull(properties);
  assertEquals(fooProp,properties2.get(0));
  assertEquals(barProp,properties2.get(1));
  assertEquals(nsContext,properties2.get(0).getNamespaceContext());
  String[] names=query.getPropertyNames();
  assertEquals("foo",names[0]);
  assertEquals("bar",names[1]);
  query.setProperties(Query.ALL_PROPERTIES);
  assertNull(query.getProperties());
  query=new Query("Test",Filter.INCLUDE,properties);
  assertNotNull(query.getProperties());
}
