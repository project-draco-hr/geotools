{
  Set codes=(Set)cache.get(type);
  if (codes == null) {
    try {
      cache.writeLock(type);
      codes=(Set)cache.peek(type);
      if (codes == null) {
        codes=generateAuthorityCodes(type);
        cache.put(type,codes);
      }
    }
  finally {
      cache.writeUnLock(type);
    }
  }
  return codes;
}
