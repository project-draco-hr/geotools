{
  if (clientProperties.size() == 0) {
    return;
  }
  final Map<Name,Object> targetAttributes=new HashMap<Name,Object>();
  for (  Map.Entry<Name,Expression> entry : clientProperties.entrySet()) {
    Name propName=entry.getKey();
    Expression propExpr=entry.getValue();
    String propValue="";
    List<String> ls=getValue(propExpr,source);
    if (!ls.isEmpty()) {
      propValue=ls.get(0);
    }
    if (LOGGER.isLoggable(Level.FINER)) {
      LOGGER.finer("setting target=" + target.getName() + ", property Name="+ propName+ ", value="+ propValue);
    }
    targetAttributes.put(propName,propValue);
  }
  target.getUserData().put(Attributes.class,targetAttributes);
}
