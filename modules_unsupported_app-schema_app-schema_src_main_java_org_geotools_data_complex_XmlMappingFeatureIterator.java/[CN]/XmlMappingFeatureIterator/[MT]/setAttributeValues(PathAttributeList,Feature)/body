{
  for (  AttributeMapping attMapping : ((XmlFeatureTypeMapping)mapping).setterAttributes) {
    List<Pair> ls=elements.get(attMapping.getParentLabel());
    if (ls != null) {
      final Expression sourceExpression=attMapping.getSourceExpression();
      for (int i=0; i < ls.size(); i++) {
        Pair parentPair=ls.get(i);
        Attribute setterTarget=parentPair.getAttribute();
        List<String> values=getValue(parentPair.getXpath(),sourceExpression,setterTarget);
        for (int j=0; j < values.size(); j++) {
          String value=values.get(j);
          if (LOGGER.isLoggable(Level.FINER)) {
            LOGGER.finer("setting target=" + setterTarget.getName() + ", targetXpath="+ attMapping.getTargetXPath()+ ", value="+ value);
          }
          StepList xpath=attMapping.getTargetXPath().clone();
          if (ls.size() > 1) {
            xpath.get(0).setIndex(i + 1);
          }
          Attribute att=setAttributeValue(target,null,attMapping,value,xpath,null);
          setClientProperties(att,parentPair.getXpath(),attMapping.getClientProperties());
        }
      }
    }
  }
}
