{
  if (cs instanceof CoordinateAccess) {
    return ((CoordinateAccess)cs).getDimension();
  }
  if (cs.size() > 0) {
    return Double.isNaN(cs.getCoordinate(0).z) ? 2 : 3;
  }
  return 3;
}
