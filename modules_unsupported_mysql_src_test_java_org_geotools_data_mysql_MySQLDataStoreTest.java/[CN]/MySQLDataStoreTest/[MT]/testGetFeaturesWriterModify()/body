{
  Transaction trans=new DefaultTransaction();
  JDBCTransactionState state=new JDBCTransactionState(connPool);
  trans.putState(connPool,state);
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=dstore.getFeatureWriter(FEATURE_TABLE,Filter.INCLUDE,trans);
  int attKeyPos=0;
  Integer attKey=new Integer(10);
  String attName="name";
  String newAttVal="LS 503";
  SimpleFeature feature;
  while (writer.hasNext()) {
    feature=writer.next();
    if (feature.getAttribute(attKeyPos).equals(attKey)) {
      LOGGER.info("changing name of feature " + feature);
      ;
      feature.setAttribute(attName,newAttVal);
      writer.write();
    }
  }
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=dstore.getFeatureReader(schema,Filter.INCLUDE,trans);
  while (reader.hasNext()) {
    feature=reader.next();
    if (feature.getAttribute(attKeyPos).equals(attKey)) {
      LOGGER.fine("checking feature " + feature);
      ;
      Object modAtt=feature.getAttribute(attName);
      assertEquals("attribute was not changed",newAttVal,(String)modAtt);
    }
  }
  state.rollback();
}
