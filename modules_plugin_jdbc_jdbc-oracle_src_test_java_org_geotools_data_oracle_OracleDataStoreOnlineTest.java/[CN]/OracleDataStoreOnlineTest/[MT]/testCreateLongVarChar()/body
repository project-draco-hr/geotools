{
  SimpleFeatureTypeBuilder builder=new SimpleFeatureTypeBuilder();
  builder.setName(tname("ft3"));
  builder.setNamespaceURI(dataStore.getNamespaceURI());
  builder.setCRS(DefaultGeographicCRS.WGS84);
  builder.add(aname("geometry_one_two_three_four"),Geometry.class);
  builder.add(aname("longvar"),String.class);
  SimpleFeatureType featureType=builder.buildFeatureType();
  dataStore.createSchema(featureType);
  SimpleFeatureBuilder fBuilder=new SimpleFeatureBuilder(featureType);
  fBuilder.add(null);
  StringBuffer vBuffer=new StringBuffer(4000);
  for (int i=0; i < 3999; i++) {
    vBuffer.append("x");
  }
  fBuilder.add(vBuffer.toString());
  SimpleFeature f=fBuilder.buildFeature(null);
  Transaction transaction=new DefaultTransaction("create");
  SimpleFeatureSource featureSource=dataStore.getFeatureSource(featureType.getName().getLocalPart());
  SimpleFeatureCollection collection=DataUtilities.collection(f);
  SimpleFeatureStore outStore=(SimpleFeatureStore)featureSource;
  outStore.setTransaction(transaction);
  try {
    List<FeatureId> ids=outStore.addFeatures(collection);
    transaction.commit();
  }
 catch (  Exception problem) {
    problem.printStackTrace();
    transaction.rollback();
  }
 finally {
    transaction.close();
  }
}
