{
  try {
    final String date=extractDate(cqlDateTime);
    final String time=extractTime(cqlDateTime);
    final String timeZone=extractTimeZone(cqlDateTime);
    StringBuilder format=new StringBuilder("yyyy-MM-dd");
    if (!"".equals(time)) {
      format.append("'T'HH:mm:ss");
    }
    if (!"".equals(timeZone)) {
      if ("Z".equals(timeZone)) {
        format.append("'Z'");
      }
 else {
        format.append("Z");
      }
    }
    String dateTimeFormat=format.toString();
    DateFormat formatter=new SimpleDateFormat(dateTimeFormat);
    Date dateTime=formatter.parse(date + "T" + time+ timeZone);
    Literal literalDate=filterFactory.literal(dateTime);
    return literalDate;
  }
 catch (  java.text.ParseException e) {
    throw new CQLException("Unsupported date time format: " + e.getMessage(),this.cqlSource);
  }
}
