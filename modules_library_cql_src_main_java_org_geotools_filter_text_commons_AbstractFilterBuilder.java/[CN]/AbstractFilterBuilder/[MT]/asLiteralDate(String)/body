{
  try {
    final String strDate=extractDate(cqlDateTime);
    final String strTime=extractTime(cqlDateTime);
    final String timeZone=extractTimeZone(cqlDateTime);
    StringBuilder format=new StringBuilder("yyyy-MM-dd");
    if (!"".equals(strTime)) {
      format.append("' 'HH:mm:ss");
    }
    TimeZone tz=null;
    String timeZoneOffset="";
    if (!"".equals(timeZone)) {
      if ("Z".equals(timeZone)) {
        timeZoneOffset="GMT+00:00";
        tz=TimeZone.getTimeZone("GMT+00:00");
      }
 else {
        timeZoneOffset="GMT" + timeZone;
        tz=TimeZone.getTimeZone(timeZoneOffset);
      }
      format.append("z");
    }
 else {
      tz=TimeZone.getDefault();
    }
    SimpleDateFormat formatter=new SimpleDateFormat(format.toString());
    formatter.setTimeZone(tz);
    Date date=formatter.parse(strDate + " " + strTime+ " "+ timeZoneOffset);
    Literal literalDate=filterFactory.literal(date);
    return literalDate;
  }
 catch (  java.text.ParseException e) {
    throw new CQLException("Unsupported date time format: " + e.getMessage(),this.cqlSource);
  }
}
