{
  int count=getFeatureSource().count(query,getTransaction());
  if (count != -1) {
    int maxFeatures=query.getMaxFeatures();
    return (count < maxFeatures) ? count : maxFeatures;
  }
  return super.getCount();
}
