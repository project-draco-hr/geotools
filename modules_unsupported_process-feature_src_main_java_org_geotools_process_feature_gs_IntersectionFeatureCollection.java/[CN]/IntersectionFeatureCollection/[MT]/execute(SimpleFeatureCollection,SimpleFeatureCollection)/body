{
  if (!(firstFeatures.features().next().getDefaultGeometry() instanceof MultiPolygon) && !(firstFeatures.features().next().getDefaultGeometry() instanceof Polygon) && !(firstFeatures.features().next().getDefaultGeometry() instanceof MultiLineString)&& !(firstFeatures.features().next().getDefaultGeometry() instanceof LineString)) {
    throw new IllegalArgumentException("First feature collection must be polygonal or linear");
  }
 else {
    return new IntersectedFeatureCollection(firstFeatures,secondFeatures);
  }
}
