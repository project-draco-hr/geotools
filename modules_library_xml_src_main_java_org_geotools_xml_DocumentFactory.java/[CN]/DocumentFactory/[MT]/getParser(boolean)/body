{
  SAXParserFactory spf=SAXParserFactory.newInstance();
  spf.setNamespaceAware(true);
  spf.setValidating(false);
  try {
    if (!parseExternalEntities) {
      spf.setFeature("http://xml.org/sax/features/external-general-entities",false);
      spf.setFeature("http://xml.org/sax/features/external-parameter-entities",false);
    }
    SAXParser sp=spf.newSAXParser();
    return sp;
  }
 catch (  ParserConfigurationException e) {
    throw new SAXException(e);
  }
}
