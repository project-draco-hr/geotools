{
  if (layer == null) {
    return reset();
  }
  if (layer instanceof NamedLayer) {
    delegate=new NamedLayerBuilder<P>().reset((NamedLayer)layer);
  }
 else   if (layer instanceof UserLayer) {
    delegate=new UserLayerBuilder<P>(parent).reset((UserLayer)layer);
  }
  return this;
}
