{
  URL host=capabilities.getGetCapabilities().getGet();
  if (host == null) {
    host=capabilities.getGetCapabilities().getPost();
  }
  if (host.toString().indexOf("mapserv") != -1) {
    strategy=new MapServerWFSStrategy(this);
  }
 else   if (host.toString().indexOf("geoserver") != -1) {
    strategy=new NonStrictWFSStrategy(this);
  }
 else   if (lenient) {
    strategy=new NonStrictWFSStrategy(this);
  }
 else {
    strategy=new StrictWFSStrategy(this);
  }
}
