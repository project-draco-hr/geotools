{
  Envelope e=null;
  if (gf.getLeftGeometry().getType() == ExpressionType.LITERAL_GEOMETRY) {
    e=((Geometry)((LiteralExpression)gf.getLeftGeometry()).getLiteral()).getEnvelopeInternal();
  }
 else {
    if (gf.getRightGeometry().getType() == ExpressionType.LITERAL_GEOMETRY) {
      LiteralExpression literal=(LiteralExpression)gf.getRightGeometry();
      Geometry geometry=(Geometry)literal.getLiteral();
      e=geometry.getEnvelopeInternal();
    }
 else {
      throw new IOException("Cannot encode BBOX:" + gf);
    }
  }
  if (e == null || e.isNull())   return null;
  return e.getMinX() + "," + e.getMinY()+ ","+ e.getMaxX()+ ","+ e.getMaxY();
}
