{
  HashMap nearest=new HashMap();
  DirectPosition source=null;
  double dist;
  for (Iterator i=this.getPositions().keySet().iterator(); i.hasNext(); ) {
    source=(DirectPosition)i.next();
    dist=((Point2D)p).distance((Point2D)source);
    if (((dist != 0) || (dist < maxdistance))) {
      nearest.put(source,new Double(dist));
    }
  }
  return nearest;
}
