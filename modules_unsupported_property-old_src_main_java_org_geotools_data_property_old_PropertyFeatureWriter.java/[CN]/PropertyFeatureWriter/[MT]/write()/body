{
  if (live == null) {
    throw new IOException("No current feature to write");
  }
  if (live.equals(origional)) {
    writeImplementation(origional);
  }
 else {
    writeImplementation(live);
    String typeName=live.getFeatureType().getTypeName();
    Transaction autoCommit=Transaction.AUTO_COMMIT;
    if (origional != null) {
      ReferencedEnvelope bounds=new ReferencedEnvelope();
      bounds.include(live.getBounds());
      bounds.include(origional.getBounds());
      store.listenerManager.fireFeaturesChanged(typeName,autoCommit,bounds,false);
    }
 else {
      store.listenerManager.fireFeaturesAdded(typeName,autoCommit,ReferencedEnvelope.reference(live.getBounds()),false);
    }
  }
  origional=null;
  live=null;
}
