{
  Object result=null;
  Coordinate coordinate=null;
  CoordinateList coordinates=new CoordinateList();
  GeometryFactory factory=new GeometryFactory();
  for (int inx=0; inx < instancesCount; inx++) {
switch (dimensionality) {
case 2:
      coordinate=new Coordinate(readDoubles ? readDouble() : readFloat(),readDoubles ? readDouble() : readFloat());
    break;
case 3:
  coordinate=new Coordinate(readDoubles ? readDouble() : readFloat(),readDoubles ? readDouble() : readFloat(),readDoubles ? readDouble() : readFloat());
break;
default :
}
coordinates.add(coordinate);
}
if (pathName.endsWith(TEXT_PRIMITIVE) && coordinates.size() > 2) {
Object o=coordinates.remove(1);
coordinates.add(o);
}
if (instancesCount == 1) {
result=factory.createPoint(coordinate);
}
 else {
result=factory.createLineString(DefaultCoordinateSequenceFactory.instance().create(coordinates.toCoordinateArray()));
}
return result;
}
