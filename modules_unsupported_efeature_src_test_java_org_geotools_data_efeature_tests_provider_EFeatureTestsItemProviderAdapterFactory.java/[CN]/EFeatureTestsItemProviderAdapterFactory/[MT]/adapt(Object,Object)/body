{
  if (isFactoryForType(type)) {
    Object adapter=super.adapt(object,type);
    if (!(type instanceof Class<?>) || (((Class<?>)type).isInstance(adapter))) {
      return adapter;
    }
  }
  return null;
}
