{
  if (featureType.getGeometryDescriptor() == null)   return;
  String tableName=featureType.getTypeName();
  String columnName=featureType.getGeometryDescriptor().getName().toString();
  for (  AttributeDescriptor attr : featureType.getAttributeDescriptors()) {
    if (attr instanceof GeometryDescriptor) {
      GeometryDescriptor gDescr=(GeometryDescriptor)attr;
      String srsName=null;
      Integer srsId=(Integer)gDescr.getUserData().get(JDBCDataStore.JDBC_NATIVE_SRID);
      if (srsId != null) {
        PreparedStatement ps1=cx.prepareStatement(SELECT_SRS_NAME_FROM_ID);
        ps1.setInt(1,srsId);
        ResultSet rs=ps1.executeQuery();
        if (rs.next())         srsName=rs.getString(1);
        rs.close();
        ps1.close();
      }
      if (srsName == null && gDescr.getCoordinateReferenceSystem() != null) {
        for (        ReferenceIdentifier ident : gDescr.getCoordinateReferenceSystem().getIdentifiers()) {
          PreparedStatement ps1=cx.prepareStatement(SELECT_SRS_NAME_FROM_ORG);
          ps1.setString(1,ident.getCodeSpace());
          ps1.setInt(2,new Integer(ident.getCode()));
          ResultSet rs=ps1.executeQuery();
          if (rs.next()) {
            srsName=rs.getString(1);
            srsId=rs.getInt(2);
          }
          rs.close();
          ps1.close();
          if (srsName != null)           break;
        }
      }
      if (srsName == null) {
        srsName=DEFAULT_SRS_NAME;
        srsId=DEFAULT_SRS_ID;
      }
      DB2Util.executeRegister(schemaName,tableName,columnName,srsName,cx);
      gDescr.getUserData().put(JDBCDataStore.JDBC_NATIVE_SRID,srsId);
    }
  }
}
