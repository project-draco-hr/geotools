{
  FeatureTypeStyle fs=SLD.defaultStyle(sld).featureTypeStyles().get(0);
  assertThat(fs.rules().size(),is(21));
  Rule first=fs.rules().get(0);
  assertThat(first,allOf(appliesToScale(WGS84_SCALE_DENOMS[0]),not(appliesToScale(WGS84_SCALE_DENOMS[1]))));
  for (int i=1; i < 20; i++) {
    Rule r=fs.rules().get(i);
    assertThat(r,describedAs("rule applies only to level %0 (%1)",allOf(appliesToScale(WGS84_SCALE_DENOMS[i]),not(appliesToScale(WGS84_SCALE_DENOMS[i + 1])),not(appliesToScale(WGS84_SCALE_DENOMS[i + -1]))),i,WGS84_SCALE_DENOMS[i]));
  }
  Rule last=fs.rules().get(20);
  assertThat(last,allOf(appliesToScale(WGS84_SCALE_DENOMS[20]),not(appliesToScale(WGS84_SCALE_DENOMS[19]))));
}
