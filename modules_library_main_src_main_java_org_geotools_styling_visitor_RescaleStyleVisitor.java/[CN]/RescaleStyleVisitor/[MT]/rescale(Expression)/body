{
  if (expr == null) {
    return null;
  }
  if (expr == Expression.NIL) {
    return Expression.NIL;
  }
  Expression rescale=ff.multiply(scale,expr);
  if (expr instanceof Literal && scale instanceof Literal) {
    double constant=(double)rescale.evaluate(null,Double.class);
    return ff.literal(constant);
  }
  return rescale;
}
