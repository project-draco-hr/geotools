{
  if (monitor == null)   monitor=new NullProgressListener();
  Map<String,Object> resultMap=new HashMap<String,Object>(1);
  try {
    monitor.started();
    monitor.setTask(Text.text("Grabbing arguments"));
    monitor.progress(10.0f);
    List<Geometry> list=(List<Geometry>)input.get(UnionFactory.GEOM1.key);
    int div=list.size();
    if (div < 1)     div=1;
    int chunk=80 / div;
    int count=1;
    Geometry result=null;
    for (    Geometry geom : list) {
      if (monitor.isCanceled())       return null;
      if (result == null) {
        result=geom;
      }
 else {
        monitor.setTask(Text.text("Processing Union " + count + " of "+ list.size()));
        count++;
        monitor.progress(10.0f + chunk);
        result=result.union(geom);
      }
    }
    monitor.setTask(Text.text("Encoding result"));
    monitor.progress(90.0f);
    resultMap.put(UnionFactory.RESULT.key,result);
    monitor.complete();
    return resultMap;
  }
 catch (  Exception eek) {
    monitor.exceptionOccurred(eek);
    return null;
  }
 finally {
    monitor.dispose();
  }
}
