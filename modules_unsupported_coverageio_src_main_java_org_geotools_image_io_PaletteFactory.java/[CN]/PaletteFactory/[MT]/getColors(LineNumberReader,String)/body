{
  int values[]=null;
  final LineFormat reader=(locale != null) ? new LineFormat(locale) : new LineFormat();
  final List<Color> colors=new ArrayList<Color>();
  String line;
  while ((line=input.readLine()) != null)   try {
    line=line.trim();
    if (line.length() == 0)     continue;
    if (line.charAt(0) == '#')     continue;
    if (reader.setLine(line) == 0)     continue;
    values=reader.getValues(values);
    int A=255, R, G, B;
switch (values.length) {
case 4:
      A=byteValue(values[3]);
case 3:
    B=byteValue(values[2]);
  G=byteValue(values[1]);
R=byteValue(values[0]);
break;
default :
{
throw syntaxError(input,name,null);
}
}
final Color color;
try {
color=new Color(R,G,B,A);
}
 catch (IllegalArgumentException exception) {
throw syntaxError(input,name,exception);
}
colors.add(color);
}
 catch (ParseException exception) {
throw syntaxError(input,name,exception);
}
return colors.toArray(new Color[colors.size()]);
}
