{
  if (isEOF())   return false;
  if (buffer.position() == buffer.limit()) {
    buffer.position(0);
    buffer.limit((int)Math.min(buffer.limit(),remainingInFile()));
    int read=readChannel.read(buffer);
    if (read != 0)     buffer.position(0);
  }
  return buffer.remaining() != 0;
}
