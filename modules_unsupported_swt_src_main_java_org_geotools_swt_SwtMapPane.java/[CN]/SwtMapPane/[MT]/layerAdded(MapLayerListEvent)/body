{
  if (layerTable != null) {
    layerTable.onAddLayer(event.getElement());
  }
  Layer layer=event.getElement();
  layer.setSelected(true);
  boolean atFullExtent=equalsFullExtent(getDisplayArea());
  boolean firstLayer=content.layers().size() == 1;
  if (firstLayer || atFullExtent) {
    reset();
    if (firstLayer) {
      setCrs(layer.getBounds().getCoordinateReferenceSystem());
      return;
    }
  }
  redraw();
}
