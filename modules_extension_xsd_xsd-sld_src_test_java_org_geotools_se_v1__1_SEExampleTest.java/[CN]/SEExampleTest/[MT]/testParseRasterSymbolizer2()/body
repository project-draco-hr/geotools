{
  RasterSymbolizer sym=(RasterSymbolizer)parse("example-rastersymbolizer2.xml");
  assertEquals(1.0,sym.getOpacity().evaluate(null,Double.class));
  assertEquals(OverlapBehavior.LATEST_ON_TOP,sym.getOverlapBehavior());
  SelectedChannelType[] ch=sym.getChannelSelection().getRGBChannels();
  assertEquals("1",ch[0].getChannelName());
  assertEquals(new Histogram(),ch[0].getContrastEnhancement().getMethod());
  assertEquals("2",ch[1].getChannelName());
  assertEquals(2.5,ch[1].getContrastEnhancement().getGammaValue().evaluate(null,Double.class));
  assertEquals("3",ch[2].getChannelName());
  assertEquals(new Normalize(),ch[2].getContrastEnhancement().getMethod());
  ColorMap map=sym.getColorMap();
  assertNotNull(map);
  assertEquals(2,map.getColorMapEntries().length);
  Color c=map.getColorMapEntry(0).getColor().evaluate(null,Color.class);
  assertEquals(Color.BLACK,c);
  c=map.getColorMapEntry(1).getColor().evaluate(null,Color.class);
  assertEquals(Color.WHITE,c);
  assertEquals(1.0,sym.getContrastEnhancement().getGammaValue().evaluate(null,Double.class));
}
