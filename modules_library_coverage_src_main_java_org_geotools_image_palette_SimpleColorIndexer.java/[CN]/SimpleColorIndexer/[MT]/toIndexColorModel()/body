{
  int bits=(int)Math.ceil(Math.log(colors[0].length) / Math.log(2));
  if (bits == 0) {
    bits=1;
  }
  return new IndexColorModel(bits,colors[0].length,colors[0],colors[1],colors[2],colors[3]);
}
