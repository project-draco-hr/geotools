{
  JPopupMenu menu=new JPopupMenu();
  for (  final ItemInfo info : itemInfo) {
    if (info.configurable) {
      JMenuItem menuItem=new JCheckBoxMenuItem(info.item.getName(),info.showing);
      menuItem.addActionListener(new ActionListener(){
        @Override public void actionPerformed(        ActionEvent e){
          info.showing=!info.showing;
          Rectangle r=info.item.getBounds();
          if (info.showing) {
            add(info.item,info.componentIndex);
          }
 else {
            remove(info.item);
          }
          revalidate();
          repaint(r);
        }
      }
);
      menu.add(menuItem);
    }
  }
  menu.addSeparator();
  JMenuItem menuItem=new JMenuItem(SET_DECIMALS_STRING);
  menuItem.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      setNumDecimals();
    }
  }
);
  menu.add(menuItem);
  return menu;
}
