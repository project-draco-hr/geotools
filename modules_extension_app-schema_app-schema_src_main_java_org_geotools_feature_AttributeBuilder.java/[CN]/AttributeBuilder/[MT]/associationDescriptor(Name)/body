{
  PropertyDescriptor descriptor=Types.descriptor((ComplexType)type,name);
  if (descriptor == null) {
    String msg="Could not locate association: " + name + " in type: "+ type.getName();
    throw new IllegalArgumentException(msg);
  }
  if (!(descriptor instanceof AssociationDescriptor)) {
    String msg=name + " references a non association";
    throw new IllegalArgumentException(msg);
  }
  return (AssociationDescriptor)descriptor;
}
