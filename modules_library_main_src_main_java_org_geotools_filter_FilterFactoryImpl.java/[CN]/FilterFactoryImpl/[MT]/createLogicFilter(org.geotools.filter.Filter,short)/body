{
  List children=new ArrayList();
  children.add(filter);
switch (filterType) {
case FilterType.LOGIC_AND:
    return new AndImpl(this,children);
case FilterType.LOGIC_OR:
  return new OrImpl(this,children);
case FilterType.LOGIC_NOT:
return new NotImpl(this,filter);
}
throw new IllegalFilterException("Must be one of AND,OR,NOT.");
}
