{
  ShapefileRenderer renderer=createLineRenderer(TestUtilites.getLines());
  MapContext context=renderer.getContext();
  TestUtilites.CountingRenderListener l1=new TestUtilites.CountingRenderListener(getName());
  renderer.addRenderListener(l1);
  BufferedImage image=new BufferedImage(300,300,BufferedImage.TYPE_3BYTE_BGR);
  renderer.paint(image.createGraphics(),new Rectangle(300,300),context.getAreaOfInterest());
  renderer.removeRenderListener(l1);
  TestUtilites.CountingRenderListener l2=new TestUtilites.CountingRenderListener(getName());
  renderer.addRenderListener(l2);
  ReferencedEnvelope old=context.getAreaOfInterest();
  double w=old.getWidth() / 4;
  double h=old.getHeight() / 4;
  ReferencedEnvelope env=new ReferencedEnvelope(old.getCenter(0) - w,old.getCenter(0) + w,old.getCenter(1) - h,old.getCenter(1) + h,old.getCoordinateReferenceSystem());
  renderer.paint(image.createGraphics(),new Rectangle(300,300),env);
  assertTrue(l1.count > l2.count);
}
