{
  if (typeName == null)   throw new NullPointerException("TypeName cannot be null");
  if (typeName.equals(TBL_CHANGESETS) && versioned)   throw new IOException(TBL_CHANGESETS + " is exposed as a log facility, and cannot be versioned");
  if (isVersioned(typeName) == versioned)   return;
  if (versioned) {
    enableVersioning(typeName,author,message);
  }
 else {
    disableVersioning(typeName,author,message);
  }
  versionedMap.put(typeName,Boolean.valueOf(versioned));
}
