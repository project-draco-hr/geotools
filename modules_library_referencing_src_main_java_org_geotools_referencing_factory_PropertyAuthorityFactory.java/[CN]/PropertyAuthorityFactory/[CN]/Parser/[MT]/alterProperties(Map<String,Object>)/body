{
  Object candidate=properties.get(IdentifiedObject.IDENTIFIERS_KEY);
  if (candidate == null && code != null) {
    properties=new HashMap<String,Object>(properties);
    code=trimAuthority(code);
    final Object identifiers;
    if (authorities.length <= 1) {
      identifiers=new NamedIdentifier(authority,code);
    }
 else {
      final NamedIdentifier[] ids=new NamedIdentifier[authorities.length];
      for (int i=0; i < ids.length; i++) {
        ids[i]=new NamedIdentifier(authorities[i],code);
      }
      identifiers=ids;
    }
    properties.put(IdentifiedObject.IDENTIFIERS_KEY,identifiers);
  }
  return super.alterProperties(properties);
}
