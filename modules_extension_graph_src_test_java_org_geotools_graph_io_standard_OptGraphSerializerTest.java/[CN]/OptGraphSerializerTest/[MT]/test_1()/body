{
  final int k=5;
  GraphTestUtil.buildPerfectBinaryTree(builder(),k);
  try {
    File victim=File.createTempFile("graph",null);
    victim.deleteOnExit();
    serializer().setProperty(SerializedReaderWriter.FILENAME,victim.getAbsolutePath());
    serializer().write(builder().getGraph());
    Graph before=builder().getGraph();
    Graph after=serializer().read();
    assertTrue(after.getNodesOfDegree(2).size() == 1);
    assertTrue(after.getNodesOfDegree(3).size() == Math.pow(2,k) - 2);
    assertTrue(after.getNodesOfDegree(1).size() == Math.pow(2,k));
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
