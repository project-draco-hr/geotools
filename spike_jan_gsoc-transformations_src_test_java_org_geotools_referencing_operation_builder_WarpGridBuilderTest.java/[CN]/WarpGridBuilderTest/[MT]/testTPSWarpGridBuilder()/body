{
  try {
    Envelope env=new Envelope2D(crs,0,0,2000,3000);
    List<MappedPosition> mp=generateMappedPositions(env,10,1,crs);
    GeneralMatrix M=new GeneralMatrix(3,3);
    double[] m0={1,0,0};
    double[] m1={0,1,0};
    double[] m2={0,0,1};
    M.setRow(0,m0);
    M.setRow(1,m1);
    M.setRow(2,m2);
    WarpGridBuilder builder=new TPSGridBuilder(mp,10,10,env,ProjectiveTransform.create(M));
    GridCoverage2D dx=(new GridCoverageFactory()).create("tps - dx",builder.getDxGrid(),env);
    GridCoverage2D dy=(new GridCoverageFactory()).create("tps - dy",builder.getDyGrid(),env);
    if (show == true) {
      dx.show();
      dy.show();
    }
    if (write == true) {
      WorldImageWriter writerx=new WorldImageWriter((Object)(new File(path + "tpsdx.png")));
      writerx.write(dx,null);
      WorldImageWriter writery=new WorldImageWriter((Object)(new File(path + "tpsdy.png")));
      writery.write(dy,null);
    }
    assertBuilder(builder);
    assertInverse(builder);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
