{
  ensureNonNull("env",env);
  if (factory == null) {
    factory=new GeometryFactory();
  }
  Polygon polygon=factory.createPolygon(factory.createLinearRing(new Coordinate[]{new Coordinate(env.getMinX(),env.getMinY()),new Coordinate(env.getMaxX(),env.getMinY()),new Coordinate(env.getMaxX(),env.getMaxY()),new Coordinate(env.getMinX(),env.getMaxY()),new Coordinate(env.getMinX(),env.getMinY())}),null);
  if (env instanceof ReferencedEnvelope) {
    ReferencedEnvelope refEnv=(ReferencedEnvelope)env;
    polygon.setUserData(refEnv.getCoordinateReferenceSystem());
  }
  return polygon;
}
