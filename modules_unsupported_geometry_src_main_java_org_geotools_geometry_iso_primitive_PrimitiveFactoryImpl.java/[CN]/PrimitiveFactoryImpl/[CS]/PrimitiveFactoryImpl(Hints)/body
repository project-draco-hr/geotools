{
  if (hints == null) {
    this.crs=DefaultGeographicCRS.WGS84;
    hints=GeoTools.getDefaultHints();
    hints.put(Hints.CRS,crs);
    geomValidate=true;
    hints.put(Hints.GEOMETRY_VALIDATE,geomValidate);
  }
 else {
    this.crs=(CoordinateReferenceSystem)hints.get(Hints.CRS);
    if (crs == null) {
      throw new NullPointerException("A CRS Hint is required in order to use PrimitiveFactoryImpl");
    }
    geomValidate=(Boolean)hints.get(Hints.GEOMETRY_VALIDATE);
    if (geomValidate == null) {
      geomValidate=true;
    }
  }
  this.positionFactory=GeometryFactoryFinder.getPositionFactory(hints);
  hintsWeCareAbout.put(Hints.CRS,crs);
  hintsWeCareAbout.put(Hints.POSITION_FACTORY,positionFactory);
  hintsWeCareAbout.put(Hints.GEOMETRY_VALIDATE,geomValidate);
}
