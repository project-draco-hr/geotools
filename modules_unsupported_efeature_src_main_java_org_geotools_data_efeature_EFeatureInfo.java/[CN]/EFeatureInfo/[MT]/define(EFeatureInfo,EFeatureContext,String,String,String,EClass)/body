{
  eInfo.eNsURI=eNsURI;
  eInfo.eDomainID=eDomainID;
  eInfo.eFolderName=eFolderName;
  eInfo.eClassName=eClass.getName();
  eInfo.eClass=new WeakReference<EClass>(eClass);
  EAttribute eIDAttribute=eGetIDAttribute(eClass,eInfo.eHints);
  eInfo.eIDAttributeName=eIDAttribute.getName();
  EAttribute eSRIDAttribute=eGetSRIDAttribute(eClass,eInfo.eHints);
  eInfo.eSRIDAttributeName=eSRIDAttribute.getName();
  EAttribute eDefaultAttribute=eGetDefaultAttribute(eClass,eInfo.eHints);
  eInfo.eDefaultAttributeName=eDefaultAttribute.getName();
  EList<EAttribute> eAttributes=eClass.getEAllAttributes();
  eInfo.eAttributeInfoMap=attributes(eInfo,eAttributes);
  eInfo.eGeometryInfoMap=geometries(eInfo,eAttributes);
  eContext.eIDFactory().add(eClass,eIDAttribute);
  eContext.eStructure().doAttach(eInfo);
  return eInfo;
}
