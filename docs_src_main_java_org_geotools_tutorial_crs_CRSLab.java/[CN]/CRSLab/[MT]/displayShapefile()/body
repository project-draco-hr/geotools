{
  sourceFile=JFileDataStoreChooser.showOpenFile("shp",null);
  if (sourceFile == null) {
    return;
  }
  FileDataStore store=FileDataStoreFinder.getDataStore(sourceFile);
  featureSource=store.getFeatureSource();
  map=new MapContent();
  Style style=SLD.createSimpleStyle(featureSource.getSchema());
  Layer layer=new FeatureLayer(featureSource,style);
  map.layers().add(layer);
  JMapFrame mapFrame=new JMapFrame(map);
  mapFrame.enableToolBar(true);
  mapFrame.enableStatusBar(true);
  JToolBar toolbar=mapFrame.getToolBar();
  toolbar.addSeparator();
  toolbar.add(new JButton(new ValidateGeometryAction()));
  toolbar.add(new JButton(new ExportShapefileAction()));
  mapFrame.setSize(800,600);
  mapFrame.setVisible(true);
}
