{
  ComplexType complex;
  if (o instanceof AttributeDescriptor) {
    AttributeDescriptor node=(AttributeDescriptor)o;
    if (node.getName().getLocalPart().equals(propName)) {
      return node;
    }
    if (!(node.getType() instanceof ComplexType)) {
      throw new IllegalArgumentException("can't ask for property " + propName + " of a non complex type: "+ node.getType());
    }
    complex=(ComplexType)node.getType();
  }
 else   if (o instanceof ComplexType) {
    complex=(ComplexType)o;
  }
 else {
    throw new RuntimeException("Unexpected type passed to binding");
  }
  return Types.descriptor(complex,propName);
}
