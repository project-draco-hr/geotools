{
  ReferencedEnvelope worldBounds=null;
  try {
    worldBounds=getMapContext().getLayerBounds();
  }
 catch (  IOException ex) {
    throw new IllegalStateException(ex);
  }
  CoordinateReferenceSystem crs=worldBounds.getCoordinateReferenceSystem();
  Rectangle screenBounds=getVisibleRect();
  int w=SPRITE_IMAGE.getWidth(null);
  int h=SPRITE_IMAGE.getHeight(null);
  int x=screenBounds.x + rand.nextInt(screenBounds.width - w);
  int y=screenBounds.y + rand.nextInt(screenBounds.height - h);
  Rectangle r=new Rectangle(x,y,w,h);
  AffineTransform tr=getScreenToWorldTransform();
  Rectangle2D rworld=tr.createTransformedShape(r).getBounds2D();
  spriteEnv=new ReferencedEnvelope(rworld,crs);
}
