{
  ReferencedEnvelope displayArea=getDisplayArea();
  DirectPosition2D lower=new DirectPosition2D();
  DirectPosition2D upper=new DirectPosition2D();
  double xdelta=0, ydelta=0;
  boolean done=false;
  while (!done) {
    lower.setLocation(spriteEnv.getLowerCorner());
    upper.setLocation(spriteEnv.getUpperCorner());
    xdelta=xdir * movementDistance;
    ydelta=ydir * movementDistance;
    lower.setLocation(lower.getX() + xdelta,lower.getY() + ydelta);
    upper.setLocation(upper.getX() + xdelta,upper.getY() + ydelta);
    boolean lowerIn=displayArea.contains(lower);
    boolean upperIn=displayArea.contains(upper);
    if (lowerIn && upperIn) {
      done=true;
    }
 else     if (!lowerIn) {
      if (lower.x < displayArea.getMinX()) {
        xdir=-xdir;
      }
 else       if (lower.y < displayArea.getMinY()) {
        ydir=-ydir;
      }
    }
 else     if (!upperIn) {
      if (upper.x > displayArea.getMaxX()) {
        xdir=-xdir;
      }
 else       if (upper.y > displayArea.getMaxY()) {
        ydir=-ydir;
      }
    }
  }
  spriteEnv.translate(xdelta,ydelta);
}
