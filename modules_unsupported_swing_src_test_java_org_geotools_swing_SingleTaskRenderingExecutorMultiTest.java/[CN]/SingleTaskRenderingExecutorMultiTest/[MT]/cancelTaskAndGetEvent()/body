{
  createSubmitObjects();
  long time=(long)(WAIT_TIMEOUT * 0.5 * rand.nextDouble());
  renderer.setPaintTime(time);
  renderer.setVerbose(false);
  listener.setExpected(WaitingRenderingExecutorListener.EventType.STARTED);
  listener.setExpected(WaitingRenderingExecutorListener.EventType.CANCELLED);
  long id=executor.submit(mapContent,renderer,graphics,listener);
  assertTrue(listener.await(WaitingRenderingExecutorListener.EventType.STARTED,WAIT_TIMEOUT));
  executor.cancel(id);
  boolean gotCancel=listener.await(WaitingRenderingExecutorListener.EventType.CANCELLED,WAIT_TIMEOUT);
  assertTrue(gotCancel || listener.eventReceived(WaitingRenderingExecutorListener.EventType.COMPLETED));
}
