{
  LOGGER.finer("incoming message: " + message);
  LOGGER.finer("should read chars: " + readChars);
  if (readChars) {
    if (curExprssn instanceof AttributeExpression) {
      LOGGER.finer("...");
      String[] splitName=message.split("[.:/]");
      String newAttName=message;
      if (splitName.length == 1) {
        newAttName=splitName[0];
      }
 else {
        newAttName=splitName[splitName.length - 1];
      }
      LOGGER.finer("setting attribute expression: " + newAttName);
      ((AttributeExpression)curExprssn).setAttributePath(newAttName);
      LOGGER.finer("...");
      currentState="complete";
      LOGGER.finer("...");
    }
 else     if (curExprssn instanceof LiteralExpression) {
      if (convertToNumber) {
        try {
          Object temp=new Integer(message);
          ((LiteralExpression)curExprssn).setLiteral(temp);
          currentState="complete";
        }
 catch (        NumberFormatException nfe1) {
          try {
            Object temp=new Double(message);
            ((LiteralExpression)curExprssn).setLiteral(temp);
            currentState="complete";
          }
 catch (          NumberFormatException nfe2) {
            Object temp=message;
            ((LiteralExpression)curExprssn).setLiteral(temp);
            currentState="complete";
          }
        }
      }
 else {
        Object temp=message;
        ((LiteralExpression)curExprssn).setLiteral(temp);
        currentState="complete";
      }
    }
 else     if (expFactory != null) {
      expFactory.message(message,convertToNumber);
    }
  }
 else   if (expFactory != null) {
    expFactory.message(message,convertToNumber);
  }
}
