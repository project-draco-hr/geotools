{
  Transaction trans=null;
  assertNull(test2c);
  try {
    SimpleFeatureStore store=(SimpleFeatureStore)versioned.getFeatureSource(testName);
    trans=new DefaultTransaction("DecoratedTestCase.finalTestFeatureUpate()");
    store.setTransaction(trans);
    FilterFactory2 ff=new FilterFactoryImpl();
    Filter filter=ff.id(ff.featureId(idT2));
    store.modifyFeatures("st",newString3,filter);
    trans.commit();
    SimpleFeatureBuilder fb=new SimpleFeatureBuilder(testType);
    test2c=fb.copy(test2b);
    test2c.setAttribute("st",newString3);
  }
 catch (  Exception ex) {
    if (trans != null)     trans.rollback();
    throw ex;
  }
 finally {
    if (trans != null)     trans.close();
  }
}
