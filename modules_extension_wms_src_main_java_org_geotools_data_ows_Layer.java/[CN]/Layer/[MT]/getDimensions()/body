{
  if (allDimensionsCache == null) {
    Layer layer=this;
    allDimensionsCache=new HashMap<String,Dimension>();
    while (layer != null) {
      for (      Dimension dimension : layer.getLayerDimensions()) {
        allDimensionsCache.put(dimension.getName(),dimension);
      }
      layer=layer.getParent();
    }
  }
  return Collections.unmodifiableMap(allDimensionsCache);
}
