{
  FilterFactory ff=dataStore.getFilterFactory();
  Filter f=ff.equals(ff.property(aname("intProperty")),ff.literal(1));
  SimpleFeatureCollection sub=collection.subCollection(f);
  assertNotNull(sub);
  assertEquals(1,sub.size());
  ReferencedEnvelope exp=new ReferencedEnvelope(1,1,1,1,CRS.decode("EPSG:4326"));
  ReferencedEnvelope act=sub.getBounds();
  assertEquals(exp.getMinX(),act.getMinX(),0.1);
  assertEquals(exp.getMinY(),act.getMinY(),0.1);
  assertEquals(exp.getMaxX(),act.getMaxX(),0.1);
  assertEquals(exp.getMaxY(),act.getMaxY(),0.1);
  sub.clear();
  assertEquals(2,collection.size());
}
