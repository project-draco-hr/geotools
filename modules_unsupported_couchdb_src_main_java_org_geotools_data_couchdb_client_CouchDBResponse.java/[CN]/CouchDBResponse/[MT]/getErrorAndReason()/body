{
  if (!isHttpOK()) {
    JSONObject err=(JSONObject)json;
    String res=null;
    if (err.containsKey("error")) {
      res=err.get("error").toString();
    }
    if (err.containsKey("reason")) {
      res=res == null ? "" : res + ",";
      res=res + err.get("reason").toString();
    }
    if (res == null) {
      res=err.toJSONString();
    }
    return res;
  }
 else {
    throw new IllegalStateException("not an error");
  }
}
