{
  LOGGER.finer("exporting SQL ComparisonFilter");
  DefaultExpression left=(DefaultExpression)filter.getLeftValue();
  DefaultExpression right=(DefaultExpression)filter.getRightValue();
  LOGGER.finer("Filter type id is " + filter.getFilterType());
  LOGGER.finer("Filter type text is " + comparisions.get(new Integer(filter.getFilterType())));
  String type=(String)comparisions.get(new Integer(filter.getFilterType()));
  try {
    if ((right == null) && (filter.getFilterType() == FilterType.COMPARE_EQUALS)) {
      left.accept(this);
      out.write(" isnull");
    }
 else {
      if (!filter.isMatchingCase()) {
        if (filter.getFilterType() == Filter.COMPARE_EQUALS || filter.getFilterType() == Filter.COMPARE_NOT_EQUALS) {
          if (left.getType() == Expression.LITERAL_STRING || right.getType() == Expression.LITERAL_STRING) {
            out.write("lower(");
            left.accept(this);
            out.write(")");
            out.write(" " + type + " ");
            out.write("lower(");
            right.accept(this);
            out.write(")");
            return;
          }
        }
      }
      left.accept(this);
      out.write(" " + type + " ");
      right.accept(this);
    }
  }
 catch (  java.io.IOException ioe) {
    throw new RuntimeException(IO_ERROR,ioe);
  }
}
