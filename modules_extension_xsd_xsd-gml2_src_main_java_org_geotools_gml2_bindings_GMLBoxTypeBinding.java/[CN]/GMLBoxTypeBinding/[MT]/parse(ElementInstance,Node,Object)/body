{
  List coordinates=node.getChildren("coord");
  if (!coordinates.isEmpty() && (coordinates.size() == 2)) {
    Node n1=(Node)coordinates.get(0);
    Node n2=(Node)coordinates.get(1);
    Coordinate c1=(Coordinate)n1.getValue();
    Coordinate c2=(Coordinate)n2.getValue();
    return new Envelope(c1.x,c2.x,c1.y,c2.y);
  }
  if (!coordinates.isEmpty()) {
    throw new RuntimeException("Envelope can have only two coordinates");
  }
  if (node.getChild("coordinates") != null) {
    CoordinateSequence cs=(CoordinateSequence)node.getChild("coordinates").getValue();
    if (cs.size() != 2) {
      throw new RuntimeException("Envelope can have only two coordinates");
    }
    return new Envelope(cs.getX(0),cs.getX(1),cs.getY(0),cs.getY(1));
  }
  throw new RuntimeException("Could not find coordinates for envelope");
}
