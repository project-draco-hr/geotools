{
  Edge existingEdge=edgeList.findEqualEdge(e);
  if (existingEdge != null) {
    Label existingLabel=existingEdge.getLabel();
    Label labelToMerge=e.getLabel();
    if (!existingEdge.isPointwiseEqual(e)) {
      labelToMerge=new Label(e.getLabel());
      labelToMerge.flip();
    }
    Depth depth=existingEdge.getDepth();
    if (depth.isNull()) {
      depth.add(existingLabel);
    }
    depth.add(labelToMerge);
    existingLabel.merge(labelToMerge);
  }
 else {
    edgeList.add(e);
  }
}
