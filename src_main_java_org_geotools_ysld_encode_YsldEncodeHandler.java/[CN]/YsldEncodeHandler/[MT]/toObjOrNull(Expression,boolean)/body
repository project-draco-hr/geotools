{
  String str=!isNull(expr) ? ECQL.toCQL(expr) : null;
  if (expr instanceof Literal && str != null && (isname || isNumericLiteral(expr))) {
    str=stripQuotes(str);
  }
  if (isname && expr instanceof PropertyName && str != null && !str.isEmpty() && !str.startsWith("[")) {
    str=String.format("[%s]",str);
  }
  Object result=makeNumberIfPossible(str);
  return result;
}
