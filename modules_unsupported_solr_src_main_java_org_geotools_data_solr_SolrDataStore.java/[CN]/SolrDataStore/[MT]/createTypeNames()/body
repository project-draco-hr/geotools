{
  try {
    if (typeNames == null || typeNames.isEmpty()) {
      typeNames=new ArrayList<Name>();
      HttpSolrServer server=new HttpSolrServer(url.toString());
      SolrQuery query=new SolrQuery();
      query.setQuery("*:*");
      query.addFacetField(field);
      query.setFacet(true);
      query.setFacetMinCount(1);
      query.setFacetSort(FacetParams.FACET_SORT_INDEX);
      query.setRows(0);
      query.setParam("omitHeader",true);
      QueryResponse rsp=server.query(query);
      if (LOGGER.isLoggable(Level.FINE)) {
        LOGGER.log(Level.FINE,"SOLR query done: " + query.toString());
      }
      List<Count> uniqueFacetFields=rsp.getFacetFields().get(0).getValues();
      for (      Count field : uniqueFacetFields) {
        typeNames.add(new NameImpl(namespaceURI,field.getName()));
      }
      server.shutdown();
    }
  }
 catch (  Exception ex) {
    LOGGER.log(Level.SEVERE,ex.getMessage(),ex);
  }
  return typeNames;
}
