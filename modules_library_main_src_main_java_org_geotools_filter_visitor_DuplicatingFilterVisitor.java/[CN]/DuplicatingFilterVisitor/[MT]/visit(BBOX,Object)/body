{
  Expression propertyName=visit(filter.getExpression1(),extraData);
  if (!(filter instanceof BBOX3D)) {
    double minx=filter.getMinX();
    double miny=filter.getMinY();
    double maxx=filter.getMaxX();
    double maxy=filter.getMaxY();
    String srs=filter.getSRS();
    return getFactory(extraData).bbox(propertyName,minx,miny,maxx,maxy,srs,filter.getMatchAction());
  }
  return getFactory(extraData).bbox(propertyName,filter.getBounds());
}
