{
  Class<?> c=getActualTypeArgument(method.getGenericReturnType());
  if (c == null) {
    final Type[] parameters=method.getGenericParameterTypes();
    if (parameters != null && parameters.length == 1) {
      c=getActualTypeArgument(parameters[0]);
    }
  }
  return c;
}
