{
  if (file.exists()) {
    boolean deleted=file.delete();
    if (!deleted) {
      System.err.println("Unable to replace " + file);
      return false;
    }
  }
  BufferedWriter writer=null;
  try {
    writer=new BufferedWriter(new FileWriter(file));
    writer.write(text);
  }
 catch (  IOException eek) {
    System.out.println("Trouble writing modified '" + file + "':"+ eek);
    return false;
  }
 finally {
    close(writer);
  }
  return true;
}
