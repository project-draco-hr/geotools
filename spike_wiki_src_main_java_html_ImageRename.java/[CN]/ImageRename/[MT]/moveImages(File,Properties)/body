{
  Map<String,String> renamed=new HashMap<String,String>();
  for (  Entry<Object,Object> entry : list.entrySet()) {
    String from=trimExtension((String)entry.getKey());
    String extension=extension((String)entry.getKey());
    String to=trimExtension((String)entry.getValue());
    if (to.isEmpty())     continue;
    File file=new File(images,from + extension);
    File move=new File(images,to + extension);
    if (!file.exists()) {
      if (move.exists()) {
        renamed.put(from,to);
        continue;
      }
 else {
        System.out.println("Unable to locate " + file + " to rename to "+ to);
        continue;
      }
    }
 else {
      boolean moved=file.renameTo(move);
      if (moved) {
        renamed.put(from,to);
      }
    }
  }
  return renamed;
}
