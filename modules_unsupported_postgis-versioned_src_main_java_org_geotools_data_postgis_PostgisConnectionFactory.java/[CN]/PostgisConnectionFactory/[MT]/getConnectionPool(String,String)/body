{
  org.postgresql.jdbc2.optional.ConnectionPool poolDataSource=null;
  String dbUrl=connPath;
  String poolKey=dbUrl + user + pass;
  LOGGER.fine("looking up pool key " + poolKey);
  Object poolDS=dataSources.get(poolKey);
  poolDataSource=(org.postgresql.jdbc2.optional.ConnectionPool)poolDS;
  LOGGER.fine("pool is " + poolDataSource);
  if (poolDataSource == null) {
    poolDataSource=new org.postgresql.jdbc2.optional.ConnectionPool();
    poolDataSource.setServerName(host);
    poolDataSource.setDatabaseName(dbName);
    poolDataSource.setPortNumber(port);
    poolDataSource.setUser(user);
    poolDataSource.setPassword(pass);
    poolDataSource.setDefaultAutoCommit(true);
    dataSources.put(poolKey,poolDataSource);
  }
  ConnectionPoolManager manager=ConnectionPoolManager.getInstance();
  ConnectionPool connectionPool=manager.getConnectionPool(poolDataSource);
  return connectionPool;
}
