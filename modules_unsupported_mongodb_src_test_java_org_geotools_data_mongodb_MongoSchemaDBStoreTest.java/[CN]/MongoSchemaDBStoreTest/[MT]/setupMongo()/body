{
  String portAsString=System.getProperty("embedmongo.port");
  String hostAsString;
  if (portAsString == null) {
    portAsString=System.getProperty("mongo.port");
    hostAsString=System.getProperty("mongo.host");
  }
 else {
    hostAsString="localhost";
  }
  if (hostAsString != null) {
    port=portAsString == null || portAsString.isEmpty() ? 27017 : Integer.parseInt(portAsString);
    MongoClientURI clientURI=generateURI("localhost",port,null,null);
    try {
      client=new MongoClient(clientURI);
      defaultDBExists=client.getDatabaseNames().contains(DEFAULT_databaseName);
      if (defaultDBExists) {
        defaultCollectionExists=client.getDB(DEFAULT_databaseName).collectionExists(DEFAULT_collectionName);
      }
      System.out.println("Performing " + MongoSchemaDBStoreTest.class.getSimpleName() + " tests with "+ clientURI);
    }
 catch (    Exception e) {
      client=null;
      System.err.println("Exception initializing " + MongoSchemaDBStoreTest.class.getSimpleName() + " tests with "+ clientURI+ ": "+ e);
    }
catch (    Error e) {
      client=null;
      System.out.println("Error initializing " + MongoSchemaDBStoreTest.class.getSimpleName() + " tests with "+ clientURI+ ": "+ e);
    }
  }
}
