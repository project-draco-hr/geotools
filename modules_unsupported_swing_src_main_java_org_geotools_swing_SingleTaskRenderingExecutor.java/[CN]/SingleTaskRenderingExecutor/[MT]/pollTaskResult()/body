{
  if (taskFuture == null) {
    return;
  }
 else   if (!taskFuture.isDone()) {
    notifyStarted(false);
    return;
  }
  notifyStarted(true);
  RenderingTask.Status result=null;
  long taskId=task.getId();
  try {
    result=taskFuture.get();
  }
 catch (  Exception ex) {
    throw new IllegalStateException("When getting rendering result",ex);
  }
  taskFuture=null;
  cancelLatch.countDown();
  RenderingExecutorEvent event=new RenderingExecutorEvent(this,taskId);
switch (result) {
case CANCELLED:
    listener.onRenderingCancelled(event);
  break;
case COMPLETED:
listener.onRenderingCompleted(event);
break;
case FAILED:
listener.onRenderingFailed(event);
break;
}
}
