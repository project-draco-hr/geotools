{
  boolean found=false;
  if (input instanceof FileImageInputStreamExtImpl) {
    input=((FileImageInputStreamExtImpl)input).getFile();
  }
  if (input instanceof File) {
    final NetcdfDataset dataset=NetCDFUtilities.getDataset(input);
    if (dataset != null) {
      if (!(dataset.getIosp() instanceof H4iosp))       return false;
      try {
        found=isValidDataset(dataset);
      }
  finally {
        try {
          dataset.close();
        }
 catch (        Throwable e) {
          if (LOGGER.isLoggable(Level.FINE))           LOGGER.log(Level.FINE,e.getLocalizedMessage(),e);
        }
      }
    }
  }
  return found;
}
