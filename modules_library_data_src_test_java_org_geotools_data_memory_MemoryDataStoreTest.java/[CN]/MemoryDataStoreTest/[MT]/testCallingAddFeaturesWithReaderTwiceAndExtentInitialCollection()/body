{
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=DataUtilities.reader(roadFeatures);
  MemoryDataStore mds=new MemoryDataStore(reader);
  assertEquals(roadFeatures.length,mds.features(roadType.getTypeName()).size());
  FeatureReader<SimpleFeatureType,SimpleFeature> secondReader=DataUtilities.reader(new SimpleFeature[]{SimpleFeatureBuilder.template(roadType,null)});
  mds.addFeatures(secondReader);
  Map<String,SimpleFeature> features=mds.features("road");
  assertEquals(roadFeatures.length + 1,features.size());
}
