{
  super(content,null);
  Object source=null;
  try {
    if (layer instanceof GridCoverageLayer) {
      sourceType=SourceType.COVERAGE;
      sourceRef=new WeakReference<Object>(((GridCoverageLayer)layer).getCoverage());
    }
 else     if (layer instanceof GridReaderLayer) {
      sourceType=SourceType.READER;
      sourceRef=new WeakReference<Object>(((GridReaderLayer)layer).getReader());
    }
 else {
      throw new IllegalArgumentException("Unrecognized raster layer type");
    }
  }
 catch (  Exception ex) {
    throw new IllegalArgumentException(ex);
  }
  setCRS(layer.getBounds().getCoordinateReferenceSystem());
}
