{
  final int width=500;
  final int height=500;
  WritableRaster raster=RasterFactory.createBandedRaster(DataBuffer.TYPE_FLOAT,width,height,1,null);
  for (int y=0; y < height; y++) {
    for (int x=0; x < width; x++) {
      raster.setSample(x,y,0,x + y);
    }
  }
  CoordinateReferenceSystem crs=DefaultGeographicCRS.WGS84;
  Envelope envelope=new Envelope2D(crs,0,0,30,30);
  GridCoverageFactory factory=CoverageFactoryFinder.getGridCoverageFactory(null);
  GridCoverage gc=factory.create("My grayscale coverage",raster,envelope);
  ((GridCoverage2D)gc).show();
  Color[] colors=new Color[]{Color.BLUE,Color.CYAN,Color.WHITE,Color.YELLOW,Color.RED};
  gc=factory.create("My colored coverage",raster,envelope,null,null,null,new Color[][]{colors},null);
  ((GridCoverage2D)gc).geophysics(false).show();
}
