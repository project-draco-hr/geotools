{
  URL url=TestData.url(STATE_POP);
  ShapefileDataStore s=new ShapefileDataStore(url);
  Filter cf=ff.equals(ff.property("STATE_NAME"),ff.literal("Illinois"));
  Query query=new Query(s.getSchema().getTypeName(),cf,Query.NO_PROPERTIES);
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=s.getFeatureReader(s.getSchema().getTypeName(),query);
  assertEquals(1,reader.getFeatureType().getAttributeCount());
  assertNotNull(reader.getFeatureType().getDescriptor("STATE_NAME"));
  reader.close();
  s.dispose();
}
