{
  FeatureTypeStyleBuilder fts=new FeatureTypeStyleBuilder();
  RuleBuilder rule=fts.rule();
  rule.line().stroke().colorHex("#000000");
  LineSymbolizerBuilder line=rule.line();
  line.stroke().colorHex("#FF0000").dashArray(5,2);
  line.perpendicularOffset(5);
  FeatureTypeStyle style=fts.build();
  StyleCollector collector=new StyleCollector();
  style.accept(collector);
  assertEquals(1,collector.rules.size());
  assertEquals(2,collector.symbolizers.size());
  LineSymbolizer ls=(LineSymbolizer)collector.symbolizers.get(1);
  assertEquals(5,ls.getPerpendicularOffset().evaluate(null,Double.class),0d);
}
