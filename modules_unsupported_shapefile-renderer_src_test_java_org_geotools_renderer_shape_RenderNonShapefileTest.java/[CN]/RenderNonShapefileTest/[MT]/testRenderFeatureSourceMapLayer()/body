{
  MemoryDataStore store=new MemoryDataStore();
  IndexedShapefileDataStore polys=TestUtilites.getPolygons();
  SimpleFeatureCollection featureCollection=polys.getFeatureSource().getFeatures();
  store.createSchema(polys.getSchema());
  SimpleFeatureSource target=store.getFeatureSource(store.getTypeNames()[0]);
  ((SimpleFeatureStore)target).addFeatures(featureCollection);
  Style testStyle=TestUtilites.createTestStyle(target.getSchema().getTypeName(),null);
  MapLayer layer=new DefaultMapLayer(new FeatureLayer(target,testStyle));
  MapContext context=new DefaultMapContext(new MapLayer[]{layer},polys.getSchema().getCoordinateReferenceSystem());
  ShapefileRenderer renderer=new ShapefileRenderer(context);
  Envelope env=context.getLayerBounds();
  env=new Envelope(env.getMinX(),env.getMaxX(),env.getMinY(),env.getMaxY());
  TestUtilites.showRender("testSimpleRender",renderer,1000,env);
}
