{
  MBTilesFile file=new MBTilesFile();
  file.init();
  MBTilesTile tile1=new MBTilesTile(1,0,0);
  tile1.setData("dummy data 1".getBytes());
  MBTilesTile tile2=new MBTilesTile(2,0,1);
  tile2.setData("dummy data 2".getBytes());
  file.saveTile(tile1);
  file.saveTile(tile2);
  MBTilesTile testTile=file.loadTile(1,0,0);
  assertTrue(Arrays.equals(tile1.getData(),testTile.getData()));
  testTile=file.loadTile(2,0,1);
  assertTrue(Arrays.equals(tile2.getData(),testTile.getData()));
  assertEquals(2,file.numberOfTiles());
  MBTilesFile.TileIterator it=file.tiles();
  assertTrue(it.hasNext());
  assertNotNull(it.next());
  assertTrue(it.hasNext());
  assertNotNull(it.next());
  assertFalse(it.hasNext());
  assertEquals(2,file.maxZoom());
  assertEquals(2,file.closestZoom(5));
  assertEquals(1,file.closestZoom(1));
  assertEquals(0,file.minColumn(1));
  assertEquals(0,file.maxColumn(2));
  assertEquals(0,file.minRow(1));
  assertEquals(1,file.maxRow(2));
  file.close();
}
