{
  if (registry == null) {
    throw new UnsupportedOperationException("This method is only for registered data access. " + "You need to register the data access that has mapping for: " + featureTypeName.toString());
  }
  for (  DataAccess<FeatureType,Feature> dataAccess : registry) {
    if (dataAccess.getNames().contains(featureTypeName)) {
      if (dataAccess instanceof AppSchemaDataAccess) {
        return ((AppSchemaDataAccess)dataAccess).getFeatureSourceByName(featureTypeName);
      }
 else {
        return dataAccess.getFeatureSource(featureTypeName);
      }
    }
  }
  throwDataSourceException(featureTypeName);
  return null;
}
