{
  MapLayer layer=event.getLayer();
  if (layerTable != null) {
    layerTable.onRemoveLayer(layer);
  }
  if (layer instanceof ComponentListener) {
    addComponentListener((ComponentListener)layer);
  }
  if (context.getLayerCount() == 0) {
    clearFields();
  }
 else {
    setFullExtent();
  }
  drawBaseImage(false);
  repaint();
}
