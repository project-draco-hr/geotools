{
  if (newRenderer != null) {
    Map<Object,Object> hints=newRenderer.getRendererHints();
    if (hints == null) {
      hints=new HashMap<Object,Object>();
    }
    if (newRenderer instanceof StreamingRenderer) {
      if (hints.containsKey(StreamingRenderer.LABEL_CACHE_KEY)) {
        labelCache=(LabelCache)hints.get(StreamingRenderer.LABEL_CACHE_KEY);
      }
 else {
        labelCache=new LabelCacheImpl();
        hints.put(StreamingRenderer.LABEL_CACHE_KEY,labelCache);
      }
    }
    newRenderer.setRendererHints(hints);
    if (mapContent != null) {
      newRenderer.setMapContent(mapContent);
    }
  }
  renderer=newRenderer;
  MapPaneEvent event=new MapPaneEvent(this,MapPaneEvent.Type.NEW_RENDERER,renderer);
  publishEvent(event);
}
