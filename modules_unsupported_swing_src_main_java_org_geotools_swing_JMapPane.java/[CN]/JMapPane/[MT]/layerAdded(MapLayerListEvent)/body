{
  if (layerTable != null) {
    layerTable.onAddLayer(event.getLayer());
  }
  MapLayer layer=event.getLayer();
  layer.setSelected(true);
  if (layer instanceof ComponentListener) {
    addComponentListener((ComponentListener)layer);
  }
  boolean atFullExtent=equalsFullExtent(getDisplayArea());
  setFullExtent();
  if (context.getLayerCount() == 1 || atFullExtent) {
    reset();
  }
  repaint();
}
