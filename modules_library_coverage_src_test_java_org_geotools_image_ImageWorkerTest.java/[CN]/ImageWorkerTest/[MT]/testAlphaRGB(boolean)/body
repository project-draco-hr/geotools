{
  assertTrue("Assertions should be enabled.",ImageWorker.class.desiredAssertionStatus());
  ImageWorker worker=new ImageWorker(getSyntheticRGB(direct));
  worker.applyOpacity(0.5f);
  RenderedImage image=worker.getRenderedImage();
  assertTrue(image.getColorModel() instanceof ComponentColorModel);
  assertTrue(image.getColorModel().hasAlpha());
  assertNoData(image,null);
  int sample=image.getTile(0,0).getSample(0,0,3);
  assertEquals(128,sample);
}
