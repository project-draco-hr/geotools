{
  if (!canEncode(element,value,hints)) {
    return;
  }
  if (value == null) {
    return;
  }
  if (value == Filter.INCLUDE) {
    return;
  }
  if (value == Filter.EXCLUDE) {
    return;
  }
  Filter filter=(Filter)value;
  if (element != null) {
    output.startElement(element.getNamespace(),element.getName(),null);
  }
  FilterEncodingPreProcessor visitor=getFilterEncodingPreProcessor(hints);
  filter.accept(visitor,null);
  if (!visitor.getFilter().equals(Filter.EXCLUDE)) {
    encodeFilter(visitor.getFilter(),output,hints);
  }
  if (!visitor.getFidFilter().getIDs().isEmpty()) {
    encodeFilter(visitor.getFidFilter(),output,hints);
  }
  if (element != null) {
    output.endElement(element.getNamespace(),element.getName());
  }
}
