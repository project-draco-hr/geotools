{
  if (!canEncode(element,value,hints)) {
    return;
  }
  BinarySpatialOperator lf=(BinarySpatialOperator)value;
  output.startElement(element.getNamespace(),element.getName(),null);
  short TYPE1=Filters.getExpressionType(lf.getExpression1());
  short TYPE2=Filters.getExpressionType(lf.getExpression2());
  if (TYPE1 == org.geotools.filter.ExpressionType.LITERAL_GEOMETRY) {
    elems[0].getType().encode(elems[0],lf.getExpression2(),output,hints);
    Geometry g=((Geometry)((Literal)lf.getExpression1()).getValue()).getEnvelope();
    elems[1].getType().encode(elems[1],g,output,hints);
  }
 else {
    if (TYPE2 == org.geotools.filter.ExpressionType.LITERAL_GEOMETRY) {
      elems[0].getType().encode(elems[0],lf.getExpression1(),output,hints);
      Geometry g=((Geometry)((Literal)lf.getExpression2()).getValue()).getEnvelope();
      elems[1].getType().encode(elems[1],g,output,hints);
    }
 else {
      throw new OperationNotSupportedException("Either the left or right expr must be a literal for the property name : BBOXType");
    }
  }
  output.endElement(element.getNamespace(),element.getName());
}
