{
  DefaultExpression left=(DefaultExpression)filter.getLeftGeometry();
  DefaultExpression right=(DefaultExpression)filter.getRightGeometry();
  try {
    if (useIndex) {
      encodeExpression(left);
      out.write(" && ");
      encodeExpression(right);
    }
    if (filter.getFilterType() != AbstractFilter.GEOMETRY_BBOX || !looseBbox) {
      if (useIndex) {
        out.write(" AND ");
      }
      out.write(function + "(");
      encodeExpression(left);
      out.write(", ");
      encodeExpression(right);
      out.write(")" + comparison);
    }
  }
 catch (  java.io.IOException ioe) {
    LOGGER.warning("Unable to export filter" + ioe);
  }
}
