{
  nodemap=new HashMap<Graphable,DijkstraNode>();
  queue=new PriorityQueue(comparator);
  queue.init(graph.getNodes().size());
  graph.visitNodes(new GraphVisitor(){
    public int visit(    Graphable component){
      DijkstraNode dn=new DijkstraNode((Node)component,Double.MAX_VALUE);
      nodemap.put(component,dn);
      if (component == getSource())       dn.cost=0d;
      queue.insert(dn);
      return 0;
    }
  }
);
}
