{
  Method method=lookupMethod(targetObject,INVERT_QUERY);
  if (method == null) {
    return targetQuery;
  }
  try {
    Object[] args=buildProcessArguments(method,input,null,true);
    args[args.length - 2]=targetQuery;
    args[args.length - 1]=gridGeometry;
    return (Query)method.invoke(targetObject,args);
  }
 catch (  IllegalAccessException e) {
    throw new ProcessException(e);
  }
catch (  InvocationTargetException e) {
    Throwable t=e.getTargetException();
    if (t instanceof ProcessException) {
      throw ((ProcessException)t);
    }
 else {
      throw new ProcessException(t);
    }
  }
}
