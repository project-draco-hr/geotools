{
  try {
    return super.getDefaultOutputFormat(wfs,op);
  }
 catch (  IllegalArgumentException e) {
    Set<String> supportedOutputFormats=wfs.getSupportedGetFeatureOutputFormats();
    if (supportedOutputFormats.contains(GEOSERVER_WRONG_FORMAT_NAME)) {
      return DefaultWFSStrategy.DEFAULT_OUTPUT_FORMAT;
    }
    throw new IllegalArgumentException("Server does not support '" + DEFAULT_OUTPUT_FORMAT + "' output format: "+ supportedOutputFormats);
  }
}
