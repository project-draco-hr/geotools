{
  if (variables != null && !variables.isEmpty()) {
    final int inputProducts=variables.size();
    final String[] products=new String[inputProducts];
    int j=0;
    final boolean[] accepted=new boolean[inputProducts];
    for (int i=0; i < inputProducts; i++) {
      final String productName=variables.get(i).getName();
      products[i]=productName;
      if (HDF4TeraScanProperties.terascanProducts.get(productName) != null) {
        accepted[i]=true;
        j++;
      }
 else       accepted[i]=false;
    }
    if (j == inputProducts)     return products;
    final String[] returnedProductsList=new String[j];
    j=0;
    for (int i=0; i < inputProducts; i++) {
      if (accepted[i])       returnedProductsList[j++]=products[i];
    }
    return returnedProductsList;
  }
  return null;
}
