{
  if (OGR_L_TestCapability(layer,pointerToCString(OLCIgnoreFields)) != 0) {
    List<String> ignoredFields=new ArrayList<String>();
    ignoredFields.add("OGR_STYLE");
    if (querySchema.getGeometryDescriptor() == null) {
      ignoredFields.add("OGR_GEOMETRY");
    }
    for (    AttributeDescriptor ad : sourceSchema.getAttributeDescriptors()) {
      if (!(ad instanceof GeometryDescriptor)) {
        String name=ad.getLocalName();
        if (querySchema.getDescriptor(name) == null) {
          ignoredFields.add(name);
        }
      }
    }
    if (ignoredFields.size() > 0) {
      ignoredFields.add(null);
      String[] ignoredFieldsArr=(String[])ignoredFields.toArray(new String[ignoredFields.size()]);
      Pointer<Pointer<Byte>> ifPtr=pointerToCStrings(ignoredFieldsArr);
      OGRUtils.checkError(OGR_L_SetIgnoredFields(layer,ifPtr));
    }
  }
}
