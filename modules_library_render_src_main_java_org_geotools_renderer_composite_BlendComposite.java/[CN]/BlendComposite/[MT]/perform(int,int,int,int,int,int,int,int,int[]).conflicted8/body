{
  result[RED]=(sr + dr - ((2 * Math.min(sr * da,dr * sa) + UBYTE_MAX_VALUE) >> SHIFT8));
  result[GREEN]=(sg + dg - ((2 * Math.min(sg * da,dg * sa) + UBYTE_MAX_VALUE) >> SHIFT8));
  result[BLUE]=(sb + db - ((2 * Math.min(sb * da,db * sa) + UBYTE_MAX_VALUE) >> SHIFT8));
  result[ALPHA]=(sa + da - ((sa * da + UBYTE_MAX_VALUE) >> SHIFT8));
}
