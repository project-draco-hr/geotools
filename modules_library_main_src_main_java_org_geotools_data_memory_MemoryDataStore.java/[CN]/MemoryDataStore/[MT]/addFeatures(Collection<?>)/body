{
  if ((collection == null) || collection.isEmpty()) {
    throw new IllegalArgumentException("Provided SimpleFeatureCollection is empty");
  }
synchronized (memory) {
    for (Iterator<?> i=collection.iterator(); i.hasNext(); ) {
      addFeatureInternal((SimpleFeature)i.next());
    }
  }
}
