{
  StringBuffer usedXpath=new StringBuffer();
  String expressionValue=node.toString();
  if (expressionValue.startsWith("'") || node instanceof LiteralExpressionImpl) {
    usedXpath.append(xpathPrefix);
    return null;
  }
 else   if (node instanceof Function) {
    Function func=(Function)node;
    expressionValue=setAsXpathParam(func,mapping).toString();
  }
 else   if (xpathPrefix.length() > 0) {
    expressionValue=xpathPrefix + XPATH_SEPARATOR + expressionValue;
  }
  usedXpath.append(expressionValue);
  return usedXpath;
}
