{
  if (!canUnwrap(conn))   throw new IllegalArgumentException("This unwrapper can only handle instances of " + DelegatingConnection.class);
  Connection unwrapped=((DelegatingConnection)conn).getInnermostDelegate();
  if (unwrapped == null)   throw new RuntimeException("Could not unwrap connection. Is the DBCP pool configured " + "to allow access to underlying connections?");
  return unwrapped;
}
