{
  if (type.isAssignableFrom(crs.getClass())) {
    return 0;
  }
  final List<CoordinateReferenceSystem> c=getComponents(crs);
  if (c != null) {
    int offset=0;
    for (    final CoordinateReferenceSystem ci : c) {
      final int index=getDimensionOf(ci,type);
      if (index >= 0) {
        return index + offset;
      }
      offset+=ci.getCoordinateSystem().getDimension();
    }
  }
  return -1;
}
