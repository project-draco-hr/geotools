{
  final GeneralEnvelope oldEnvelope=(GeneralEnvelope)gc.getEnvelope();
  final GeneralEnvelope intersectionEnvelope=new GeneralEnvelope(envelope);
  intersectionEnvelope.setCoordinateReferenceSystem(envelope.getCoordinateReferenceSystem());
  intersectionEnvelope.intersect((GeneralEnvelope)oldEnvelope);
  if (intersectionEnvelope.isEmpty()) {
    return null;
  }
  final ParameterValueGroup param=(ParameterValueGroup)CROP_PARAMS.clone();
  param.parameter("source").setValue(gc);
  param.parameter("Envelope").setValue(intersectionEnvelope);
  return (GridCoverage2D)CROP_FACTORY.doOperation(param,hints);
}
