{
  if (query.getFilter() == Filter.INCLUDE) {
    IndexFile file=openIndexFile();
    if (file != null) {
      try {
        return file.getRecordCount();
      }
  finally {
        file.close();
      }
    }
    ShapefileReader reader=openShapeReader(new GeometryFactory());
    int count=-1;
    try {
      count=reader.getCount(count);
    }
 catch (    IOException e) {
      throw e;
    }
 finally {
      reader.close();
    }
    return count;
  }
  return super.getCount(query);
}
