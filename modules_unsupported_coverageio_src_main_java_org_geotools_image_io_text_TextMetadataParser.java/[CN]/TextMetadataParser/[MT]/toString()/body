{
  final String lineSeparator=System.getProperty("line.separator","\n");
  final StringWriter buffer=new StringWriter();
  if (source != null) {
    buffer.write("[\"");
    buffer.write(source);
    buffer.write("\"]");
  }
  buffer.write(lineSeparator);
  buffer.write('{');
  buffer.write(lineSeparator);
  try {
    final TableWriter table=new TableWriter(buffer,2);
    table.setMultiLinesCells(true);
    table.nextColumn();
    table.write(OptionalDependencies.toString(OptionalDependencies.xmlToSwing(metadata.getAsTree(GeographicMetadataFormat.FORMAT_NAME))));
    table.flush();
  }
 catch (  IOException exception) {
    buffer.write(exception.getLocalizedMessage());
  }
  buffer.write('}');
  buffer.write(lineSeparator);
  return buffer.toString();
}
