{
  if (value == null) {
    return null;
  }
  if (value instanceof CharSequence) {
    return value.toString();
  }
  if (value instanceof IdentifiedObject) {
    return ((IdentifiedObject)value).getName().getCode();
  }
  throw new MetadataException(Errors.getResources(userLocale).getString(ErrorKeys.CANT_CONVERT_FROM_TYPE_$1,Classes.getClass(value)),key,alias);
}
