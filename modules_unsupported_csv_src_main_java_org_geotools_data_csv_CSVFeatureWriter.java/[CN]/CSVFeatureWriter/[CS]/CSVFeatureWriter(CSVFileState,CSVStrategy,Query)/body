{
  this.csvFileState=csvFileState;
  File file=csvFileState.getFile();
  File directory=file.getParentFile();
  String typeName=query.getTypeName();
  this.temp=File.createTempFile(typeName + System.currentTimeMillis(),"csv",directory);
  this.featureType=csvStrategy.getFeatureType();
  this.iterator=csvStrategy.iterator();
  this.csvStrategy=csvStrategy;
  this.csvWriter=new CsvWriter(new FileWriter(this.temp),',');
  this.csvWriter.writeRecord(this.csvFileState.getCSVHeaders());
}
