{
  final FeatureRefIterator refs=new FeatureRefIterator(typeTree,filter);
  Iterator<SimpleFeature> features=new GeoGitFeatureIterator(refs,type,filter,odb);
  if (maxFeatures != null) {
    features=Iterators.limit(features,maxFeatures.intValue());
  }
  final Iterator<SimpleFeature> iterator=features;
  return new SimpleFeatureIterator(){
    @Override public SimpleFeature next() throws NoSuchElementException {
      return iterator.next();
    }
    @Override public boolean hasNext(){
      return iterator.hasNext();
    }
    @Override public void close(){
    }
  }
;
}
