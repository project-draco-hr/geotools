{
  GeometryDescriptor geometryDescriptor;
  CoordinateReferenceSystem sourceCrs;
  CoordinateReferenceSystem targetCrs;
  String name;
  for (int i=0; i < geometryDescriptors.length; i++) {
    geometryDescriptor=geometryDescriptors[i];
    targetCrs=geometryDescriptor.getCoordinateReferenceSystem();
    name=geometryDescriptor.getLocalName();
    Geometry geometry=(Geometry)feature.getAttribute(name);
    if (geometry != null) {
      sourceCrs=(CoordinateReferenceSystem)geometry.getUserData();
      if (sourceCrs != null && !CRS.equalsIgnoreMetadata(sourceCrs,targetCrs)) {
        MathTransform mathTransform=CRS.findMathTransform(sourceCrs,targetCrs,true);
        geometry=JTS.transform((Geometry)geometry,mathTransform);
        geometry.setUserData(targetCrs);
        feature.setAttribute(name,geometry);
      }
    }
  }
  return feature;
}
