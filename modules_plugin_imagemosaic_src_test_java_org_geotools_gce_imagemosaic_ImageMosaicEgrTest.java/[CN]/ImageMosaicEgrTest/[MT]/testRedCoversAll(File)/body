{
  ImageMosaicReader reader=new ImageMosaicReader(testMosaicUrl,hints);
  GeneralParameterValue[] readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z A"));
  testOutputCoverage(reader,readParams,expectedOutput,"0_large.tiff","1_left.tiff","2_right.tiff","3_mid.tiff");
  readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z A"),new SimpleEntry<>(ImageMosaicFormat.EXCESS_GRANULE_REMOVAL,ExcessGranulePolicy.ROI));
  testOutputCoverage(reader,readParams,expectedOutput,"0_large.tiff");
  readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z A"),new SimpleEntry<>(ImageMosaicFormat.EXCESS_GRANULE_REMOVAL,ExcessGranulePolicy.ROI),new SimpleEntry<>(ImageMosaicFormat.ALLOW_MULTITHREADING,true));
  testOutputCoverage(reader,readParams,expectedOutput,"0_large.tiff");
}
