{
  ImageMosaicReader reader=new ImageMosaicReader(testMosaicUrl,hints);
  GeneralParameterValue[] readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z D"));
  testOutputCoverage(reader,readParams,expectedOutput,"3_mid.tiff","2_right.tiff","1_left.tiff","0_large.tiff");
  readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z D"),new SimpleEntry<>(ImageMosaicFormat.EXCESS_GRANULE_REMOVAL,ExcessGranulePolicy.ROI));
  testOutputCoverage(reader,readParams,expectedOutput,"3_mid.tiff","2_right.tiff","1_left.tiff","0_large.tiff");
  readParams=getFootprintReadParams(reader,new SimpleEntry<>(ImageMosaicFormat.SORT_BY,"z D"),new SimpleEntry<>(ImageMosaicFormat.EXCESS_GRANULE_REMOVAL,ExcessGranulePolicy.ROI),new SimpleEntry<>(ImageMosaicFormat.ALLOW_MULTITHREADING,true));
  testOutputCoverage(reader,readParams,expectedOutput,"3_mid.tiff","2_right.tiff","1_left.tiff","0_large.tiff");
}
