{
  File file=JFileDataStoreChooser.showOpenFile("shp",null);
  if (file == null) {
    return;
  }
  FileDataStore store=FileDataStoreFinder.getDataStore(file);
  SimpleFeatureSource featureSource=store.getFeatureSource();
  CachingFeatureSource cache=new CachingFeatureSource(featureSource);
  MapContent map=new MapContent();
  map.setTitle("Using cached features");
  Layer layer=new FeatureLayer(cache,null);
  map.addLayer(layer);
  JMapFrame.showMap(map);
}
