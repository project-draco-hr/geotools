{
  File file=JFileDataStoreChooser.showOpenFile("shp",null);
  if (file == null) {
    return;
  }
  FileDataStore store=FileDataStoreFinder.getDataStore(file);
  SimpleFeatureSource featureSource=store.getFeatureSource();
  CachingFeatureSource cache=new CachingFeatureSource(featureSource);
  MapContext map=new DefaultMapContext();
  map.setTitle("Using cached features");
  map.addLayer(cache,null);
  JMapFrame.showMap(map);
}
