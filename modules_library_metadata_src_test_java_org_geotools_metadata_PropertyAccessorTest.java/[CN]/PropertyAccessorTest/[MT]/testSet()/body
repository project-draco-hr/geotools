{
  Citation citation=new CitationImpl();
  final PropertyAccessor accessor=createPropertyAccessor(citation);
  Object value="Random number";
  int index=accessor.indexOf("ISBN");
  assertTrue(index >= 0);
  assertNull(accessor.set(index,citation,value));
  assertSame(value,accessor.get(index,citation));
  assertSame(value,citation.getISBN());
  index=accessor.indexOf("title");
  assertTrue(index >= 0);
  assertNull(accessor.set(index,citation,"A random title"));
  value=accessor.get(index,citation);
  assertTrue(value instanceof InternationalString);
  assertEquals("A random title",value.toString());
  assertSame(value,citation.getTitle());
  index=accessor.indexOf("alternateTitle");
  assertTrue(index >= 0);
  value=accessor.get(index,citation);
  assertTrue(value instanceof Collection);
  assertTrue(((Collection)value).isEmpty());
  value=accessor.set(index,citation,"An other title");
  assertTrue(value instanceof Collection);
  assertEquals(1,((Collection)value).size());
  value=accessor.set(index,citation,"Yet an other title");
  assertTrue(value instanceof Collection);
  assertEquals(2,((Collection)value).size());
}
