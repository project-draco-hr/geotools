{
  if (sortBy == null || sortBy.length == 0)   return;
  sql.append(" ORDER BY ");
  for (int i=0; i < sortBy.length; i++) {
    AttributeDescriptor type=(AttributeDescriptor)sortBy[i].getPropertyName().evaluate(ft);
    if (type != null) {
      sql.append(encoder.escapeName(type.getLocalName()));
    }
 else {
      sql.append(encoder.escapeName(sortBy[i].getPropertyName().getPropertyName()));
    }
    if (SortOrder.DESCENDING.equals(sortBy[i].getSortOrder())) {
      sql.append(" DESC");
    }
 else {
      sql.append(" ASC");
    }
    if (i < sortBy.length - 1) {
      sql.append(", ");
    }
  }
}
