{
  Envelope centerTile=new Envelope(0,36,-18,18);
  CoordinateReferenceSystem crs=DefaultGeographicCRS.WGS84;
  double scale=RendererUtilities.calculateScale(centerTile,crs,512,512,72.0);
  double groundDistance=XMath.hypot(36,36) * (1852 * 60);
  double pixelDistance=XMath.hypot(512,512) * (0.0254 / 72);
  double expected=groundDistance / pixelDistance;
  assertEquals(expected,scale,expected * 0.05);
}
