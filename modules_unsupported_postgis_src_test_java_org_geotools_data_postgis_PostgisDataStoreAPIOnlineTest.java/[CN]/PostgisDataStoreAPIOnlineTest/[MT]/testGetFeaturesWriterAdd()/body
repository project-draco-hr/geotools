{
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=data.getFeatureWriter("road",Transaction.AUTO_COMMIT);
  SimpleFeature feature;
  LOGGER.info("about to call has next on writer " + writer);
  while (writer.hasNext()) {
    feature=(SimpleFeature)writer.next();
  }
  assertFalse(writer.hasNext());
  feature=(SimpleFeature)writer.next();
  feature.setAttributes(newRoad.getAttributes());
  writer.write();
  assertFalse(writer.hasNext());
  writer.close();
  assertEquals(roadFeatures.length + 1,count("road"));
}
