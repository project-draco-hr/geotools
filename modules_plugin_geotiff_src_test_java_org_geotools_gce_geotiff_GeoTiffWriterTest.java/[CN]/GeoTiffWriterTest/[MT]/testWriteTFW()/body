{
  final File noCrs=TestData.file(GeoTiffReaderTest.class,"no_crs.tif");
  final AbstractGridFormat format=new GeoTiffFormat();
  assertTrue(format.accepts(noCrs));
  final CoordinateReferenceSystem crs=CRS.decode("EPSG:32632",true);
  final Hints hint=new Hints();
  hint.put(Hints.DEFAULT_COORDINATE_REFERENCE_SYSTEM,crs);
  GeoTiffReader reader=new GeoTiffReader(noCrs,hint);
  GridCoverage2D coverage=(GridCoverage2D)reader.read(null);
  assertNotNull(coverage);
  assertNotNull(coverage.getCoordinateReferenceSystem());
  assertEquals(CRS.lookupIdentifier(coverage.getCoordinateReferenceSystem(),true),"EPSG:32632");
  reader.dispose();
  final File noCrsTFW=new File(TestData.file(GeoTiffReaderTest.class,"."),"no_crs_tfw.tif");
  GeoTiffWriter writer=new GeoTiffWriter(noCrsTFW);
  final ParameterValue<Boolean> tfw=GeoTiffFormat.WRITE_TFW.createValue();
  tfw.setValue(true);
  writer.write(coverage,new GeneralParameterValue[]{tfw});
  writer.dispose();
  coverage.dispose(true);
  final File finalTFW=new File(noCrsTFW.getParent(),noCrsTFW.getName().replace("tif","tfw"));
  assertTrue(finalTFW.canRead());
  WorldFileReader worldFileReader=new WorldFileReader(finalTFW);
  assertEquals(656217.52088,worldFileReader.getXULC(),DELTA);
  assertEquals(4737594.70047,worldFileReader.getYULC(),DELTA);
  assertEquals(32.08376,worldFileReader.getXPixelSize(),DELTA);
  assertEquals(-32.0590,worldFileReader.getYPixelSize(),DELTA);
  assertEquals(0,worldFileReader.getRotationX(),DELTA);
  assertEquals(0,worldFileReader.getRotationY(),DELTA);
}
