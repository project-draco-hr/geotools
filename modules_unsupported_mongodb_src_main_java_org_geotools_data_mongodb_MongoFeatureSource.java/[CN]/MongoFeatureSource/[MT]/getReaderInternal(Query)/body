{
  List<Filter> postFilterList=new ArrayList<Filter>();
  List<String> postFilterAttributes=new ArrayList<String>();
  DBCursor cursor=toCursor(query,postFilterList,postFilterAttributes);
  FeatureReader<SimpleFeatureType,SimpleFeature> r=new MongoFeatureReader(cursor,this);
  if (!postFilterList.isEmpty() && !isAll(postFilterList.get(0))) {
    r=new FilteringFeatureReader<SimpleFeatureType,SimpleFeature>(r,postFilterList.get(0));
    if (!postFilterAttributes.isEmpty()) {
      SimpleFeatureType returnedSchema=SimpleFeatureTypeBuilder.retype(getSchema(),query.getPropertyNames());
      r=new ReTypeFeatureReader(r,returnedSchema);
    }
  }
  return r;
}
