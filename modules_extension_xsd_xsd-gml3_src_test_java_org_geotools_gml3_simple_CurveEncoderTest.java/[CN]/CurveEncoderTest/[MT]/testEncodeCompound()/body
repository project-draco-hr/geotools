{
  CurveEncoder encoder=new CurveEncoder(gtEncoder,"gml");
  Geometry geometry=new WKTReader2().read("COMPOUNDCURVE(CIRCULARSTRING(0 0, 2 0, 2 1, 2 3, 4 3),(4 3, 4 5, 1 4, 0 0))");
  Document doc=encode(encoder,geometry);
  assertEquals(2,xpath.getMatchingNodes("//gml:Curve//gml:segments/*",doc).getLength());
  assertEquals(1,xpath.getMatchingNodes("//gml:ArcString",doc).getLength());
  assertEquals(1,xpath.getMatchingNodes("//gml:LineStringSegment",doc).getLength());
  assertEquals("circularArc3Points",xpath.evaluate("//gml:ArcString/@interpolation",doc));
  assertEquals("0 0 2 0 2 1 2 3 4 3",xpath.evaluate("//gml:ArcString/gml:posList",doc));
  assertEquals("linear",xpath.evaluate("//gml:LineStringSegment/@interpolation",doc));
  assertEquals("4 3 4 5 1 4 0 0",xpath.evaluate("//gml:LineStringSegment/gml:posList",doc));
}
