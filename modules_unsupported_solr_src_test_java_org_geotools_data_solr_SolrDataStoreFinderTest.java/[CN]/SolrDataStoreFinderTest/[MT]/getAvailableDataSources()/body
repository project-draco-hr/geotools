{
  Set availableDS=new HashSet();
  Iterator it=getServiceRegistry().getServiceProviders(DataStoreFactorySpi.class,null,null);
  SolrDataStoreFactory dsFactory;
  while (it.hasNext()) {
    Object ds=it.next();
    if (ds instanceof SolrDataStoreFactory) {
      dsFactory=(SolrDataStoreFactory)ds;
      if (dsFactory.isAvailable()) {
        availableDS.add(dsFactory);
      }
    }
  }
  return availableDS.iterator();
}
