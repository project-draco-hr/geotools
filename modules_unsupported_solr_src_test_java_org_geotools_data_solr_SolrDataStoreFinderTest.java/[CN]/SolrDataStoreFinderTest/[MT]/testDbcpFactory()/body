{
  assertTrue(new SolrDataStoreFactory().isAvailable());
  scanForPlugins();
  Map map=new HashMap();
  map.put(SolrDataStoreFactory.URL.key,new URL("http://localhost:8080/solr"));
  map.put(SolrDataStoreFactory.FIELD.key,"layer_type");
  map.put(SolrDataStoreFactory.NAMESPACE.key,"namesapce");
  Iterator ps=getAvailableDataSources();
  SolrDataStoreFactory fac;
  while (ps.hasNext()) {
    fac=(SolrDataStoreFactory)ps.next();
    try {
      if (fac.canProcess(map)) {
        source=fac.createDataStore(map);
      }
    }
 catch (    Throwable t) {
      LOGGER.log(Level.WARNING,"Could not acquire " + fac.getDescription() + ":"+ t,t);
    }
  }
  assertNotNull(source);
  assertTrue(source instanceof SolrDataStore);
}
