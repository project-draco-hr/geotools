{
  if (writer == null) {
    throw new IOException("Writer has been closed");
  }
  writer.write(position == 0 ? "=" : "|");
  if (attribute == null) {
    writer.write("<null>");
  }
 else   if (attribute instanceof String) {
    String txt=encodeString((String)attribute);
    writer.write(txt);
  }
 else   if (attribute instanceof Geometry) {
    Geometry geometry=(Geometry)attribute;
    String txt=geometry.toText();
    txt=encodeString(txt);
    writer.write(txt);
  }
 else {
    String txt=Converters.convert(attribute,String.class);
    if (txt == null) {
      txt=attribute.toString();
    }
    txt=encodeString(txt);
    writer.write(txt);
  }
}
