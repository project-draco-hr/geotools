{
  if (Display.getCurrent() != null) {
    Status status=new Status(IStatus.ERROR,"My Plug-in ID",0,"Status Error Message",exception);
    ErrorDialog.openError(parent,"",message,status);
  }
 else {
    Display.getDefault().asyncExec(new Runnable(){
      public void run(){
        Status status=new Status(IStatus.ERROR,"My Plug-in ID",0,"Status Error Message",exception);
        ErrorDialog.openError(parent,"",message,status);
      }
    }
);
  }
}
