{
  FilterFactory2 ff=CommonFactoryFinder.getFilterFactory2(null);
  PropertyIsNull null1=ff.isNull(ff.property("name"));
  PropertyIsNull null2=ff.isNull(ff.property("geom"));
  HashSet<FeatureId> set=new HashSet<FeatureId>();
  set.add(ff.featureId("FID.1"));
  Filter filter=ff.or(null2,ff.and(null1,ff.id(set)));
  StringWriter output=new StringWriter();
  XMLHandlerHints hints=new XMLHandlerHints();
  hints.put(XMLHandlerHints.FILTER_COMPLIANCE_STRICTNESS,XMLHandlerHints.VALUE_FILTER_COMPLIANCE_MEDIUM);
  DocumentWriter.writeFragment(filter,FilterSchema.getInstance(),output,hints);
  String string=output.toString().replaceAll("\\s","");
  String xml="<Filterxmlns=\"http://www.opengis.net/ogc\"xmlns:gml=\"http://www.opengis.net/gml\">" + "<PropertyIsNull><PropertyName>geom</PropertyName></PropertyIsNull>" + "<Filter><FeatureIdfid=\"FID.1\"/></Filter>"+ "</Filter>";
  assertEquals(xml,string);
}
