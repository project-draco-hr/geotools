{
  final GetFeatureType request=(GetFeatureType)response.getOriginatingRequest();
  final QueryType queryType=(QueryType)request.getQuery().get(0);
  final QName remoteFeatureName=response.getRemoteTypeName();
  SimpleFeatureType schema=response.getQueryType();
  @SuppressWarnings("unchecked") List<String> propertyNames=queryType.getPropertyName();
  if (propertyNames.size() > 0) {
    String[] properties=propertyNames.toArray(new String[propertyNames.size()]);
    try {
      schema=DataUtilities.createSubType(schema,properties);
    }
 catch (    SchemaException e) {
      throw (RuntimeException)new RuntimeException().initCause(e);
    }
  }
  InputStream in=response.getInputStream();
  GetFeatureParser featureReader=new XmlSimpleFeatureParser(in,schema,remoteFeatureName,axisOrder);
  return featureReader;
}
