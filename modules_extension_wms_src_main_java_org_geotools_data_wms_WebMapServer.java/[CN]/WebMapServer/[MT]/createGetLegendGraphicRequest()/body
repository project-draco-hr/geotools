{
  if (getCapabilities().getRequest().getGetLegendGraphic() == null) {
    throw new UnsupportedOperationException("Server does not specify a GetLegendGraphic operation. Cannot be performed");
  }
  URL onlineResource=getCapabilities().getRequest().getGetLegendGraphic().getGet();
  if (onlineResource == null) {
    onlineResource=serverURL;
  }
  GetLegendGraphicRequest request=getSpecification().createGetLegendGraphicRequest(onlineResource);
  return request;
}
