{
  Filter[] splitFilters=super.splitFilters(typeName,filter);
  Filter supported=splitFilters[0];
  if (Filter.INCLUDE.equals(supported)) {
    ReferencedEnvelope wgs84Bounds=super.getFeatureTypeInfo(typeName).getWGS84BoundingBox();
    BBOX newFilter;
    if (wgs84Bounds == null) {
      newFilter=fac.bbox(null,-180,-90,180,90,"EPSG:4326");
    }
 else {
      newFilter=fac.bbox(null,wgs84Bounds.getMinX(),wgs84Bounds.getMinY(),wgs84Bounds.getMaxX(),wgs84Bounds.getMaxY(),"EPSG:4326");
    }
    splitFilters[0]=newFilter;
  }
  return splitFilters;
}
