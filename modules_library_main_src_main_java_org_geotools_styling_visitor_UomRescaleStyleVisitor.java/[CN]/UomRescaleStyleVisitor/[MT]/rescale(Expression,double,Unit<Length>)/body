{
  if (unscaled == null || unscaled.equals(Expression.NIL))   return unscaled;
  if (unscaled instanceof LiteralExpression && unscaled.evaluate(null,Double.class) != null) {
    double rescaled=rescale(unscaled.evaluate(null,Double.class),mapScale,uom);
    return ff.literal(rescaled);
  }
 else {
    double rescaleMultiplier=computeRescaleMultiplier(mapScale,uom);
    return ff.multiply(unscaled,ff.literal(rescaleMultiplier));
  }
}
