{
  boolean canDecode=false;
  File input=null;
  if (source instanceof FileImageInputStreamExtImpl) {
    input=((FileImageInputStreamExtImpl)source).getFile();
    if (LOGGER.isLoggable(Level.FINE))     LOGGER.fine("Found a valid FileImageInputStream");
  }
  if (source instanceof File) {
    input=(File)source;
  }
  if (source instanceof URIImageInputStream) {
    URIImageInputStream uriInStream=(URIImageInputStream)source;
    try {
      NetcdfDataset openDataset=NetcdfDataset.openDataset(uriInStream.getUri().toString());
      openDataset.close();
      return true;
    }
 catch (    IOException e) {
      return false;
    }
  }
  if (input != null) {
    NetcdfFile file=null;
    try {
      file=NetcdfDataset.open(input.getPath());
      if (file != null) {
        if (LOGGER.isLoggable(Level.FINE))         LOGGER.fine("File successfully opened");
        canDecode=true;
      }
    }
 catch (    IOException ioe) {
      canDecode=false;
    }
 finally {
      if (file != null)       file.close();
    }
  }
  return canDecode;
}
