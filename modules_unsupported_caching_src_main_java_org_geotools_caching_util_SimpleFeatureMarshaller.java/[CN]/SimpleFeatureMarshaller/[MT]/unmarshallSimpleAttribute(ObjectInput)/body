{
  int m=s.readInt();
  Object att=null;
  if (m == SIMPLEATTRIBUTE) {
    att=s.readObject();
  }
 else   if (m == FEATURE) {
    SimpleFeature f=unmarshall(s);
    att=f;
  }
 else {
    throw new IllegalAttributeException(null,null,"Found complex attribute which is not legal for SimpleFeature.");
  }
  return att;
}
