{
  final IIOMetadata metadata=reader.getImageMetadata(0);
  final boolean isSAS=metadata instanceof SASTileMetadata;
  final Object tempCRS=this.hints.get(Hints.DEFAULT_COORDINATE_REFERENCE_SYSTEM);
  if (tempCRS != null) {
    setCoverageCRS((CoordinateReferenceSystem)tempCRS);
    if (LOGGER.isLoggable(Level.FINE))     LOGGER.log(Level.FINE,"Using forced coordinate reference system " + crs.toWKT());
  }
 else {
    if (!isSAS)     parsePRJFile();
 else {
      getPropertiesFromMetadata((SASTileMetadata)metadata);
    }
    if (getCoverageCRS() == null) {
      parsePRJFile();
    }
    if (getCoverageCRS() == null)     throw new DataSourceException("Coordinate Reference System is not available");
  }
  if (!isSAS)   parseWorldFile();
 else {
    if (getCoverageEnvelope() == null) {
      parseWorldFile();
      if (getCoverageEnvelope() == null) {
        throw new DataSourceException("Unavailable envelope for this coverage");
      }
    }
  }
  getCoverageEnvelope().setCoordinateReferenceSystem(getCoverageCRS());
  originalEnvelope=getCoverageEnvelope();
  originalGridRange=getCoverageGridRange();
  crs=getCoverageCRS();
}
