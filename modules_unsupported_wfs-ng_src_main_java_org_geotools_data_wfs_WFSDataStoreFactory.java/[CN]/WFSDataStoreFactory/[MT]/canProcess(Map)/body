{
  boolean canProcess=super.canProcess(params);
  if (!canProcess) {
    return false;
  }
  try {
    URL url=(URL)URL.lookUp(params);
    if (!"http".equalsIgnoreCase(url.getProtocol()) && !"https".equalsIgnoreCase(url.getProtocol())) {
      if (!Boolean.TRUE.equals(params.get("TESTING"))) {
        Loggers.MODULE.finest("Can't process non http or https GetCapabilities URL's");
        return false;
      }
    }
  }
 catch (  Exception e) {
    return false;
  }
  if (params.containsKey(USERNAME.key)) {
    if (!params.containsKey(PASSWORD.key)) {
      return false;
    }
  }
 else {
    if (params.containsKey(PASSWORD.key)) {
      return false;
    }
  }
  return true;
}
