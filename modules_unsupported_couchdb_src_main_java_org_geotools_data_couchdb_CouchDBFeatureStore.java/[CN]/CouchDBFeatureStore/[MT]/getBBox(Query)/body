{
  Envelope envelope=(Envelope)query.getFilter().accept(ExtractBoundsFilterVisitor.BOUNDS_VISITOR,null);
  if (envelope == null || envelope.isNull() || Double.isInfinite(envelope.getArea())) {
    envelope=new Envelope(-180,180,-90,90);
  }
  return envelope;
}
