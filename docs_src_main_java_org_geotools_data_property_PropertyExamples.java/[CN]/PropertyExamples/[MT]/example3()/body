{
  System.out.println("example3 start\n");
  Map<String,Serializable> params=new HashMap<>();
  params.put("directory",directory);
  DataStore datastore=DataStoreFinder.getDataStore(params);
  Query query=new Query("example");
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=datastore.getFeatureReader(query,Transaction.AUTO_COMMIT);
  try {
    int count=0;
    while (reader.hasNext()) {
      SimpleFeature feature=reader.next();
      System.out.println("feature " + count + ": "+ feature.getID());
      count++;
    }
    System.out.println("read in " + count + " features");
  }
  finally {
    reader.close();
  }
  System.out.println("\nexample3 end\n");
}
