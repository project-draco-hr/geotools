{
  if (a == b)   return true;
  if (a == null)   return true;
  if (!a.equals(b))   return false;
  if (compareUserMaps) {
    if (!equals(a.getUserData(),b.getUserData()))     return false;
    if (!equals(a.getType().getUserData(),b.getType().getUserData()))     return false;
  }
  return true;
}
