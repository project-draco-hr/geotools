{
  if (typeA == typeB)   return true;
  if (typeA == null || typeB == null) {
    return false;
  }
  if (!typeA.equals(typeB)) {
    return false;
  }
  if (compareUserMaps) {
    if (!equals(typeA.getUserData(),typeB.getUserData()))     return false;
  }
  return equalsId(typeA,typeB) && equals(typeA.getAttributeDescriptors(),typeB.getAttributeDescriptors(),compareUserMaps) && equalsAncestors(typeA,typeB);
}
