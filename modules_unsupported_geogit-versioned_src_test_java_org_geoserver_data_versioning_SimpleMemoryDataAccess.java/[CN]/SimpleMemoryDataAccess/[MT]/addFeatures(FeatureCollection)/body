{
  if ((collection == null)) {
    throw new IllegalArgumentException("Provided FeatureCollection is null");
  }
synchronized (memory) {
    try {
      collection.accepts(new FeatureVisitor(){
        public void visit(        Feature feature){
          addFeatureInternal((Feature)feature);
        }
      }
,null);
    }
 catch (    IOException ignore) {
      LOGGER.log(Level.FINE,"Unable to add all features",ignore);
    }
  }
}
