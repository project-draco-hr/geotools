{
  File f=new File(cache.directory,featureType.getTypeName() + ".shp");
  Map<String,Serializable> params=new HashMap<String,Serializable>();
  params.put("url",DataUtilities.fileToURL(f));
  params.put("filetype","shapefile");
  DataStore ds=null;
  try {
    ds=DataStoreFinder.getDataStore(params);
    if (ds != null) {
      ds.createSchema(featureType);
      ds.dispose();
      cache.refreshCacheContents();
    }
  }
 catch (  Exception e) {
    throw (IOException)new IOException("Error creating new data store").initCause(e);
  }
  if (ds == null) {
    throw new IOException("Could not find the shapefile data store in the classpath");
  }
}
