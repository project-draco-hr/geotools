{
  SimpleFeatureSource fs=getDataStore(typeName).getFeatureSource(typeName);
  if (fs instanceof SimpleFeatureLocking) {
    return new DirectoryFeatureLocking((SimpleFeatureLocking)fs);
  }
 else   if (fs instanceof FeatureStore) {
    return new DirectoryFeatureStore((SimpleFeatureStore)fs);
  }
 else {
    return new DirectoryFeatureSource((SimpleFeatureSource)fs);
  }
}
