{
  Filter newFilter=filter;
  Filter constraintFilter=constraintQuery.getFilter();
  try {
    if (constraintFilter != Filter.INCLUDE) {
      FilterFactory ff=CommonFactoryFinder.getFilterFactory(null);
      newFilter=ff.and(constraintFilter,filter);
    }
  }
 catch (  Exception ex) {
    throw new DataSourceException("Can't create the constraint filter",ex);
  }
  return newFilter;
}
