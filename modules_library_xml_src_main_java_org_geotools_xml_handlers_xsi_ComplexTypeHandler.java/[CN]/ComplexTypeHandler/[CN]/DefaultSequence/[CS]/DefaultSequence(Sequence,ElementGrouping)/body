{
  logger.finest("merging sequence with an ElementGrouping");
  id=sequence.getId();
  maxOccurs=sequence.getMaxOccurs();
  minOccurs=sequence.getMinOccurs();
  if (sequence.getChildren() == null) {
    logger.finest("Sequence children are null");
    children=new ElementGrouping[1];
    children[0]=eg;
    return;
  }
  if (eg.getGrouping() == ElementGrouping.SEQUENCE) {
    logger.finest("Two sequences being merged");
    Sequence sq2=(Sequence)eg;
    children=new ElementGrouping[sequence.getChildren().length + sq2.getChildren().length];
    logger.finest("There are a total of " + children.length + " Children");
    for (int i=0; i < sequence.getChildren().length; i++) {
      children[i]=sequence.getChildren()[i];
    }
    for (int i=0; i < sq2.getChildren().length; i++) {
      children[sequence.getChildren().length + i]=sq2.getChildren()[i];
    }
  }
 else {
    children=new ElementGrouping[sequence.getChildren().length + 1];
    logger.finest("There are a total of " + children.length + " Children");
    for (int i=0; i < sequence.getChildren().length; i++)     children[i]=sequence.getChildren()[i];
    children[sequence.getChildren().length]=eg;
  }
}
