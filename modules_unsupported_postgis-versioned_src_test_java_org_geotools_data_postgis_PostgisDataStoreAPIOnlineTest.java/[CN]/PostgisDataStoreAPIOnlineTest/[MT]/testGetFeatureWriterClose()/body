{
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=data.getFeatureWriter("road",Filter.INCLUDE,Transaction.AUTO_COMMIT);
  writer.close();
  try {
    assertFalse(writer.hasNext());
    fail("Should not be able to use a closed writer");
  }
 catch (  IOException expected) {
  }
  try {
    assertNull(writer.next());
    fail("Should not be able to use a closed writer");
  }
 catch (  IOException expected) {
  }
  try {
    writer.close();
  }
 catch (  IOException expected) {
  }
}
