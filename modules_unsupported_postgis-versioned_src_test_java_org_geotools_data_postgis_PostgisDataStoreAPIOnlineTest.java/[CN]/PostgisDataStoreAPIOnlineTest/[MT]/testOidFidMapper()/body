{
  FIDMapper mapper=((PostgisDataStore)data).getFIDMapper("lake");
  FIDMapper base=null;
  if (mapper instanceof TypedFIDMapper) {
    base=((TypedFIDMapper)mapper).getWrappedMapper();
  }
 else   base=mapper;
  assertTrue(base instanceof OIDFidMapper);
  FeatureReader<SimpleFeatureType,SimpleFeature> reader=((PostgisDataStore)data).getFeatureReader(data.getSchema("lake"),Filter.INCLUDE,Transaction.AUTO_COMMIT);
  while (reader.hasNext()) {
    SimpleFeature f=(SimpleFeature)reader.next();
    assertNotNull(f.getID());
  }
  reader.close();
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=data.getFeatureWriterAppend("lake",Transaction.AUTO_COMMIT);
  SimpleFeature f=(SimpleFeature)writer.next();
  f.setAttributes(lakeFeatures[0].getAttributes());
  writer.write();
  writer.close();
  String id=f.getID();
  assertNotNull(id);
  assertTrue(!id.trim().equals(""));
  Long.parseLong(id.substring(5));
}
