{
  File getCaps=TestData.file(this,"inheritCap.xml");
  URL getCapsURL=getCaps.toURI().toURL();
  Map<String,Object> hints=new HashMap<>();
  hints.put(DocumentHandler.DEFAULT_NAMESPACE_HINT_KEY,WMSSchema.getInstance());
  Object object=DocumentFactory.getInstance(getCapsURL.openStream(),hints,Level.WARNING);
  Schema schema=WMSSchema.getInstance();
  SchemaFactory.getInstance(WMSSchema.NAMESPACE);
  assertTrue("Capabilities failed to parse",object instanceof WMSCapabilities);
  WMSCapabilities capabilities=(WMSCapabilities)object;
  Layer layer=(Layer)capabilities.getLayerList().get(0);
  assertNotNull(layer);
  assertEquals(3,layer.getDimensions().size());
  assertEquals("ISO8601",layer.getDimension("time").getUnits());
  List<Layer> allLayers=capabilities.getLayerList();
  layer=(Layer)allLayers.get(2);
  assertNotNull(layer);
  assertNotNull(layer.getParent());
  assertEquals(3,layer.getDimensions().size());
  assertFalse(layer.isQueryable());
  assertEquals(layer.getTitle(),"Coastlines");
  assertEquals(5,layer.getSrs().size());
  assertTrue(layer.getSrs().contains("EPSG:26906"));
  assertTrue(layer.getSrs().contains("EPSG:26905"));
  assertTrue(layer.getSrs().contains("EPSG:4326"));
  assertTrue(layer.getSrs().contains("AUTO:42003"));
  assertTrue(layer.getSrs().contains("AUTO:42005"));
  assertEquals(layer.getStyles().size(),2);
  assertTrue(layer.getStyles().contains(new StyleImpl("TestStyle")));
  assertTrue(layer.getStyles().contains(new StyleImpl("default")));
  layer=(Layer)capabilities.getLayerList().get(4);
  assertNotNull(layer);
  assertNotNull(layer.getParent());
  assertEquals(3,layer.getDimensions().size());
  assertEquals(1,layer.getExtents().size());
  assertEquals(layer.getExtent("time").getName(),"time");
  assertEquals(layer.getName(),"RTOPO");
  assertTrue(layer.isQueryable());
}
