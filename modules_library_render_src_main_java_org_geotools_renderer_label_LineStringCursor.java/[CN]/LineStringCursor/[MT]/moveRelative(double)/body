{
  if (offset == 0) {
    return true;
  }
 else   if (offset > 0) {
    while (offset > 0) {
      if ((offsetDistance + offset) <= segmentLenghts[segment]) {
        offsetDistance+=offset;
        return true;
      }
 else       if (segment == (segmentLenghts.length - 1)) {
        offsetDistance=segmentLenghts[segment];
        return false;
      }
 else {
        offset=offset - (segmentLenghts[segment] - offsetDistance);
        offsetDistance=0;
        segment++;
      }
    }
  }
 else {
    while (offset < 0.0) {
      if ((offsetDistance + offset) >= 0.0) {
        offsetDistance+=offset;
        return true;
      }
 else       if (segment == 0) {
        offsetDistance=0;
        return false;
      }
 else {
        offset=offset + offsetDistance;
        segment--;
        offsetDistance=segmentLenghts[segment];
      }
    }
  }
  throw new RuntimeException("You have stumbled into a software bug, " + "the code should never get here. Please report with a reproducable test case");
}
