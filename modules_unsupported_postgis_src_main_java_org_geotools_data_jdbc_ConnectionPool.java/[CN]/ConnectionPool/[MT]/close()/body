{
  if (closed) {
    return;
  }
synchronized (mutex) {
    int size=usedConnections.size();
    for (int i=0; i < size; i++) {
      ManagedPooledConnection mPool=(ManagedPooledConnection)usedConnections.removeFirst();
      mPool.pooledConn.removeConnectionEventListener(listManager);
      try {
        mPool.pooledConn.close();
      }
 catch (      SQLException e) {
        LOGGER.warning("Failed to close PooledConnection: " + e);
      }
    }
    size=availableConnections.size();
    for (int i=0; i < size; i++) {
      ManagedPooledConnection mPool=(ManagedPooledConnection)availableConnections.removeFirst();
      mPool.pooledConn.removeConnectionEventListener(listManager);
      try {
        mPool.pooledConn.close();
      }
 catch (      SQLException e) {
        LOGGER.warning("Failed to close PooledConnection: " + e);
      }
    }
    closed=true;
  }
}
