{
synchronized (eContextInfo.eDomainMap) {
    eMap=new HashMap<String,EFeatureDomainInfo>(eContextInfo.eDomainMap);
    EFeatureContext eContext=eContextInfo.eContext(false);
    List<String> eDomainIDs=eContext.eDomainIDs();
    HashMap<String,EFeatureDomainInfo> eNewMap=new HashMap<String,EFeatureDomainInfo>(eDomainIDs.size());
    for (    String eDomainID : eDomainIDs) {
      EFeatureDomainInfo eDomainInfo=eMap.get(eDomainID);
      if (eDomainInfo == null) {
        eDomainInfo=EFeatureDomainInfo.create(eContextInfo,eDomainID);
      }
      eNewMap.put(eDomainID,eDomainInfo);
    }
    eMap.keySet().retainAll(eDomainIDs);
    eMap.putAll(eNewMap);
    return Collections.unmodifiableMap(eMap);
  }
}
