{
  List children=getChildElementDeclarations(parent);
  for (Iterator itr=children.iterator(); itr.hasNext(); ) {
    XSDElementDeclaration element=(XSDElementDeclaration)itr.next();
    if (nameMatches(element,qName)) {
      return element;
    }
  }
  ArrayList derived=new ArrayList();
  for (Iterator itr=children.iterator(); itr.hasNext(); ) {
    XSDElementDeclaration child=(XSDElementDeclaration)itr.next();
    derived.addAll(getDerivedElementDeclarations(child));
  }
  for (Iterator itr=derived.iterator(); itr.hasNext(); ) {
    XSDElementDeclaration child=(XSDElementDeclaration)itr.next();
    if (nameMatches(child,qName)) {
      return child;
    }
  }
  return null;
}
