{
  List particles=getChildElementParticles(type,includeParents);
  for (Iterator p=particles.iterator(); p.hasNext(); ) {
    XSDParticle particle=(XSDParticle)p.next();
    XSDElementDeclaration element=(XSDElementDeclaration)particle.getContent();
    if (element.isElementDeclarationReference()) {
      element.getResolvedElementDeclaration();
    }
    if (name.equals(element.getName())) {
      return particle;
    }
  }
  return null;
}
