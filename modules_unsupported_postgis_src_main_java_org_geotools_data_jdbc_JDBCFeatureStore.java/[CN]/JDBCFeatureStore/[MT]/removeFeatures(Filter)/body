{
  String typeName=getSchema().getTypeName();
  FeatureWriter<SimpleFeatureType,SimpleFeature> writer=getDataStore().getFeatureWriter(typeName,filter,getTransaction());
  SimpleFeature feature;
  try {
    while (writer.hasNext()) {
      feature=writer.next();
      writer.remove();
    }
  }
  finally {
    writer.close();
  }
}
