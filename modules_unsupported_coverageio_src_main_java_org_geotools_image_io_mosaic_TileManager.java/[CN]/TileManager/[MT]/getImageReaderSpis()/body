{
  if (providers == null) {
    final FrequencySortedSet<ImageReaderSpi> providers=new FrequencySortedSet<ImageReaderSpi>(4,true);
    final Collection<Tile> tiles=getInternalTiles();
    int[] frequencies=null;
    if (tiles instanceof FrequencySortedSet) {
      frequencies=((FrequencySortedSet<Tile>)tiles).frequencies();
    }
    int i=0;
    for (    final Tile tile : tiles) {
      final int n=(frequencies != null) ? frequencies[i++] : 1;
      providers.add(tile.getImageReaderSpi(),n);
    }
    this.providers=Collections.unmodifiableSet(providers);
  }
  return providers;
}
