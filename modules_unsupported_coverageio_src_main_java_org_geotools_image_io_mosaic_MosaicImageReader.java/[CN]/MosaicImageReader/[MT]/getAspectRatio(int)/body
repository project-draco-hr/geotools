{
  if (!useDefaultImplementation("getAspectRatio",INTEGER_ARGUMENTS)) {
    float ratio=Float.NaN;
    for (    final Tile tile : getTileManager(imageIndex).getTiles()) {
      final ImageReader reader=tile.getImageReader(this,true,true);
      final float candidate=reader.getAspectRatio(tile.getImageIndex());
      if (candidate == ratio || Float.isNaN(candidate)) {
        continue;
      }
      if (!Float.isNaN(ratio)) {
        return super.getAspectRatio(imageIndex);
      }
      ratio=candidate;
    }
    if (!Float.isNaN(ratio)) {
      return ratio;
    }
  }
  return super.getAspectRatio(imageIndex);
}
