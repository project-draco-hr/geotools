{
  CoordinateReferenceSystem googleMercator=CRS.decode("EPSG:3857");
  ReferencedEnvelope mapExtent=new ReferencedEnvelope(-20037508.34,20037508.34,-20037508.34,20037508.34,googleMercator);
  Rectangle screenSize=new Rectangle(200,(int)(mapExtent.getHeight() / mapExtent.getWidth() * 200));
  AffineTransform w2s=RendererUtilities.worldToScreenTransform(mapExtent,screenSize);
  GridCoverageRenderer renderer=new GridCoverageRenderer(googleMercator,mapExtent,screenSize,w2s);
  RasterSymbolizer rasterSymbolizer=new StyleBuilder().createRasterSymbolizer();
  RenderedImage image=renderer.renderImage(worldPaletteReader,null,rasterSymbolizer,Interpolation.getInstance(Interpolation.INTERP_BICUBIC),null,256,256);
  assertNotNull(image);
}
