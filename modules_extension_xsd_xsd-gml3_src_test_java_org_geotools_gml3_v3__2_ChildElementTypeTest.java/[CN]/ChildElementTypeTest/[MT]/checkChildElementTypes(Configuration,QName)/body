{
  SchemaIndex index=null;
  XSDTypeDefinition type=null;
  try {
    index=Schemas.findSchemas(configuration);
    type=index.getTypeDefinition(name);
  }
  finally {
    if (index != null) {
      index.destroy();
    }
  }
  Assert.assertNotNull(type);
  System.err.println("Child element declaration types for " + name + " :");
  @SuppressWarnings("unchecked") List<XSDElementDeclaration> children=Schemas.getChildElementDeclarations(type);
  boolean foundNull=false;
  for (  XSDElementDeclaration child : children) {
    System.err.println("QName: " + child.getQName() + " URI: "+ child.getURI()+ " Type: "+ child.getTypeDefinition()+ (child.getTypeDefinition() == null ? " <<< FAILURE" : ""));
    if (child.getTypeDefinition() == null) {
      foundNull=true;
    }
  }
  System.err.println();
  Assert.assertFalse("Unexpected child element declaration with null type",foundNull);
}
