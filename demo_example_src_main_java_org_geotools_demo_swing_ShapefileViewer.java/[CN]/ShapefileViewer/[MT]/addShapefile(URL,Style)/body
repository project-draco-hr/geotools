{
  if (shapefileURL == null || style == null) {
    throw new IllegalArgumentException("shapefileURL must not be null");
  }
  ShapefileDataStore dstore=null;
  DataStore found=repository.dataStore(shapefileURL.toString());
  if (found != null && found instanceof ShapefileDataStore) {
    dstore=(ShapefileDataStore)found;
  }
 else {
    try {
      dstore=new ShapefileDataStore(shapefileURL);
    }
 catch (    MalformedURLException urlEx) {
      throw new RuntimeException(urlEx);
    }
    repository.register(shapefileURL.toString(),dstore);
  }
  dstore.getSchema();
  String typeName=dstore.getTypeNames()[0];
  MapLayer layer=new DefaultMapLayer(dstore.getFeatureSource(typeName),style);
  addLayer(layer);
  return true;
}
