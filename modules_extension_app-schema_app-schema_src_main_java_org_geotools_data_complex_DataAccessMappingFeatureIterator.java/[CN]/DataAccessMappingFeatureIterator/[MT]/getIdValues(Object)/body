{
  List<Object> ids=new ArrayList<Object>();
  if (Expression.NIL.equals(mapping.getFeatureIdExpression())) {
    ids.add(peekValue(source,namespaceAwareFilterFactory.property("@id")));
  }
 else {
    FilterAttributeExtractor extractor=new FilterAttributeExtractor();
    mapping.getFeatureIdExpression().accept(extractor,null);
    for (    String att : extractor.getAttributeNameSet()) {
      ids.add(peekValue(source,namespaceAwareFilterFactory.property(att)));
    }
  }
  if (foreignIds != null) {
    ids.addAll(getForeignIdValues(source));
  }
  return ids;
}
