{
  List<Object> ids=new ArrayList<Object>();
  FilterAttributeExtractor extractor=new FilterAttributeExtractor();
  mapping.getFeatureIdExpression().accept(extractor,null);
  for (  String att : extractor.getAttributeNameSet()) {
    ids.add(peekValue(source,CommonFactoryFinder.getFilterFactory2(null).property(att)));
  }
  if (foreignIds != null) {
    ids.addAll(getForeignIdValues(source));
  }
  return ids;
}
