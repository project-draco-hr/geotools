{
  NetcdfDataset dataset=null;
  if (input instanceof URIImageInputStream) {
    URIImageInputStream uriInStream=(URIImageInputStream)input;
    dataset=NetcdfDataset.openDataset(uriInStream.getUri().toString());
  }
  if (input instanceof URL) {
    final URL tempURL=(URL)input;
    String protocol=tempURL.getProtocol();
    if (protocol.equalsIgnoreCase("http") || protocol.equalsIgnoreCase("dods")) {
      dataset=NetcdfDataset.openDataset(tempURL.toExternalForm());
    }
  }
  if (dataset == null) {
    dataset=NetCDFUtilities.getDataset(input);
  }
  return dataset;
}
