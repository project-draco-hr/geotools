{
  super(format == null ? "Connect" : format.getDisplayName());
  if (params == null) {
    connectionParameters=new HashMap<String,Object>();
  }
 else {
    connectionParameters=params;
  }
  if (format == null) {
    page0=new JDataChoosePage();
    page0.setPageIdentifier("page0");
    page0.setNextPageIdentifier("page1");
    registerWizardPanel(page0);
  }
  fillInDefaults(format,params);
  this.format=format;
  page1=new JDataStorePage(format,connectionParameters);
  page1.setLevel("user");
  page1.setPageIdentifier("page1");
  if (page0 != null) {
    page1.setBackPageIdentifier("page0");
  }
  registerWizardPanel(page1);
  if (countParamsAtLevel(format,"advanced") != 0) {
    page2=new JDataStorePage(format,connectionParameters);
    page2.setPageIdentifier("page2");
    page2.setBackPageIdentifier("page1");
    page2.setLevel("advanced");
    registerWizardPanel(page2);
    page1.setNextPageIdentifier("page2");
  }
  if (page0 != null) {
    setCurrentPanel("page0");
  }
 else {
    setCurrentPanel("page1");
  }
}
