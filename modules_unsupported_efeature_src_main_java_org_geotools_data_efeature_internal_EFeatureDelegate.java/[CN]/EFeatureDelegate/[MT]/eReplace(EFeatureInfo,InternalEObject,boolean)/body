{
  if (!eTrusted) {
    EFeatureStatus eStatus;
    if ((eStatus=eStructure.validate(eImpl)).isFailure()) {
      throw new IllegalArgumentException("EObject implementation is not valid. " + eStatus.getMessage(),eStatus.getCause());
    }
  }
  if (eImpl instanceof EFeatureImpl) {
    this.eImpl=eImpl;
    this.eInternal=((EFeatureImpl)eImpl).eInternal();
    setStructure(eStructure);
  }
 else   if (eImpl instanceof EFeatureDelegate) {
    this.eImpl=((EFeatureDelegate)eImpl).eImpl();
    this.eInternal=((EFeatureDelegate)eImpl).eInternal();
    setStructure(eStructure);
  }
 else {
    this.eImpl=eImpl;
    if (this.eInternal == null) {
      this.eInternal=new EFeatureInternal(eStructure,this);
    }
 else {
      setStructure(eStructure);
    }
  }
}
