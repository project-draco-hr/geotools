{
  if (x > env.getMaxX())   return xSize;
  if (x < env.getMinX())   return -1;
  int i=(int)((x - env.getMinX()) / dx);
  if (i >= xSize)   i=xSize - 1;
  return i;
}
