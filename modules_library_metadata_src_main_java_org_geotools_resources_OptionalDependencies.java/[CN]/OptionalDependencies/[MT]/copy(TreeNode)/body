{
  if (node == null) {
    return null;
  }
  final DefaultMutableTreeNode target=new DefaultMutableTreeNode(node.toString(),node.getAllowsChildren());
  final Enumeration children=node.children();
  if (children != null) {
    while (children.hasMoreElements()) {
      final TreeNode child=(TreeNode)children.nextElement();
      target.add(copy(child));
    }
  }
  return target;
}
