{
  ensureNonNull("source",source);
  ensureNonNull("target",target);
  final int compass=getCompassAngle(source,target);
  if (compass != Integer.MIN_VALUE) {
    return compass * (360.0 / COMPASS_DIRECTION_COUNT);
  }
  final DirectionAlongMeridian src=DirectionAlongMeridian.parse(source);
  if (src != null) {
    final DirectionAlongMeridian tgt=DirectionAlongMeridian.parse(target);
    if (tgt != null) {
      return src.getAngle(tgt);
    }
  }
  return Double.NaN;
}
