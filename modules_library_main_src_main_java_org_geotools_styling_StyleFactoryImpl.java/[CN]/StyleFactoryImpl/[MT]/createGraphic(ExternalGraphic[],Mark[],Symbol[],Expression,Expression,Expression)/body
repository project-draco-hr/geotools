{
  Graphic graphic=new GraphicImpl(filterFactory);
  symbols=symbols != null ? symbols : new Symbol[0];
  graphic.setSymbols(symbols);
  if (externalGraphics != null) {
    graphic.graphicalSymbols().addAll(Arrays.asList(externalGraphics));
  }
  if (marks != null) {
    graphic.graphicalSymbols().addAll(Arrays.asList(marks));
  }
  if (opacity == null) {
    opacity=Graphic.DEFAULT.getOpacity();
  }
  graphic.setOpacity(opacity);
  if (size == null) {
    size=Graphic.DEFAULT.getSize();
  }
  graphic.setSize(size);
  if (rotation == null) {
    rotation=Graphic.DEFAULT.getRotation();
  }
  graphic.setRotation(rotation);
  return graphic;
}
