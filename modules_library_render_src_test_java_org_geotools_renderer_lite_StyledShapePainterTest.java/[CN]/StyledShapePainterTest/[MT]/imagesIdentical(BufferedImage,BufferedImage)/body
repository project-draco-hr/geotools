{
  final WritableRaster raster1=image1.getRaster();
  final WritableRaster raster2=image2.getRaster();
  final int numBands=raster1.getNumBands();
  if (raster2.getNumBands() != numBands) {
    return false;
  }
  final int width=raster1.getWidth();
  if (raster2.getWidth() != width) {
    return false;
  }
  final int height=raster1.getHeight();
  if (raster2.getHeight() != height) {
    return false;
  }
  final int[] pixel1=new int[numBands];
  final int[] pixel2=new int[numBands];
  for (int y=0; y < height; y++) {
    for (int x=0; x < width; x++) {
      raster1.getPixel(x,y,pixel1);
      raster2.getPixel(x,y,pixel2);
      for (int i=0; i < numBands; i++) {
        if (pixel1[i] != pixel2[i]) {
          return false;
        }
      }
    }
  }
  return true;
}
