{
  checkReader(reader);
  NetCDFSpatioTemporalImageReader netCDFReader=((NetCDFSpatioTemporalImageReader)reader);
  final int imageIndex=getImageIndex();
  Band band=addBand();
  try {
    final IIOMetadata metadata=netCDFReader.getImageMetadata(imageIndex);
    if (metadata instanceof BaseImageMetadata) {
      final BaseImageMetadata commonMetadata=(BaseImageMetadata)metadata;
      setBandFromCommonMetadata(band,commonMetadata);
      Node node=commonMetadata.getAsTree(NetCDFImageMetadata.nativeMetadataFormatName);
      node=node.getFirstChild();
      if (node != null) {
        final NamedNodeMap attributesMap=node.getAttributes();
        if (attributesMap != null) {
          Node units=attributesMap.getNamedItem(NetCDFUtilities.DatasetAttribs.UNITS);
          if (units != null) {
            String unit=units.getNodeValue();
            if (unit != null) {
              band.setUoM(unit);
            }
          }
        }
      }
    }
  }
 catch (  IOException e) {
    if (LOGGER.isLoggable(Level.WARNING))     LOGGER.warning("Unable to set sampleDimension metadata");
  }
}
