{
  FilterFactory ff=CommonFactoryFinder.getFilterFactory(null);
  PropertyIsEqualTo f=ff.equals(ff.property("invalidAttribute"),ff.literal(5));
  SimpleFeatureIterator fi=null;
  try {
    fi=featureSource.getFeatures(new Query("ft1",f)).features();
    fi.close();
    fail("This query should have failed, it contains an invalid filter");
  }
 catch (  Exception e) {
  }
 finally {
    if (fi != null)     fi.close();
  }
}
