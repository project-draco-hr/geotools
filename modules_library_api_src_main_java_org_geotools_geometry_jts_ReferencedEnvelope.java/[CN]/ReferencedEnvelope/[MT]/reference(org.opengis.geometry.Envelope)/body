{
  if (env == null) {
    return null;
  }
  if (env instanceof ReferencedEnvelope3D) {
    return (ReferencedEnvelope3D)env;
  }
  if (env instanceof ReferencedEnvelope) {
    return (ReferencedEnvelope)env;
  }
  if (env.getDimension() == 3) {
    return new ReferencedEnvelope3D(env);
  }
  return new ReferencedEnvelope(env);
}
