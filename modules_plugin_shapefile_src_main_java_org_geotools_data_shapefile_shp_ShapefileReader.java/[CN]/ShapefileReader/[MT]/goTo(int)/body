{
  disableShxUsage();
  if (randomAccessEnabled) {
    if (this.useMemoryMappedBuffer) {
      buffer.position(offset);
    }
 else {
      if (this.currentOffset <= offset && this.currentOffset + buffer.limit() >= offset + 8) {
        buffer.position(this.toBufferOffset(offset));
      }
 else {
        FileChannel fc=(FileChannel)this.channel;
        fc.position(offset);
        this.currentOffset=offset;
        buffer.position(0);
        buffer.limit(buffer.capacity());
        fill(buffer,fc);
        buffer.position(0);
      }
    }
    int oldRecordOffset=record.end;
    record.end=offset;
    try {
      hasNext(false);
    }
 catch (    IOException ioe) {
      record.end=oldRecordOffset;
      throw ioe;
    }
  }
 else {
    throw new UnsupportedOperationException("Random Access not enabled");
  }
}
