{
  final RenderingHints newHints=new RenderingHints(JAI.KEY_TILE_CACHE,scaleTC);
  newHints.add(ImageUtilities.DONT_REPLACE_INDEX_COLOR_MODEL);
  newHints.add(new RenderingHints(JAI.KEY_BORDER_EXTENDER,this.borderExtender));
  final ParameterBlockJAI pb=new ParameterBlockJAI("SubsampleAverage");
  pb.addSource(src);
  pb.setParameter("scaleX",new Double(1.0 / downsampleStep));
  pb.setParameter("scaleY",new Double(1.0 / downsampleStep));
  return JAI.create("SubsampleAverage",pb,newHints);
}
