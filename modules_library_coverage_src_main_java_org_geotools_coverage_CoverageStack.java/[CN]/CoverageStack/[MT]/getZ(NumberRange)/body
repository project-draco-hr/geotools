{
  if (range != null) {
    final Number lower=(Number)range.getMinValue();
    final Number upper=(Number)range.getMaxValue();
    if (lower != null) {
      if (upper != null) {
        return 0.5 * (lower.doubleValue() + upper.doubleValue());
      }
 else {
        return lower.doubleValue();
      }
    }
 else     if (upper != null) {
      return upper.doubleValue();
    }
  }
  return NaN;
}
