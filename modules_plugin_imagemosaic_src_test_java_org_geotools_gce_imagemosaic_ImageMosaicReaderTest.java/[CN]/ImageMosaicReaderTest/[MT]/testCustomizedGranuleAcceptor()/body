{
  URL testDataURL=TestData.url(this,"diffprojections");
  File testDataFolder=new File(testDataURL.toURI());
  Hints creationHints=new Hints();
  ImageMosaicReader imReader=new ImageMosaicReader(testDataFolder,creationHints);
  assertNotNull(imReader);
  String[] gridCoverageNames=imReader.getGridCoverageNames();
  assertNotNull(gridCoverageNames);
  Assert.assertTrue(gridCoverageNames.length == 1);
  String coverageName=gridCoverageNames[0];
  assertEquals(imReader.getGranules(coverageName,true).getCount(null),2);
  GranuleCatalog gc=imReader.getRasterManager(coverageName).getGranuleCatalog();
  assertNotNull(gc);
  Query q=new Query(gc.getTypeNames()[0],CQL.toFilter("BBOX(the_geom, -180, -90, 180, 90)"));
  assertEquals(2,gc.getGranules(q).size());
}
