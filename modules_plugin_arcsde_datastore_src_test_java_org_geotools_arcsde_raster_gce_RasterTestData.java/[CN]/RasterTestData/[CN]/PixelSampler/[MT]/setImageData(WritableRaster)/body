{
  final int width=raster.getWidth();
  final int height=raster.getHeight();
  final int numBands=raster.getNumBands();
  byte[][] bandData=new byte[numBands][];
  for (int bandN=0; bandN < numBands; bandN++) {
    bandData[bandN]=getImgBandData(width,height,bandN,numBands);
  }
  for (int bandN=0; bandN < numBands; bandN++) {
    byte[] bandContens=bandData[bandN];
    for (int x=0; x < width; x++) {
      for (int y=0; y < height; y++) {
        setSample(x,y,bandN,bandContens,raster);
      }
    }
  }
}
