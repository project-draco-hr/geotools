{
  super("Coordinates");
  if (mapPane == null) {
    throw new IllegalArgumentException("mapPane must not be null");
  }
  label=new JLabel();
  label.setFont(JMapStatusBar.DEFAULT_FONT);
  add(label);
  decLen=JMapStatusBar.DEFAULT_NUM_DECIMAL_DIGITS;
  intLen=DEFAULT_NUM_INTEGER_DIGITS;
  ReferencedEnvelope env=mapPane.getDisplayArea();
  if (env != null && !env.isEmpty()) {
    setFormatFromEnvelope(env);
  }
  mapPane.addMouseListener(new MapMouseAdapter(){
    @Override public void onMouseEntered(    MapMouseEvent ev){
      displayCoords(ev.getWorldPos());
    }
    @Override public void onMouseExited(    MapMouseEvent ev){
      displayNoCursor();
    }
    @Override public void onMouseMoved(    MapMouseEvent ev){
      displayCoords(ev.getWorldPos());
    }
  }
);
  mapPane.addMapPaneListener(new MapPaneAdapter(){
    @Override public void onDisplayAreaChanged(    MapPaneEvent ev){
      setFormatFromEnvelope(((Envelope)ev.getData()));
    }
  }
);
  displayNoCursor();
}
