{
  if (capabilties == null) {
    throw new NullPointerException("Capabilities cannot be null.");
  }
  if (serverURL == null) {
    throw new NullPointerException("ServerURL cannot be null");
  }
  setupSpecifications();
  for (int i=0; i < specs.length; i++) {
    if (specs[i].getVersion().equals(capabilties.getVersion())) {
      specification=specs[i];
      break;
    }
  }
  if (specification == null) {
    specification=specs[specs.length - 1];
    LOGGER.warning("Unable to choose a specification based on cached capabilities. " + "Arbitrarily choosing spec '" + specification.getVersion() + "'.");
  }
  this.serverURL=serverURL;
  this.capabilities=capabilties;
}
