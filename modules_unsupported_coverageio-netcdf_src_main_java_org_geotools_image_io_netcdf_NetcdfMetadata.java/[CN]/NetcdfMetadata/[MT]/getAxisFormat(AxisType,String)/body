{
  if (!type.equals(AxisType.Time)) {
    return NumberFormat.getNumberInstance(Locale.CANADA);
  }
  char dateSeparator='-';
  boolean yearLast=false;
  boolean namedMonth=false;
  if (prototype != null) {
    int field=1;
    int digitCount=0;
    final int length=prototype.length();
    for (int i=0; i < length; i++) {
      final char c=prototype.charAt(i);
      if (Character.isWhitespace(c)) {
        break;
      }
      if (Character.isDigit(c)) {
        digitCount++;
        continue;
      }
      if (field == 2 && Character.isLetter(c)) {
        namedMonth=true;
        continue;
      }
      if (field == 1) {
        dateSeparator=c;
      }
      digitCount=0;
      field++;
    }
    if (digitCount >= 4) {
      yearLast=true;
    }
  }
  String pattern;
  if (yearLast) {
    pattern=namedMonth ? "dd-MMM-yyyy" : "dd-MM-yyyy";
  }
 else {
    pattern=namedMonth ? "yyyy-MMM-dd" : "yyyy-MM-dd";
  }
  pattern=pattern.replace('-',dateSeparator);
  pattern+=" HH:mm:ss";
  final DateFormat format=new SimpleDateFormat(pattern,Locale.CANADA);
  format.setTimeZone(TimeZone.getTimeZone("UTC"));
  return format;
}
