{
  String crsType, csType;
  if (cs.isLatLon()) {
    crsType=cs.hasVerticalAxis() ? GeographicMetadataFormat.GEOGRAPHIC_3D : GeographicMetadataFormat.GEOGRAPHIC;
    csType=GeographicMetadataFormat.ELLIPSOIDAL;
  }
 else   if (cs.isGeoXY()) {
    crsType=cs.hasVerticalAxis() ? GeographicMetadataFormat.PROJECTED_3D : GeographicMetadataFormat.PROJECTED;
    csType=GeographicMetadataFormat.CARTESIAN;
  }
 else {
    crsType=null;
    csType=null;
  }
  final ImageReferencing referencing=getReferencing();
  referencing.setCoordinateReferenceSystem(null,crsType);
  referencing.setCoordinateSystem(cs.getName(),csType);
  final ImageGeometry geometry=getGeometry();
  geometry.setPixelOrientation("center");
  final List<CoordinateAxis> axis=cs.getCoordinateAxes();
  for (int i=axis.size(); --i >= 0; ) {
    addCoordinateAxis(axis.get(i));
  }
}
