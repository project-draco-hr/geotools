{
  if (channel == null)   return;
  try {
    if (channel.isOpen()) {
      channel.close();
      streamLogger.close();
    }
    NIOUtilities.clean(buffer,useMemoryMappedBuffer);
  }
  finally {
    if (shxReader != null)     shxReader.close();
  }
  shxReader=null;
  channel=null;
  header=null;
}
