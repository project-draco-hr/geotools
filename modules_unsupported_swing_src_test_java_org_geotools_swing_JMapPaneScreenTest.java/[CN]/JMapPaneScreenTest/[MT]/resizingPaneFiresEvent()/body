{
  assertTrue(setupLatch.await(WAIT_TIMEOUT,TimeUnit.MILLISECONDS));
  mapPane.addMapPaneListener(listener);
  listener.setExpected(MapPaneEvent.Type.PANE_RESIZED);
  final int w=WIDTH / 2;
  final int h=HEIGHT * 2;
  doSetSize(w,h);
  assertTrue(listener.await(MapPaneEvent.Type.PANE_RESIZED,WAIT_TIMEOUT));
  MapPaneEvent event=listener.getEvent(MapPaneEvent.Type.PANE_RESIZED);
  Object o=event.getData();
  assertNotNull(o);
  assert(o instanceof Rectangle);
  Rectangle r=(Rectangle)o;
  assertEquals(mapPane.getVisibleRect(),r);
}
