{
  boolean added=super.addIfAbsent(element);
  if (added) {
    checkViewportCRS();
    if (layerListener != null) {
      element.addMapLayerListener(layerListener);
    }
    fireLayerAdded(element,size() - 1,size() - 1);
  }
  return added;
}
