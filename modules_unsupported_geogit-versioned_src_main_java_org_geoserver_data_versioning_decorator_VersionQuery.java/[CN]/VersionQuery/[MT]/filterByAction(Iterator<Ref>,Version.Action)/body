{
  if (Version.Action.ALL.equals(action)) {
    List<Ref> newRefs=new ArrayList<Ref>();
    while (refs.hasNext()) {
      Ref ref=refs.next();
      newRefs.add(ref);
    }
    return newRefs;
  }
 else   if (Version.Action.NEXT.equals(action)) {
    return Collections.emptyList();
  }
 else   if (Version.Action.PREVIOUS.equals(action)) {
    return Collections.emptyList();
  }
  List<Ref> actionRefs=fetchByAction(action);
  return filterIteratorByList(actionRefs,refs);
}
