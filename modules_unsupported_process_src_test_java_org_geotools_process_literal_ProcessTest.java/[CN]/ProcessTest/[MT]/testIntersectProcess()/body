{
  WKTReader reader=new WKTReader(new GeometryFactory());
  Geometry geom1=(Polygon)reader.read("POLYGON((20 10, 30 0, 40 10, 30 20, 20 10))");
  Geometry geom2=(Polygon)reader.read("POLYGON((20 10, 30 0, 40 10, 20 10))");
  Map<String,Object> map=new HashMap<String,Object>();
  map.put(IntersectionFactory.GEOM1.key,geom1);
  map.put(IntersectionFactory.GEOM2.key,geom2);
  IntersectionProcess process=new IntersectionProcess(null);
  Map<String,Object> resultMap=process.execute(map,null);
  assertNotNull(resultMap);
  Object result=resultMap.get(IntersectionFactory.RESULT.key);
  assertNotNull(result);
  assertTrue("expected geometry",result instanceof Geometry);
  Geometry intersection=geom1.intersection(geom2);
  assertTrue(intersection.equals((Geometry)result));
}
