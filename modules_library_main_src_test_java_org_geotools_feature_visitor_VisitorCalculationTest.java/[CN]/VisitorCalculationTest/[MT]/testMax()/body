{
  MaxVisitor maxVisitor=new MaxVisitor(0,ft);
  fc.accepts(maxVisitor,null);
  MaxVisitor maxVisitor2=new MaxVisitor(3,ft2);
  fc2.accepts(maxVisitor2,null);
  int value1=maxVisitor.getResult().toInt();
  assertEquals(3,value1);
  double value2=maxVisitor2.getResult().toDouble();
  assertEquals((double)4.5,value2,0);
  CalcResult maxResult1=(MaxResult)maxVisitor.getResult();
  CalcResult maxResult2=(MaxResult)maxVisitor2.getResult();
  CalcResult maxResult3=(MaxResult)maxResult1.merge(maxResult2);
  assertEquals((double)4.5,maxResult3.toDouble(),0);
  CalcResult maxResult4=new MaxResult((Comparable)new Double(2));
  CalcResult maxResult5=(MaxResult)maxResult4.merge(maxResult1);
  assertEquals(3,maxResult5.toDouble(),0);
  assertEquals(2,maxResult4.toDouble(),0);
  CalcResult maxResult6=new MaxResult((Comparable)new Integer(-5));
  CalcResult maxResult7=(MaxResult)maxResult1.merge(maxResult6);
  assertEquals(3,maxResult7.toDouble(),0);
  assertEquals(-5,maxResult6.toDouble(),0);
  maxVisitor.setValue(new Double(544));
  maxResult1=maxVisitor.getResult();
  maxResult7=maxResult7.merge(maxResult1);
  assertEquals(544,maxResult7.toDouble(),0);
  maxVisitor.setValue(new Long(6453));
  maxResult1=maxVisitor.getResult();
  maxResult7=maxResult7.merge(maxResult1);
  assertEquals(6453,maxResult7.toDouble(),0);
  assertEquals(6453,maxResult7.toInt());
  maxVisitor.reset();
  empty.accepts(maxVisitor,null);
  assertEquals(CalcResult.NULL_RESULT,maxVisitor.getResult());
  assertSame(maxResult2,maxVisitor.getResult().merge(maxResult2));
  assertSame(maxResult2,maxResult2.merge(maxVisitor.getResult()));
}
