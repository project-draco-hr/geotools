{
  ElementHandler handler=(ElementHandler)handlers.pop();
  QName qualifiedName=new QName(uri,localName);
  handler.endElement(qualifiedName);
  endElementInternal(handler);
  if (handler instanceof DelegatingHandler && !handlers.isEmpty() && !(handlers.peek() instanceof DelegatingHandler)) {
    DelegatingHandler dh=(DelegatingHandler)handler;
    dh.endDocument();
    dh.getParseNode().setValue(dh.delegate.getParsedObject());
  }
  namespaces.popContext();
}
