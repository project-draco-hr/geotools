{
  final long now_ns=System.nanoTime();
synchronized (mySyncLock) {
    if (myHasPreviousSample) {
      long duration_ns=now_ns - myFrameStartTime_ns;
      if (duration_ns == 0) {
        duration_ns=1;
      }
      mySecondsBetweenFrames=(1.0 * duration_ns) / TICKS_PER_SECOND;
      myFramesPerSecond=TICKS_PER_SECOND / duration_ns;
    }
 else {
      myHasPreviousSample=true;
    }
    myFrameStartTime_ns=now_ns;
  }
}
