{
  boolean filePrefix=jarPath.startsWith("file:");
  int pos=jarPath.indexOf(".jar!");
  if (!filePrefix || pos <= 0) {
    throw new IllegalArgumentException("Not a valid jar path");
  }
  String trimmed=jarPath.substring(5,pos + 4);
  File file=new File(trimmed);
  if (!file.exists()) {
    throw new IllegalArgumentException("File not found: " + file);
  }
  return new JarInputStream(new FileInputStream(file));
}
