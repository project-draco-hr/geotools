{
  String poolFactoryClassName=getProperty(ref,"sessionPoolFactory",null);
  if (poolFactoryClassName == null) {
    return;
  }
  LOGGER.info("Using alternate session pool factory " + poolFactoryClassName);
  final ISessionPoolFactory newFactory;
  try {
    Class<?> factoryClass=Class.forName(poolFactoryClassName);
    newFactory=(ISessionPoolFactory)factoryClass.newInstance();
  }
 catch (  ClassNotFoundException e) {
    throw new IllegalArgumentException("Alternate SessionPoolFactory class not found: " + poolFactoryClassName);
  }
catch (  InstantiationException e) {
    throw new IllegalArgumentException(e);
  }
catch (  IllegalAccessException e) {
    throw new IllegalArgumentException(e);
  }
  setClosableSessionPoolFactory(newFactory);
}
