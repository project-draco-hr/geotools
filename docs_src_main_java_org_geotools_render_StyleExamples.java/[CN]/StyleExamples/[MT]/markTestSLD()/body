{
  StyleBuilder sb=new StyleBuilder();
  FilterFactory ff=sb.getFilterFactory();
  Style style=sb.createStyle();
  style.setName("MyStyle");
  Mark testMark=sb.createMark(sb.attributeExpression("name"),sb.createFill(Color.RED,0.5),null);
  Graphic graph=sb.createGraphic(null,new Mark[]{testMark},null,sb.literalExpression(1),sb.attributeExpression("size"),sb.attributeExpression("rotation"));
  style.featureTypeStyles().add(sb.createFeatureTypeStyle("testPoint",sb.createPointSymbolizer(graph)));
  AnchorPoint anchorPoint=sb.createAnchorPoint(sb.attributeExpression("X"),sb.attributeExpression("Y"));
  PointPlacement pointPlacement=sb.createPointPlacement(anchorPoint,null,sb.literalExpression(0));
  TextSymbolizer textSymbolizer=sb.createTextSymbolizer(sb.createFill(Color.BLACK),new Font[]{sb.createFont("Lucida Sans",10),sb.createFont("Arial",10)},sb.createHalo(),sb.attributeExpression("name"),pointPlacement,null);
  Mark circle=sb.createMark(StyleBuilder.MARK_CIRCLE,Color.RED);
  Graphic graph2=sb.createGraphic(null,circle,null,1,4,0);
  PointSymbolizer pointSymbolizer=sb.createPointSymbolizer(graph2);
  style.featureTypeStyles().add(sb.createFeatureTypeStyle("labelPoint",new Symbolizer[]{textSymbolizer,pointSymbolizer}));
}
