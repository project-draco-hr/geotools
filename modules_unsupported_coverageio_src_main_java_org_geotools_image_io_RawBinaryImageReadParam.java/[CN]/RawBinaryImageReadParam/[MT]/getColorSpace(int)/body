{
  if (destination != null) {
    return destination.getColorModel().getColorSpace();
  }
  if (sourceBands != null) {
    numBands=sourceBands.length;
  }
 else   if (model != null) {
    numBands=model.getNumBands();
  }
  if (destinationBands != null) {
    for (int i=0; i < destinationBands.length; i++) {
      if (destinationBands[i] >= numBands) {
        numBands=destinationBands[i] + 1;
      }
    }
  }
  if (numBands == 1) {
    return ColorSpace.getInstance(ColorSpace.CS_GRAY);
  }
  return new ScaledColorSpace(numBands,0,0,1);
}
