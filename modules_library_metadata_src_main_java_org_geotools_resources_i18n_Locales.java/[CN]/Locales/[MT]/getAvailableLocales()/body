{
  final Locale[] languages=getAvailableLanguages();
  Locale[] locales=Locale.getAvailableLocales();
  int count=0;
  for (int i=0; i < locales.length; i++) {
    final Locale locale=locales[i];
    if (containsLanguage(languages,locale)) {
      locales[count++]=locale;
    }
  }
  locales=XArray.resize(locales,count);
  return locales;
}
