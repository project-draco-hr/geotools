{
  Iterator<DataStoreFactorySpi> availableDataStores;
  availableDataStores=DataStoreFinder.getAllDataStores();
  assertNotNull(availableDataStores);
  assertTrue(availableDataStores.hasNext());
  DataStoreFactorySpi dsf1=availableDataStores.next();
  assertTrue(availableDataStores.hasNext());
  DataStoreFactorySpi dsf2=availableDataStores.next();
  assertFalse(availableDataStores.hasNext());
  assertNotNull(dsf1);
  assertNotNull(dsf2);
  if (dsf1 instanceof MockUnavailableDataStoreFactory) {
    assertTrue(dsf2 instanceof MockDataStoreFactory);
  }
 else {
    assertTrue(dsf1 instanceof MockDataStoreFactory);
    assertTrue(dsf2 instanceof MockUnavailableDataStoreFactory);
  }
}
