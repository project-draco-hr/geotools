{
  DataStore dataStore;
  Map<String,Serializable> params=new HashMap<String,Serializable>();
  params.put(MOCK_DS_PARAM_KEY,MockUnavailableDataStoreFactory.class);
  dataStore=DataStoreFinder.getDataStore(params);
  assertNull(dataStore);
  params.put(MOCK_DS_PARAM_KEY,MockDataStoreFactory.class);
  dataStore=DataStoreFinder.getDataStore(params);
  assertSame(MOCK_DATASTORE,dataStore);
}
