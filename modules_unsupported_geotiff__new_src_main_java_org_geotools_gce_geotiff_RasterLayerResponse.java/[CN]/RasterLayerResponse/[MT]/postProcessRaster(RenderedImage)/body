{
  if (transparentColor != null) {
    if (LOGGER.isLoggable(Level.FINE)) {
      LOGGER.fine("Support for alpha on final mosaic");
    }
    final ImageWorker w=new ImageWorker(finalImage);
    if (finalImage.getSampleModel() instanceof MultiPixelPackedSampleModel) {
      w.forceComponentColorModel();
    }
    return w.makeColorTransparent(transparentColor).getRenderedImage();
  }
  return finalImage;
}
