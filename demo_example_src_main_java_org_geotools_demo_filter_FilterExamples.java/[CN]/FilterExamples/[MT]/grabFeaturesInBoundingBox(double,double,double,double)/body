{
  FilterFactory2 ff=CommonFactoryFinder.getFilterFactory2(null);
  FeatureType schema=featureSource.getSchema();
  String geometryPropertyName=schema.getGeometryDescriptor().getLocalName();
  CoordinateReferenceSystem crs=schema.getGeometryDescriptor().getCoordinateReferenceSystem();
  ReferencedEnvelope bbox=new ReferencedEnvelope(x1,y1,x2,y2,crs);
  Filter filter=ff.bbox(ff.property(geometryPropertyName),bbox);
  return featureSource.getFeatures(filter);
}
