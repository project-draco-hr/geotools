{
  FilterFactory fac=CommonFactoryFinder.getFilterFactory(null);
  String attributeName="string";
  PropertyIsEqualTo filter=fac.equals(fac.property("."),fac.literal("Value"));
  SimpleFeatureTypeBuilder builder=new SimpleFeatureTypeBuilder();
  builder.setName("test");
  builder.restriction(filter).add(attributeName,String.class);
  SimpleFeatureType featureType=builder.buildFeatureType();
  SimpleFeature feature=SimpleFeatureBuilder.build(featureType,new Object[]{"Value"},"ID");
  assertNotNull(feature);
  try {
    SimpleFeature sf=SimpleFeatureBuilder.build(featureType,new Object[]{"NotValue"},"ID");
    sf.validate();
    fail("PropertyIsEqualTo filter should have failed");
  }
 catch (  Exception e) {
  }
}
