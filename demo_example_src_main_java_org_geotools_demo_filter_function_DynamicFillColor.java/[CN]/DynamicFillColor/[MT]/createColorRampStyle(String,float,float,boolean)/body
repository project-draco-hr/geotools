{
  Style style=styleFactory.createStyle();
  Expression valueExpr=null;
  if (logValues) {
    valueExpr=filterFactory.function("log",filterFactory.property(attrName));
  }
 else {
    valueExpr=filterFactory.property(attrName);
  }
  Function colorRampFn=filterFactory.function("colorramp",valueExpr,filterFactory.literal(minValue),filterFactory.literal(maxValue),filterFactory.literal(SATURATION),filterFactory.literal(BRIGHTNESS));
  Fill fill=styleFactory.createFill(colorRampFn);
  Stroke stroke=styleFactory.createStroke(colorRampFn,filterFactory.literal(1.0));
  PolygonSymbolizer symbolizer=styleFactory.createPolygonSymbolizer(stroke,fill,"the_geom");
  Rule rule=styleFactory.createRule();
  rule.symbolizers().add(symbolizer);
  FeatureTypeStyle fts=styleFactory.createFeatureTypeStyle(new Rule[]{rule});
  style.featureTypeStyles().add(fts);
  return style;
}
