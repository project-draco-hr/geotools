{
  ResultSet rs=null;
  if (can_usepg_get_serial_sequence) {
    try {
      String sql="SELECT currval(pg_get_serial_sequence('\"";
      String schema=getTableSchemaName();
      if (schema != null && !schema.equals("")) {
        sql=sql + schema + "\".\"";
      }
      sql=sql + getTableName() + "\"','"+ getColumnName()+ "'))";
      rs=statement.executeQuery(sql);
      if (rs.next() && rs.getString("currval") != null) {
        return rs.getString("currval");
      }
 else {
        can_usepg_get_serial_sequence=false;
      }
    }
 catch (    Exception e) {
      can_usepg_get_serial_sequence=false;
    }
 finally {
      try {
        if (rs != null)         rs.close();
      }
 catch (      Exception e) {
      }
    }
  }
  if (hasSerialSequence) {
    if (sequenceName == null) {
      String sql="SELECT relname FROM pg_catalog.pg_class WHERE relkind = 'S' AND relname LIKE '" + getTableName() + "_"+ getColumnName()+ "_seq'";
      try {
        rs=statement.executeQuery(sql);
        if (rs.next() && rs.getString(1) != null) {
          sequenceName=rs.getString(1);
        }
 else {
          hasSerialSequence=false;
        }
      }
 catch (      Exception e) {
        hasSerialSequence=false;
      }
 finally {
        try {
          if (rs != null)           rs.close();
        }
 catch (        Exception e) {
        }
      }
    }
    if (sequenceName != null) {
      String sql="SELECT currval('\"" + sequenceName + "\"')";
      try {
        rs=statement.executeQuery(sql);
        if (rs.next() && rs.getString("currval") != null)         return rs.getString("currval");
 else {
          hasSerialSequence=false;
        }
      }
 catch (      Exception e) {
        hasSerialSequence=false;
      }
 finally {
        try {
          if (rs != null)           rs.close();
        }
 catch (        Exception e) {
        }
      }
    }
  }
  return findInsertedFID(conn,feature,statement);
}
