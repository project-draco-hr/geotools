{
  if (sd instanceof GridSampleDimension) {
    return (GridSampleDimension)sd;
  }
  final int[][] palette=sd.getPalette();
  final Color[] colors;
  if (palette != null) {
    final int length=palette.length;
    colors=new Color[length];
    for (int i=0; i < length; i++) {
      final int[] color=palette[i];
      colors[i]=new Color(color[0],color[1],color[2]);
    }
  }
 else {
    colors=null;
  }
  return new GridSampleDimension(sd.getDescription(),sd.getSampleDimensionType(),sd.getColorInterpretation(),colors,sd.getCategoryNames(),sd.getNoDataValues(),sd.getMinimumValue(),sd.getMaximumValue(),sd.getScale(),sd.getOffset(),sd.getUnits());
}
