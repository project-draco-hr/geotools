{
  final ColorModel color=getColorModel();
  if (color instanceof IndexColorModel) {
    final IndexColorModel cm=(IndexColorModel)color;
    final int[][] colors=new int[cm.getMapSize()][];
    for (int i=0; i < colors.length; i++) {
      colors[i]=new int[]{cm.getRed(i),cm.getGreen(i),cm.getBlue(i)};
    }
    return colors;
  }
  return null;
}
