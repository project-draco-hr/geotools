{
  final SampleModel sm=defaultSM.createCompatibleSampleModel(1,1);
  final WritableRaster raster=RasterFactory.createWritableRaster(sm,null);
  final BufferedImage sampleImage=new BufferedImage(defaultCM,raster,defaultCM.isAlphaPremultiplied(),null);
  OutputStream outStream=null;
  ObjectOutputStream ooStream=null;
  SerializableRenderedImage sri=null;
  try {
    outStream=new BufferedOutputStream(new FileOutputStream(sampleImageFile));
    ooStream=new ObjectOutputStream(outStream);
    sri=new SerializableRenderedImage(sampleImage,true);
    ooStream.writeObject(sri);
  }
  finally {
    try {
      if (ooStream != null)       ooStream.close();
    }
 catch (    Throwable e) {
      IOUtils.closeQuietly(ooStream);
    }
    try {
      if (outStream != null)       outStream.close();
    }
 catch (    Throwable e) {
      IOUtils.closeQuietly(outStream);
    }
    try {
      if (sri != null)       sri.dispose();
    }
 catch (    Throwable e) {
    }
  }
}
