{
  final SampleModel sm=defaultSM.createCompatibleSampleModel(1,1);
  final WritableRaster raster=RasterFactory.createWritableRaster(sm,null);
  final BufferedImage sampleImage=new BufferedImage(defaultCM,raster,false,null);
  OutputStream outStream=null;
  ObjectOutputStream ooStream=null;
  try {
    outStream=new BufferedOutputStream(new FileOutputStream(sampleImageFile));
    ooStream=new ObjectOutputStream(outStream);
    ooStream.writeObject(new SerializableRenderedImage(sampleImage));
  }
  finally {
    try {
      if (ooStream != null)       ooStream.close();
    }
 catch (    Throwable e) {
      IOUtils.closeQuietly(ooStream);
    }
    try {
      if (outStream != null)       outStream.close();
    }
 catch (    Throwable e) {
      IOUtils.closeQuietly(outStream);
    }
  }
}
