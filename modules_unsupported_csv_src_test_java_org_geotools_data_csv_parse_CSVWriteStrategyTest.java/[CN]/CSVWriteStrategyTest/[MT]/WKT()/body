{
  CSVFileState fileState=new CSVFileState("POINT, CITY, NUMBER, YEAR","TEST");
  CSVStrategy strategy=new CSVSpecifiedWKTStrategy(fileState,"POINT");
  SimpleFeatureType featureType=strategy.buildFeatureType();
  assertEquals("TEST",featureType.getName().getLocalPart());
  assertEquals(4,featureType.getAttributeCount());
  WKTReader2 wktReader=new WKTReader2();
  Geometry geom=wktReader.read("POINT (1 1)");
  SimpleFeature feature=SimpleFeatureBuilder.build(featureType,new Object[]{geom,"Trento",140,2002},"TEST-fid1");
  String[] csvRecord=new String[]{"POINT (1 1)","Trento","140","2002"};
  SimpleFeature parsed=strategy.decode("fid1",csvRecord);
  assertEquals(feature,parsed);
  String[] record=strategy.encode(feature);
  assertEquals(csvRecord.length,record.length);
  if (csvRecord.length == record.length) {
    for (int i=0; i < csvRecord.length; i++) {
      assertEquals(csvRecord[i],record[i]);
    }
  }
}
