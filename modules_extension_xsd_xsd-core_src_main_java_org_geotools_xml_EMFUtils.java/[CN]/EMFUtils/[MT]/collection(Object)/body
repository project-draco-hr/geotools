{
  if (null == value) {
    return Collections.EMPTY_LIST;
  }
 else   if (value.getClass().isArray()) {
    final int len=java.lang.reflect.Array.getLength(value);
    List list=new ArrayList(len);
    for (int i=0; i < len; i++) {
      Object val=Array.get(value,i);
      list.add(val);
    }
    return list;
  }
 else   if (value instanceof Collection) {
    return (Collection)value;
  }
  return Collections.singletonList(value);
}
