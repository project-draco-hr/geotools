{
  final Object input=getInput();
  ImageInputStream stream=ImageIO.createImageInputStream(input);
  if (stream != null) {
    return stream;
  }
  if (input instanceof CharSequence) {
    final String path=input.toString();
    final Object url;
    if (path.indexOf("://") > 0) {
      url=new URL(path);
    }
 else {
      url=new File(path);
    }
    stream=ImageIO.createImageInputStream(url);
    if (stream != null) {
      return stream;
    }
  }
  if (input instanceof File) {
    stream=new FileImageInputStream((File)input);
    return stream;
  }
  throw new FileNotFoundException(Errors.format(ErrorKeys.FILE_DOES_NOT_EXIST_$1,input));
}
