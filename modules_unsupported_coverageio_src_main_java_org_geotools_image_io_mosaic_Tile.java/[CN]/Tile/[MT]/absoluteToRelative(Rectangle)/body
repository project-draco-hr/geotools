{
  final int sx=xSubsampling & MASK;
  final int sy=ySubsampling & MASK;
  int xmin=region.x;
  int xmax=region.width + xmin;
  int ymin=region.y;
  int ymax=region.height + ymin;
  if (xmin < 0)   xmin-=(sx - 1);
  if (xmax > 0)   xmax+=(sx - 1);
  if (ymin < 0)   ymin-=(sy - 1);
  if (ymax > 0)   ymax+=(sy - 1);
  xmin/=sx;
  xmax/=sx;
  ymin/=sy;
  ymax/=sy;
  region.x=xmin;
  region.y=ymin;
  region.width=xmax - xmin;
  region.height=ymax - ymin;
}
