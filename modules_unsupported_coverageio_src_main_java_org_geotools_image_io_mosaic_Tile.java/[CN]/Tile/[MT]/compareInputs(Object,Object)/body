{
  if (Utilities.equals(input1,input2)) {
    return 0;
  }
  input1=toComparable(input1);
  input2=toComparable(input2);
  input1=toCompatible(input1,input2);
  input2=toCompatible(input2,input1);
  if (input1 instanceof Comparable && input1.getClass().isInstance(input2)) {
    return ((Comparable)input1).compareTo(input2);
  }
  if (input2 instanceof Comparable && input2.getClass().isInstance(input1)) {
    return -((Comparable)input2).compareTo(input1);
  }
  int c=input1.getClass().getName().compareTo(input2.getClass().getName());
  if (c != 0) {
    return c;
  }
  return System.identityHashCode(input2) - System.identityHashCode(input1);
}
