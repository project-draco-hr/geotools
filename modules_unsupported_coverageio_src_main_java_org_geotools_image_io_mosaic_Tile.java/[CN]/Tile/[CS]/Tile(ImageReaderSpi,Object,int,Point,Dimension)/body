{
  if (provider == null) {
    provider=getImageReaderSpi(input);
  }
  ensureNonNull("provider",provider);
  ensureNonNull("input",input);
  ensureNonNull("location",location);
  this.provider=provider;
  this.input=input;
  this.imageIndex=ensurePositive(imageIndex);
  this.x=location.x;
  this.y=location.y;
  if (subsampling != null) {
    xSubsampling=ensureStrictlyPositive(subsampling.width);
    ySubsampling=ensureStrictlyPositive(subsampling.height);
  }
 else {
    xSubsampling=ySubsampling=1;
  }
}
