{
  if (provider == null) {
    provider=getImageReaderSpi(input);
  }
  ensureNonNull("provider",provider);
  ensureNonNull("input",input);
  ensureNonNull("gridToCRS",gridToCRS);
  this.provider=provider;
  this.input=input;
  this.imageIndex=ensurePositive(imageIndex);
  if (region != null) {
    this.x=region.x;
    this.y=region.y;
    if (!region.isEmpty()) {
      setSize(region.width,region.height);
    }
  }
  this.gridToCRS=new AffineTransform(gridToCRS);
}
