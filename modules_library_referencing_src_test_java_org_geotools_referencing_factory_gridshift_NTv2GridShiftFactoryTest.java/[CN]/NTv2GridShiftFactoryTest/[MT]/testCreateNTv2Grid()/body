{
  boolean factoryExceptionThrown=false;
  try {
    factory.createNTv2Grid(null);
  }
 catch (  FactoryException e) {
    factoryExceptionThrown=true;
  }
  assertTrue(factoryExceptionThrown);
  factoryExceptionThrown=false;
  try {
    factory.createNTv2Grid(INEXISTENT_GRID);
  }
 catch (  FactoryException e) {
    factoryExceptionThrown=true;
  }
  assertTrue(factoryExceptionThrown);
  factoryExceptionThrown=false;
  try {
    factory.createNTv2Grid(MALFORMED_GRID);
  }
 catch (  FactoryException e) {
    factoryExceptionThrown=true;
  }
  assertTrue(factoryExceptionThrown);
  factoryExceptionThrown=false;
  GridShiftFile grid=null;
  try {
    grid=factory.createNTv2Grid(TEST_GRID);
  }
 catch (  FactoryException e) {
    factoryExceptionThrown=true;
  }
  assertFalse(factoryExceptionThrown);
  assertNotNull(grid);
  assertTrue(grid.isLoaded());
}
