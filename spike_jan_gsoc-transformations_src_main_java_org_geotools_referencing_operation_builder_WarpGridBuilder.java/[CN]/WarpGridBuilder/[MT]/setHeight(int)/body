{
  this.height=height;
  try {
    this.gridParameters=GridParameters.createGridParameters(envelope,this.envelope.getLength(0) / width,this.envelope.getLength(1) / height,(AffineTransform2D)worldToGrid,true);
  }
 catch (  TransformException e) {
    e.printStackTrace();
  }
  this.dxgrid=null;
  this.dygrid=null;
  this.warpPositions=null;
}
