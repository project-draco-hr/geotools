{
  Utilities.ensureNonNull("mosaicConfiguration",mosaicConfiguration);
  if (mosaicConfiguration.getSampleModel() != null && mosaicConfiguration.getColorModel() != null) {
    final String baseName=runConfiguration.getParameter(Prop.ROOT_MOSAIC_DIR) + "/";
    final File sampleImageFile=new File(baseName + (useName ? mosaicConfiguration.getName() : "") + Utils.SAMPLE_IMAGE_NAME);
    try {
      Utils.storeSampleImage(sampleImageFile,mosaicConfiguration.getSampleModel(),mosaicConfiguration.getColorModel());
    }
 catch (    IOException e) {
      fireEvent(Level.SEVERE,e.getLocalizedMessage(),0);
    }
  }
}
