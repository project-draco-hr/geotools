{
  if (success) {
    if (configurations != null && !configurations.isEmpty()) {
      Set<String> keys=configurations.keySet();
      final int keySize=keys.size();
      final boolean useName=keySize > 1;
      for (      String key : keys) {
        MosaicConfigurationBean mosaicConfiguration=configurations.get(key);
        RasterManager manager=parentReader.getRasterManager(key);
        manager.initialize();
        createSampleImage(mosaicConfiguration,useName);
        fireEvent(Level.INFO,"Creating final properties file ",99.9);
        createPropertiesFiles(mosaicConfiguration);
      }
      final String base=FilenameUtils.getName(parent.getAbsolutePath());
      if (keySize > 1 || (keySize > 0 && !base.equals(keys.iterator().next()))) {
        if (indexerFile.getAbsolutePath().endsWith("xml")) {
          final File mosaicFile=new File(indexerFile.getAbsolutePath().replace(Utils.INDEXER_XML,(base + ".xml")));
          FileUtils.copyFile(indexerFile,mosaicFile);
        }
 else {
          final String source=runConfiguration.getParameter(Prop.ROOT_MOSAIC_DIR) + File.separatorChar + configurations.get(keys.iterator().next()).getName()+ ".properties";
          final File mosaicFile=new File(indexerFile.getAbsolutePath().replace(Utils.INDEXER_PROPERTIES,(base + ".properties")));
          FileUtils.copyFile(new File(source),mosaicFile);
        }
      }
      fireEvent(Level.FINE,"Done!!!",100);
    }
 else {
      fireEvent(Level.FINE,"Nothing to process!!!",100);
    }
  }
 else {
    fireEvent(Level.FINE,"Canceled!!!",100);
  }
  closeIndexObjects();
}
