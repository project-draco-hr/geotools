{
  if (!request.spatialRequestHelper.isNeedsReprojection()) {
    if (XAffineTransform.isIdentity(targetWorldToGrid,EPS))     return image;
    final Hints localHints=new Hints(hints);
    if (hints != null && !hints.containsKey(JAI.KEY_BORDER_EXTENDER)) {
      final Object extender=hints.get(JAI.KEY_BORDER_EXTENDER);
      if (!(extender != null && extender instanceof BorderExtender)) {
        localHints.add(ImageUtilities.EXTEND_BORDER_BY_COPYING);
      }
    }
    ImageWorker iw=new ImageWorker(image);
    iw.setRenderingHints(localHints);
    iw.affine(targetWorldToGrid,request.getInterpolation(),DEFAULT_BACKGROUND_VALUES);
    image=iw.getRenderedImage();
  }
  return image;
}
