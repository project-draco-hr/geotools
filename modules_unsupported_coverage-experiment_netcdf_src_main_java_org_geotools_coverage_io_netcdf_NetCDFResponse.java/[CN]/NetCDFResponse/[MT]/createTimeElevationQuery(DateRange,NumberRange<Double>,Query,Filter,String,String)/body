{
  final List<Filter> filters=new ArrayList<Filter>();
  if (time != null) {
    final Range range=(Range)time;
    filters.add(FeatureUtilities.DEFAULT_FILTER_FACTORY.and(FeatureUtilities.DEFAULT_FILTER_FACTORY.lessOrEqual(FeatureUtilities.DEFAULT_FILTER_FACTORY.property(timeFilterAttribute),FeatureUtilities.DEFAULT_FILTER_FACTORY.literal(range.getMaxValue())),FeatureUtilities.DEFAULT_FILTER_FACTORY.greaterOrEqual(FeatureUtilities.DEFAULT_FILTER_FACTORY.property(timeFilterAttribute),FeatureUtilities.DEFAULT_FILTER_FACTORY.literal(range.getMinValue()))));
  }
  if (elevation != null) {
    final Range range=(Range)elevation;
    filters.add(FeatureUtilities.DEFAULT_FILTER_FACTORY.and(FeatureUtilities.DEFAULT_FILTER_FACTORY.lessOrEqual(FeatureUtilities.DEFAULT_FILTER_FACTORY.property(elevationFilterAttribute),FeatureUtilities.DEFAULT_FILTER_FACTORY.literal(range.getMaxValue())),FeatureUtilities.DEFAULT_FILTER_FACTORY.greaterOrEqual(FeatureUtilities.DEFAULT_FILTER_FACTORY.property(elevationFilterAttribute),FeatureUtilities.DEFAULT_FILTER_FACTORY.literal(range.getMinValue()))));
  }
  if (requestFilter != null) {
    filters.add(requestFilter);
  }
  Filter filter=FeatureUtilities.DEFAULT_FILTER_FACTORY.and(filters);
  query.setFilter(filter);
}
