{
  buffer.delete(0,buffer.length());
  if (n != null) {
    numFormat.setMaximumFractionDigits(decimalPlaces);
    numFormat.setMinimumFractionDigits(decimalPlaces);
    numFormat.format(n,buffer,new FieldPosition(NumberFormat.INTEGER_FIELD));
  }
  int diff=size - buffer.length();
  if (diff >= 0) {
    while (diff-- > 0) {
      buffer.insert(0,' ');
    }
  }
 else {
    buffer.setLength(size);
  }
  return buffer.toString();
}
