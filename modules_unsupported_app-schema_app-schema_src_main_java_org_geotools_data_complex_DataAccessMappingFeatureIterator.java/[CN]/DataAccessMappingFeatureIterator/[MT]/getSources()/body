{
  String id=extractIdForFeature(curSrcFeature);
  ArrayList<Feature> sources=new ArrayList<Feature>();
  if (isFiltered) {
    setNextFilteredFeature(id,sources);
  }
 else {
    List<Object> foreignIdValues=null;
    if (foreignIds != null) {
      foreignIdValues=new ArrayList<Object>();
      for (int i=0; i < foreignIds.size(); i++) {
        foreignIdValues.add(i,peekNextValue(foreignIds.get(i)));
      }
    }
    setNextFeature(id,foreignIdValues,sources);
  }
  return sources;
}
