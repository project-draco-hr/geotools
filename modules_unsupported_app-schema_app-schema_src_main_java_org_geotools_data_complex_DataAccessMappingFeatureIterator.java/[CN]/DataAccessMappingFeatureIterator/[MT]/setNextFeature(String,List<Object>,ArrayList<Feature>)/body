{
  if (features.isEmpty()) {
    features.add(curSrcFeature);
  }
  curSrcFeature=null;
  while (getSourceFeatureIterator().hasNext()) {
    Feature next=getSourceFeatureIterator().next();
    boolean isSame=false;
    if (extractIdForFeature(next).equals(fId)) {
      isSame=true;
      if (foreignIds != null) {
        for (int i=0; i < foreignIds.size(); i++) {
          if (!foreignIds.get(i).evaluate(next).equals(foreignIdValues.get(i))) {
            isSame=false;
            break;
          }
        }
      }
    }
    if (isSame) {
      features.add(next);
    }
 else {
      curSrcFeature=next;
      flagNextFeature(true);
      break;
    }
  }
}
