{
  CoordinateSequence cs=geometryFactory.getCoordinateSequenceFactory().create(numPoints,dimensions);
  DoubleBuffer dbuffer=buffer.asDoubleBuffer();
  double[] ordinates=new double[numPoints * 2];
  dbuffer.get(ordinates);
  for (int t=0; t < numPoints; t++) {
    cs.setOrdinate(t,0,ordinates[t * 2]);
    cs.setOrdinate(t,1,ordinates[t * 2 + 1]);
  }
  if (dimensions > 2) {
    dbuffer.position(dbuffer.position() + 2);
    dbuffer.get(ordinates,0,numPoints);
    for (int t=0; t < numPoints; t++) {
      cs.setOrdinate(t,2,ordinates[t]);
    }
  }
  return cs;
}
