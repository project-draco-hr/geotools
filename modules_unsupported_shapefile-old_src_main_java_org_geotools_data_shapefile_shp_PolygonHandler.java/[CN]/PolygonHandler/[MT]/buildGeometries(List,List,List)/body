{
  Polygon[] polygons;
  if (shells.size() > 0) {
    polygons=new Polygon[shells.size()];
  }
 else {
    polygons=new Polygon[holes.size()];
  }
  for (int i=0; i < shells.size(); i++) {
    polygons[i]=geometryFactory.createPolygon((LinearRing)shells.get(i),(LinearRing[])((ArrayList)holesForShells.get(i)).toArray(new LinearRing[0]));
  }
  if (shells.size() == 0) {
    for (int i=0, ii=holes.size(); i < ii; i++) {
      LinearRing hole=(LinearRing)holes.get(i);
      polygons[i]=geometryFactory.createPolygon(hole,null);
    }
  }
  Geometry g=geometryFactory.createMultiPolygon(polygons);
  return g;
}
