{
  super(filter,Integer.MAX_VALUE);
  this.transaction=new DefaultTransaction("MosaicCreationTransaction" + System.nanoTime());
  indexingPreamble();
  try {
    for (    String indexingDirectory : indexingDirectories) {
      walk(new File(indexingDirectory),null);
      if (canceled)       break;
    }
    if (canceled)     transaction.rollback();
 else     transaction.commit();
  }
 catch (  Exception e) {
    LOGGER.log(Level.WARNING,"Failure occurred while collecting the granules",e);
    transaction.rollback();
  }
 finally {
    transaction.close();
    try {
      indexingPostamble(!canceled);
    }
 catch (    Exception e) {
    }
  }
}
