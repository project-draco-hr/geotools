{
  CoordinateReferenceSystem crs=features.getSchema().getCoordinateReferenceSystem();
  BoundingBox bounds=new ReferencedEnvelope(crs);
  Iterator<SimpleFeature> iterator=features.iterator();
  try {
    while (iterator.hasNext()) {
      SimpleFeature feature=(SimpleFeature)iterator.next();
      bounds.include(feature.getBounds());
    }
  }
  finally {
    features.close(iterator);
  }
  assertFalse(bounds.isEmpty());
}
