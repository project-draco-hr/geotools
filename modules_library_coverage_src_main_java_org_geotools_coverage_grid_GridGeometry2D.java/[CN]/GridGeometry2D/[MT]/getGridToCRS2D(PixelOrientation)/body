{
  if (gridToCRS2D == null) {
    throw new InvalidGridGeometryException(ErrorKeys.NO_TRANSFORM2D_AVAILABLE);
  }
  if (!PixelOrientation.UPPER_LEFT.equals(orientation)) {
    return computeGridToCRS2D(orientation);
  }
synchronized (this) {
    if (cornerToCRS2D == null) {
      if (gridToCRS.getSourceDimensions() == 2 && gridToCRS.getTargetDimensions() == 2) {
        cornerToCRS2D=(MathTransform2D)super.getGridToCRS(PixelInCell.CELL_CORNER);
      }
 else {
        cornerToCRS2D=computeGridToCRS2D(orientation);
      }
    }
  }
  return cornerToCRS2D;
}
