{
  logger.info("Running testReturnedAttributes ...");
  ArrayList<String> toRetainFst=new ArrayList<String>();
  toRetainFst.add("str1");
  ArrayList<String> toRetainSnd=new ArrayList<String>();
  toRetainSnd.add("str2");
  SimpleFeatureCollection output2=process.execute(zonesCollection,featuresCollection,toRetainFst,toRetainSnd,IntersectionMode.INTERSECTION,true,true);
  SimpleFeatureIterator sfTemp2=output2.features();
  sfTemp2.hasNext();
  SimpleFeature sf=sfTemp2.next();
  assertNotNull(sf.getAttribute("the_geom"));
  assertNotNull(sf.getAttribute("zones_str1"));
  assertNotNull(sf.getAttribute("features_str2"));
  assertNotNull(sf.getAttribute("percentageA"));
  assertNotNull(sf.getAttribute("percentageB"));
  assertNotNull(sf.getAttribute("areaA"));
  assertNotNull(sf.getAttribute("areaB"));
  assertTrue(sf.getAttributeCount() == 7);
  SimpleFeatureCollection output3=process.execute(zonesCollection,featuresCollection,toRetainFst,toRetainSnd,IntersectionMode.INTERSECTION,false,false);
  SimpleFeatureIterator sfTemp3=output3.features();
  sfTemp3.hasNext();
  SimpleFeature sf2=sfTemp3.next();
  assertNotNull(sf2.getAttribute("the_geom"));
  assertNotNull(sf2.getAttribute("zones_str1"));
  assertNotNull(sf2.getAttribute("features_str2"));
  assertTrue(sf2.getAttributeCount() == 3);
}
