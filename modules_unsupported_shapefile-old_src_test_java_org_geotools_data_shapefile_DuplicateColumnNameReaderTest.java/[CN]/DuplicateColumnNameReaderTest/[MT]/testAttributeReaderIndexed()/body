{
  URL u=TestData.url(TestCaseSupport.class,SHPFILE);
  File shpFile=DataUtilities.urlToFile(u);
  IndexedShapefileDataStore indexedstore=new IndexedShapefileDataStore(shpFile.toURI().toURL());
  SimpleFeatureIterator it=indexedstore.getFeatureSource().getFeatures().features();
  FeatureId fid=it.next().getIdentifier();
  it.close();
  FilterFactory ff=CommonFactoryFinder.getFilterFactory(null);
  Filter idFilter=ff.id(Collections.singleton(fid));
  final Query query=new DefaultQuery(indexedstore.getSchema().getName().getLocalPart(),idFilter,new String[]{testColumn});
  final SimpleFeatureCollection indexedfeatures=indexedstore.getFeatureSource().getFeatures(query);
  SimpleFeatureIterator indexIterator=indexedfeatures.features();
  SimpleFeature indexedFeature=indexIterator.next();
  indexIterator.close();
  assertEquals(expectedValue,indexedFeature.getAttribute(testColumn));
  indexedstore.dispose();
}
