{
  ImageReaderSpi spi=null;
  if (format != null) {
    format=format.trim();
    final IIORegistry registry=IIORegistry.getDefaultInstance();
    final Iterator<ImageReaderSpi> it=registry.getServiceProviders(ImageReaderSpi.class,true);
    do {
      if (!it.hasNext()) {
        throw new IllegalArgumentException(Errors.format(ErrorKeys.UNKNOW_IMAGE_FORMAT_$1,format));
      }
      spi=it.next();
    }
 while (!XArray.contains(spi.getFormatNames(),format));
  }
  setTileReaderSpi(spi);
}
