{
  ContentState state=entry.getState(transaction);
  SimpleFeatureType featureType=state.getFeatureType();
  if (featureType == null) {
synchronized (state) {
      if (featureType == null) {
        try {
          featureType=buildFeatureType();
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
        state.setFeatureType(featureType);
      }
    }
  }
  return featureType;
}
