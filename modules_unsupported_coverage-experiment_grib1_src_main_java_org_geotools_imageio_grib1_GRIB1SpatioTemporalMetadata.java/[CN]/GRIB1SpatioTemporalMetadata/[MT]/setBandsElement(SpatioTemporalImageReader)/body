{
  GRIB1ImageReader grib1Reader=((GRIB1ImageReader)reader);
  final int imageIndex=getImageIndex();
  Band band=addBand();
  try {
    IIOMetadata metadata=grib1Reader.getImageMetadata(imageIndex);
    if (metadata instanceof UnidataImageMetadata) {
      final UnidataImageMetadata commonMetadata=(UnidataImageMetadata)metadata;
      setBandFromCommonMetadata(band,commonMetadata);
      Node node=commonMetadata.getAsTree(GRIB1ImageMetadata.nativeMetadataFormatName);
      node=node.getFirstChild();
      if (node != null) {
        node=node.getNextSibling();
        if (node != null) {
          final NamedNodeMap attributesMap=node.getAttributes();
          if (attributesMap != null) {
            Node units=attributesMap.getNamedItem(GRIB1ImageMetadata.PROD_PARAMETER_UNIT);
            if (units != null) {
              String unit=units.getNodeValue();
              if (unit != null) {
                band.setUoM(unit);
              }
            }
          }
        }
      }
    }
  }
 catch (  IOException e) {
    if (LOGGER.isLoggable(Level.WARNING))     LOGGER.warning("Unable to set band metadata");
  }
}
