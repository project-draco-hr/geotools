{
  BBoxFilterSplitter splitter=new BBoxFilterSplitter();
  Filter and=ff.and(bb,att);
  and.accept(splitter,null);
  assertEquals(bbenv,splitter.getEnvelope());
  assertEquals(bb,splitter.getFilterPre());
  assertEquals(and,splitter.getFilterPost());
  and=ff.and(bb,bb2);
  splitter=new BBoxFilterSplitter();
  and.accept(splitter,null);
  Envelope i=new Envelope(bbenv);
  i.expandToInclude(bb2env);
  Envelope s=splitter.getEnvelope();
  assertEquals(i,s);
  assertEquals(and,splitter.getFilterPost());
}
