{
  final String rid=(String)node.getAttributeValue("rid");
  final String previousRid=(String)node.getAttributeValue("previousRid");
  final Version version=(Version)node.getAttributeValue("version");
  final Calendar startTimeAtt=(Calendar)node.getAttributeValue("startDate");
  final Calendar endTimeAtt=(Calendar)node.getAttributeValue("endDate");
  Date startTime=startTimeAtt == null ? null : startTimeAtt.getTime();
  Date endTime=endTimeAtt == null ? null : endTimeAtt.getTime();
  String fid;
  String featureVersion=null;
  int idx=rid.indexOf(ResourceId.VERSION_SEPARATOR);
  if (idx == -1) {
    fid=rid;
  }
 else {
    fid=rid.substring(0,idx);
    featureVersion=rid.substring(idx + 1);
  }
  ResourceIdImpl resourceId=new ResourceIdImpl(fid,featureVersion,version);
  resourceId.setPreviousRid(previousRid);
  resourceId.setStartTime(startTime);
  resourceId.setEndTime(endTime);
  return resourceId;
}
