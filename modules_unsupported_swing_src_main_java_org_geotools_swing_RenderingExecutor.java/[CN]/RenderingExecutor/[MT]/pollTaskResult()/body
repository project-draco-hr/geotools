{
  if (!taskResult.isDone()) {
    return;
  }
  TaskResult result=TaskResult.PENDING;
  try {
    result=taskResult.get();
  }
 catch (  Exception ex) {
    throw new IllegalStateException("When getting rendering result",ex);
  }
  watcher.cancel(false);
  taskRunning.set(false);
  cancelLatch.countDown();
switch (result) {
case CANCELLED:
    mapPane.onRenderingCancelled();
  break;
case COMPLETED:
mapPane.onRenderingCompleted();
break;
case FAILED:
mapPane.onRenderingFailed();
break;
}
}
