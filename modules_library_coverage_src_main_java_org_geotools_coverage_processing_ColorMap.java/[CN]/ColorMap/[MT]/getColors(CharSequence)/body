{
  if (colorMap == null) {
    return null;
  }
  final String name=unlocalized(category);
  Object colors=colorMap.get(name);
  if (colors == null) {
    if (name != null && category instanceof InternationalString) {
      colors=getColors(category.toString());
      if (colors == null) {
        return null;
      }
    }
 else {
      return null;
    }
  }
  if (colors instanceof Color) {
    return new Color[]{(Color)colors};
  }
  return ((Color[])colors).clone();
}
