{
  DirectPosition top1=envelope1.getUpperCorner();
  DirectPosition bot1=envelope1.getLowerCorner();
  DirectPosition top2=envelope2.getUpperCorner();
  DirectPosition bot2=envelope2.getLowerCorner();
  CoordinateReferenceSystem crs=top1.getCoordinateReferenceSystem();
  if (!crs.equals(bot1.getCoordinateReferenceSystem()) || !crs.equals(top2.getCoordinateReferenceSystem()) || !crs.equals(bot2.getCoordinateReferenceSystem())) {
    throw new IllegalArgumentException("Current implementation of GeoemtryUtils.intersect requires that the corners of both Envelopes have the same CRS");
  }
  double minx1=bot1.getOrdinate(0);
  double maxx1=top1.getOrdinate(0);
  double miny1=bot1.getOrdinate(1);
  double maxy1=top1.getOrdinate(1);
  double minx2=bot2.getOrdinate(0);
  double maxx2=top2.getOrdinate(0);
  double miny2=bot2.getOrdinate(1);
  double maxy2=top2.getOrdinate(1);
  boolean xoverlap=minx2 < maxx1 && maxx2 > minx1;
  return xoverlap && (miny2 < maxy1 && maxy2 > miny1);
}
