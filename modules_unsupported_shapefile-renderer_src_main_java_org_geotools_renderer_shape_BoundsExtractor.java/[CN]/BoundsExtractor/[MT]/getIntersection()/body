{
  Envelope bbox=null;
  if (!envelopeStack.isEmpty())   bbox=(Envelope)envelopeStack.peek();
  if (original == null) {
    return bbox == null ? new Envelope() : bbox;
  }
  if (bbox != null)   return bbox.intersection(original);
  if (notEnvelope != null) {
    return intersectionWithNotEnvelope(original);
  }
  return original;
}
