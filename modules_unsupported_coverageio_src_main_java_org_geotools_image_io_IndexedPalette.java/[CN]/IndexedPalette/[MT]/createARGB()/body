{
  final Color[] colors=factory.getColors(name);
  if (colors == null) {
    throw new FileNotFoundException(factory.getErrorResources().getString(ErrorKeys.FILE_DOES_NOT_EXIST_$1,name));
  }
  final int[] ARGB=new int[size];
  if (lower >= 0) {
    ColorUtilities.expand(colors,ARGB,lower,upper);
  }
 else {
    ColorUtilities.expand(colors,ARGB,0,upper - lower);
    final int negativeStart=size + lower;
    final int negativeCount=-lower;
    final int[] negatives=new int[negativeCount];
    System.arraycopy(ARGB,0,negatives,0,negativeCount);
    System.arraycopy(ARGB,negativeCount,ARGB,0,negativeStart);
    System.arraycopy(negatives,0,ARGB,negativeStart,negativeCount);
  }
  return ARGB;
}
