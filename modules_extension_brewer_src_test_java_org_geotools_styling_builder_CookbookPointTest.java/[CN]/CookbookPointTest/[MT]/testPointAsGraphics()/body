{
  Style style=new GraphicBuilder().size(32).externalGraphic("smileyface.png","image/png").buildStyle();
  StyleCollector collector=new StyleCollector();
  style.accept(collector);
  assertSimpleStyle(collector);
  PointSymbolizer ps=(PointSymbolizer)collector.symbolizers.get(0);
  Graphic graphic=ps.getGraphic();
  assertEquals(32,(int)graphic.getSize().evaluate(null,Integer.class));
  List<GraphicalSymbol> symbols=graphic.graphicalSymbols();
  assertEquals(1,symbols.size());
  ExternalGraphic eg=(ExternalGraphic)symbols.get(0);
  assertEquals("image/png",eg.getFormat());
  assertEquals("smileyface.png",eg.getOnlineResource().getLinkage().toString());
}
