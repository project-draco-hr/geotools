{
  MarkBuilder mb=new GraphicBuilder().size(12).mark().name("triangle");
  mb.fill().color(Color.RED).opacity(0.2);
  mb.stroke().color(Color.BLUE).width(2);
  Style style=mb.buildStyle();
  StyleCollector collector=new StyleCollector();
  style.accept(collector);
  assertSimpleStyle(collector);
  PointSymbolizer ps=(PointSymbolizer)collector.symbolizers.get(0);
  Graphic graphic=ps.getGraphic();
  assertEquals(12,(int)graphic.getSize().evaluate(null,Integer.class));
  List<GraphicalSymbol> symbols=graphic.graphicalSymbols();
  assertEquals(1,symbols.size());
  Mark mark=(Mark)symbols.get(0);
  assertEquals("triangle",mark.getWellKnownName().evaluate(null));
  Fill fill=mark.getFill();
  assertEquals(Color.RED,fill.getColor().evaluate(null,Color.class));
  assertEquals(0.2,(double)fill.getOpacity().evaluate(null,Double.class),0);
  Stroke stroke=mark.getStroke();
  assertEquals(Color.BLUE,stroke.getColor().evaluate(null,Color.class));
  assertEquals(2,(int)stroke.getWidth().evaluate(null,Integer.class));
}
