{
  GraphicBuilder gb=new GraphicBuilder().size(6);
  gb.anchor().x(0).y(1);
  gb.displacement().x(10).y(20);
  Style style=gb.mark().name("circle").fill().color(Color.RED).buildStyle();
  StyleCollector collector=new StyleCollector();
  style.accept(collector);
  assertSimpleStyle(collector);
  PointSymbolizer ps=(PointSymbolizer)collector.symbolizers.get(0);
  Graphic graphic=ps.getGraphic();
  assertEquals(6,(int)graphic.getSize().evaluate(null,Integer.class));
  AnchorPoint ap=graphic.getAnchorPoint();
  assertNotNull(ap);
  assertEquals(0,ap.getAnchorPointX().evaluate(0,Double.class),0d);
  assertEquals(1,ap.getAnchorPointY().evaluate(0,Double.class),0d);
  Displacement ds=graphic.getDisplacement();
  assertNotNull(ds);
  assertEquals(10,ds.getDisplacementX().evaluate(0,Double.class),0d);
  assertEquals(20,ds.getDisplacementY().evaluate(0,Double.class),0d);
  List<GraphicalSymbol> symbols=graphic.graphicalSymbols();
  assertEquals(1,symbols.size());
  Mark mark=(Mark)symbols.get(0);
  assertEquals("circle",mark.getWellKnownName().evaluate(null));
  assertEquals(Color.RED,mark.getFill().getColor().evaluate(null,Color.class));
}
