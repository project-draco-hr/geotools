{
  if (prefix == null) {
    String filename;
    if (input instanceof File) {
      filename=((File)input).getName();
    }
 else     if (input instanceof URI || input instanceof URL || input instanceof CharSequence) {
      filename=input.toString();
      filename=filename.substring(filename.lastIndexOf('/') + 1);
    }
 else {
      filename=DEFAULT_PREFIX;
    }
    int length=filename.lastIndexOf('.');
    if (length < 0) {
      length=filename.length();
    }
    int i;
    for (i=0; i < length; i++) {
      if (!Character.isLetter(filename.charAt(i))) {
        break;
      }
    }
    prefix=filename.substring(0,i);
  }
}
