{
  ParameterBlockJAI pb=new ParameterBlockJAI("BandMergeOp",RenderedRegistryMode.MODE_NAME);
  int numSources=sources.length;
  if (numSources <= 0) {
    throw new IllegalArgumentException("No resources are present");
  }
  for (int index=0; index < numSources; index++) {
    RenderedImage source=sources[index];
    if (source == null) {
      throw new IllegalArgumentException("This resource is null");
    }
    pb.setSource(source,index);
  }
  if (transform != null && !transform.isEmpty() && transform.get(0) instanceof AffineTransform) {
    pb.setParameter("transformations",transform);
  }
  pb.setParameter("noData",noData);
  pb.setParameter("destinationNoData",destinationNoData);
  pb.setParameter("roi",roi);
  return JAI.create("BandMergeOp",pb,hints);
}
