{
  Geometry result;
  try {
    result=geometry.intersection(mask);
  }
 catch (  Exception e1) {
    try {
      result=EnhancedPrecisionOp.intersection(geometry,mask);
    }
 catch (    Exception e2) {
      result=geometry;
    }
  }
  if (result instanceof GeometryCollection && ((GeometryCollection)result).isEmpty()) {
    return null;
  }
 else {
    return result;
  }
}
