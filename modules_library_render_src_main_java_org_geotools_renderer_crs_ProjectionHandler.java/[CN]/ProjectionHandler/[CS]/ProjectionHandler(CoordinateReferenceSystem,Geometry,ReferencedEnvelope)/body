{
  if (validArea.isRectangle()) {
    this.renderingEnvelope=renderingEnvelope;
    this.sourceCRS=sourceCRS;
    this.targetCRS=renderingEnvelope.getCoordinateReferenceSystem();
    this.validAreaBounds=new ReferencedEnvelope(validArea.getEnvelopeInternal(),sourceCRS);
    this.validArea=null;
  }
 else {
    this.renderingEnvelope=renderingEnvelope;
    this.sourceCRS=sourceCRS;
    this.targetCRS=renderingEnvelope.getCoordinateReferenceSystem();
    this.validAreaBounds=new ReferencedEnvelope(validArea.getEnvelopeInternal(),sourceCRS);
    this.validArea=validArea;
  }
}
