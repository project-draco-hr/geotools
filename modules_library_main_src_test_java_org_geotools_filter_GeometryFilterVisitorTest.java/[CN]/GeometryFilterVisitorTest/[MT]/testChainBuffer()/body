{
  Function innerBuffer=ff.function("buffer",ff.property("the_geom"),ff.literal(3));
  Function geomTx=ff.function("buffer",innerBuffer,ff.literal(2));
  ReferencedEnvelope re=new ReferencedEnvelope(0,2,0,2,null);
  GeometryTransformationVisitor visitor=new GeometryTransformationVisitor();
  ReferencedEnvelope result=(ReferencedEnvelope)geomTx.accept(visitor,re);
  ReferencedEnvelope expected=new ReferencedEnvelope(-5,7,-5,7,null);
  assertEquals(expected,result);
}
