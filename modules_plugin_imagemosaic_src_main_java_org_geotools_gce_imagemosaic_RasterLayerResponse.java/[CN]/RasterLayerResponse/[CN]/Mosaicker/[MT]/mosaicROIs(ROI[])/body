{
  if (inputROIArray == null || inputROIArray.length == 0) {
    return null;
  }
  List<ROI> rois=new ArrayList<ROI>();
  for (  ROI roi : inputROIArray) {
    if (roi != null) {
      rois.add(roi);
    }
  }
  int roiCount=rois.size();
  if (roiCount == 0) {
    return null;
  }
 else   if (roiCount == 1) {
    return rois.get(0);
  }
 else {
    PlanarImage[] images=new PlanarImage[rois.size()];
    int i=0;
    for (    ROI roi : rois) {
      images[i++]=roi.getAsImage();
    }
    ROI[] roisArray=rois.toArray(new ROI[rois.size()]);
    RenderedOp overallROI=MosaicDescriptor.create(images,MosaicDescriptor.MOSAIC_TYPE_OVERLAY,null,roisArray,new double[][]{{1.0}},new double[]{0.0},hints);
    return new ROI(overallROI);
  }
}
