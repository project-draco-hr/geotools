{
  final int minimum=0;
  final int maximum=200;
  final int padValue=255;
  final SampleConverter[] converters=new SampleConverter[1];
  final GeographicImageReader reader=new NullImageReader(DataBuffer.TYPE_BYTE,minimum,maximum,padValue);
  final GeographicImageReadParam param=(GeographicImageReadParam)reader.getDefaultReadParam();
  param.setPaletteName("grayscale");
  final ImageTypeSpecifier specifier=reader.getRawImageType(0,param,converters);
  final SampleConverter converter=converters[0];
  assertNotNull(converter);
  assertEquals(0,converter.getOffset(),0.0);
  assertEquals(minimum,converter.convert(minimum));
  assertEquals(maximum,converter.convert(maximum));
  assertEquals(padValue,converter.convert(padValue));
  final SampleModel sm=specifier.getSampleModel();
  assertNotNull(sm);
  assertEquals(DataBuffer.TYPE_BYTE,sm.getDataType());
  final ColorModel cm=specifier.getColorModel();
  assertTrue(cm instanceof IndexColorModel);
  final IndexColorModel indexed=(IndexColorModel)cm;
  assertEquals(256,indexed.getMapSize());
  assertEquals(0xFF000000,indexed.getRGB(minimum & 0xFFFF));
  assertEquals(0xFFFFFFFF,indexed.getRGB(maximum & 0xFFFF));
  assertEquals(0x00000000,indexed.getRGB(padValue & 0xFFFF));
}
