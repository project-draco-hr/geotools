{
  if (capabilities == null) {
    return null;
  }
  List namedLayersList=new ArrayList();
  Layer[] layers=(Layer[])capabilities.getLayerList().toArray(new Layer[capabilities.getLayerList().size()]);
  for (int i=0; i < layers.length; i++) {
    if ((layers[i].getName() != null) && (layers[i].getName().length() != 0)) {
      namedLayersList.add(layers[i]);
    }
  }
  Layer[] namedLayers=new Layer[namedLayersList.size()];
  for (int i=0; i < namedLayersList.size(); i++) {
    namedLayers[i]=(Layer)namedLayersList.get(i);
  }
  return namedLayers;
}
