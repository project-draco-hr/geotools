{
  for (int i=0; i < sort.length; i++) {
    String order;
    if (sort[i].getSortOrder() == SortOrder.DESCENDING) {
      order=" DESC";
    }
 else {
      order=" ASC";
    }
    if (SortBy.NATURAL_ORDER.equals(sort[i]) || SortBy.REVERSE_ORDER.equals(sort[i])) {
      throw new IOException("Cannot do natural order in joining queries");
    }
 else {
      if (alias) {
        encodeColumnName2(sort[i].getPropertyName().getPropertyName(),tableName,sql,null);
      }
 else {
        encodeColumnName(sort[i].getPropertyName().getPropertyName(),tableName,sql,null);
      }
      sql.append(order);
      sql.append(",");
    }
  }
}
