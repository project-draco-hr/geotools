{
  double xscale=screenArea.getWidth() / requestedBounds.getWidth();
  double yscale=screenArea.getHeight() / requestedBounds.getHeight();
  worldToScreen=new AffineTransform(xscale,0,0,-yscale,-xscale * requestedBounds.getMinX(),yscale * requestedBounds.getMaxY());
  try {
    screenToWorld=worldToScreen.createInverse();
  }
 catch (  NoninvertibleTransformException ex) {
    throw new RuntimeException("Unable to create coordinate transforms.",ex);
  }
}
