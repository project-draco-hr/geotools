{
  if (other instanceof GeneralGridGeometry) {
    final GeneralGridGeometry general=(GeneralGridGeometry)other;
    gridRange=general.gridRange;
    gridToCRS=general.gridToCRS;
    cornerToCRS=general.cornerToCRS;
    envelope=general.envelope;
  }
 else {
    gridRange=other.getGridRange();
    gridToCRS=other.getGridToCRS();
    if (gridRange != null && gridToCRS != null) {
      envelope=new GeneralEnvelope(gridRange,PixelInCell.CELL_CENTER,gridToCRS,null);
    }
 else {
      envelope=null;
    }
  }
}
