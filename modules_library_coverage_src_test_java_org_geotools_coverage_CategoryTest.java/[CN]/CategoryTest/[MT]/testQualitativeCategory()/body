{
  for (int pass=0; pass < 100; pass++) {
    final int sample=random.nextInt(64);
    final Category category1=new Category("Auto",null,sample);
    final Category category2=new Category(category1.getName(),category1.getColors(),category1.getRange(),category1.getSampleToGeophysics());
    assertEquals("<init>",category1,category2);
    assertValueEquals("lower",category1.geophysics(false).getRange().getMinValue().intValue(),sample);
    assertValueEquals("upper",category1.geophysics(false).getRange().getMaxValue().intValue(),sample);
    assertNull("geophysics(false)",category1.geophysics(false).getSampleToGeophysics());
    assertNull("geophysics(true)",category1.geophysics(true).getSampleToGeophysics());
    for (int i=0; i < 200; i++) {
      final double x=100 * random.nextDouble();
      final double y1=category1.transform.transform(x);
      final double y2=category2.transform.transform(x);
      assertTrue("toGeophysics(1)",Double.isNaN(y1));
      assertTrue("toGeophysics(2)",Double.isNaN(y2));
      assertEquals("NaN",Double.doubleToRawLongBits(y1),Double.doubleToRawLongBits(y2));
      assertEquals("toSample(1)",sample,category1.inverse.transform.transform(y1),0);
      assertEquals("toSample(2)",sample,category2.inverse.transform.transform(y2),0);
    }
  }
}
