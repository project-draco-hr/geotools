{
  Mark[] marks=null;
  ExternalGraphic[] graphics=null;
  if (node.getChild("Mark") != null) {
    List l=node.getChildValues("Mark");
    marks=(Mark[])l.toArray(new Mark[l.size()]);
  }
 else {
    List l=node.getChildValues("ExternalGraphic");
    graphics=(ExternalGraphic[])l.toArray(new ExternalGraphic[l.size()]);
  }
  Expression opacity=(Expression)node.getChildValue("Opacity");
  Expression size=(Expression)node.getChildValue("Size");
  Expression rotation=(Expression)node.getChildValue("Rotation");
  Graphic graphic=styleFactory.createGraphic(graphics,marks,null,opacity,size,rotation);
  if (node.getChild("Displacement") != null) {
    graphic.setDisplacement((Displacement)node.getChildValue("Displacement"));
  }
  if (node.getChild("AnchorPoint") != null) {
    graphic.setAnchorPoint((AnchorPoint)node.getChildValue("AnchorPoint"));
  }
  return graphic;
}
