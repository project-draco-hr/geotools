{
  List locators=new ArrayList();
  List resolvers=new ArrayList();
  for (Iterator d=allDependencies().iterator(); d.hasNext(); ) {
    XSD dependency=(XSD)d.next();
    SchemaLocator locator=dependency.createSchemaLocator();
    if (locator != null) {
      locators.add(locator);
    }
    SchemaLocationResolver resolver=dependency.createSchemaLocationResolver();
    if (resolver != null) {
      resolvers.add(resolver);
    }
  }
  SchemaLocationResolver resolver=createSchemaLocationResolver();
  if (resolver != null) {
    resolvers.add(resolver);
  }
  return Schemas.parse(getSchemaLocation(),locators,resolvers);
}
