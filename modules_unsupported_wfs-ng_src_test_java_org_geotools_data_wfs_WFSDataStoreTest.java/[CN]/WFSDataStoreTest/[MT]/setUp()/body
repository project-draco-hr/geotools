{
  WFSConfig config=createConfig();
  simpleTypeName1=new NameImpl(TYPE1.getNamespaceURI(),config.localTypeName(TYPE1));
  simpleTypeName2=new NameImpl(TYPE2.getNamespaceURI(),config.localTypeName(TYPE2));
  featureType1=createType("http://example.com/1","prefix1_points","name:String,geom:Point:srid=4326");
  featureType2=createType("http://example.com/2","prefix2_points","name:String,geom:Point:srid=3857");
  wfs=mock(WFSClient.class);
  when(wfs.getConfig()).thenReturn(config);
  when(wfs.getRemoteTypeNames()).thenReturn(new HashSet<QName>(Arrays.asList(TYPE1,TYPE2)));
  when(wfs.supportsTransaction(TYPE1)).thenReturn(Boolean.TRUE);
  when(wfs.supportsTransaction(TYPE2)).thenReturn(Boolean.FALSE);
  dataStore=spy(new WFSDataStore(wfs));
  doReturn(featureType1).when(dataStore).getRemoteFeatureType(TYPE1);
  doReturn(featureType2).when(dataStore).getRemoteFeatureType(TYPE2);
  doReturn(featureType1).when(dataStore).getRemoteSimpleFeatureType(TYPE1);
  doReturn(featureType2).when(dataStore).getRemoteSimpleFeatureType(TYPE2);
}
