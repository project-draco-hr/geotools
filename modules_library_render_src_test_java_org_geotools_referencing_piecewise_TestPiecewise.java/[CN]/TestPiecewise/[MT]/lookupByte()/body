{
  final RenderedImage image=new ImageWorker(JAI.create("ImageRead",TestData.file(this,"usa.png"))).forceComponentColorModel().retainFirstBand().getRenderedImage();
  if (TestData.isInteractiveTest())   ImageIOUtilities.visualize(image,"testLookupByte");
  final DefaultPiecewiseTransform1DElement c1=DefaultLinearPiecewiseTransform1DElement.create("c1",NumberRange.create(1,128),NumberRange.create(1,255));
  final DefaultPiecewiseTransform1DElement c0=DefaultLinearPiecewiseTransform1DElement.create("c0",NumberRange.create(129,255),NumberRange.create(255,255));
  final DefaultPiecewiseTransform1DElement nodata=DefaultLinearPiecewiseTransform1DElement.create("nodata",NumberRange.create(0,0),0);
  final DefaultPiecewiseTransform1D<DefaultPiecewiseTransform1DElement> list=new DefaultPiecewiseTransform1D<DefaultPiecewiseTransform1DElement>(new DefaultPiecewiseTransform1DElement[]{c0,c1,nodata});
  final ParameterBlockJAI pbj=new ParameterBlockJAI(GenericPiecewise.OPERATION_NAME);
  pbj.addSource(image);
  pbj.setParameter("Domain1D",list);
  final RenderedOp finalimage=JAI.create(GenericPiecewise.OPERATION_NAME,pbj);
  if (TestData.isInteractiveTest())   ImageIOUtilities.visualize(finalimage,"testLookupByte");
 else   finalimage.getTiles();
}
