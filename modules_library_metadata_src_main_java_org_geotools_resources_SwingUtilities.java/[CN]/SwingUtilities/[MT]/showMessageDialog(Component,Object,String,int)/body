{
  if (!EventQueue.isDispatchThread()) {
    invokeAndWait(new Runnable(){
      public void run(){
        showMessageDialog(owner,message,title,type);
      }
    }
);
    return;
  }
  if (JOptionPane.getDesktopPaneForComponent(owner) != null) {
    JOptionPane.showInternalMessageDialog(owner,message,title,type);
  }
 else {
    JOptionPane.showMessageDialog(owner,message,title,type);
  }
}
