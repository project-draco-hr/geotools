{
  ShpFileType[] types=ShpFileType.values();
  for (  ShpFileType shpFileType : types) {
    OutputStream out=files.getOutputStream(shpFileType,this);
    assertEquals(1,files.numberOfLocks());
    try {
      out.write((byte)2);
    }
  finally {
      out.close();
      assertEquals(0,files.numberOfLocks());
    }
  }
}
