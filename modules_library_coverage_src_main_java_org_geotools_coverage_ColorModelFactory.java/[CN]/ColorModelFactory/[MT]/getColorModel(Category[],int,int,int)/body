{
synchronized (colors) {
    ColorModelFactory key=new ColorModelFactory(categories,type,visibleBand,numBands);
    ColorModel model=colors.get(key);
    if (model == null) {
      model=key.getColorModel();
      colors.put(key,model);
    }
    return model;
  }
}
