{
  File[] htmlFileList=htmlDirectory.listFiles(new HtmlFileFilter());
  for (  File htmlFile : htmlFileList) {
    String htmlName=htmlFile.getName();
    int split=htmlName.lastIndexOf('_');
    String name=split == -1 ? htmlName : htmlName.substring(0,split);
    name=fixPageReference(name);
    String mdName=name + ".md";
    File mdFile=new File(wikiDirectory,mdName);
    System.out.println(htmlFile + " to " + mdFile.getName());
    if (mdFile.exists()) {
      boolean deleted=mdFile.delete();
      if (!deleted) {
        System.out.println("\tCould not remove '" + mdFile + "' do you have it open in an editor?");
        System.out.println("\tSkipping ...");
        continue;
      }
    }
    boolean success=pandoc(htmlFile,mdFile);
    if (!success) {
      break;
    }
    fixAndMoveImages(mdFile);
  }
}
