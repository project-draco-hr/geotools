{
  FeatureTypeInfo info=typeHandler.getFeatureTypeInfo(typeName);
  int srid=-1;
  SQLEncoderPostgis encoder=new SQLEncoderPostgis();
  encoder.setSupportsGEOS(useGeos);
  encoder.setFIDMapper(typeHandler.getFIDMapper(typeName));
  if (info.getSchema().getGeometryDescriptor() != null) {
    String geom=info.getSchema().getGeometryDescriptor().getLocalName();
    srid=info.getSRID(geom);
    encoder.setDefaultGeometry(geom);
  }
  encoder.setFeatureType(info.getSchema());
  encoder.setSRID(srid);
  encoder.setLooseBbox(looseBbox);
  PostgisSQLBuilder builder=new PostgisSQLBuilder(encoder,config,info.getSchema());
  initBuilder(builder);
  return builder;
}
