{
  Map<String,Serializable> params=new HashMap<String,Serializable>();
  params.put(URLP.key,url);
  boolean isLocal=url.getProtocol().equalsIgnoreCase("file");
  File file=DataUtilities.urlToFile(url);
  if (file != null && file.isDirectory()) {
    return null;
  }
 else {
    if (isLocal && !file.exists()) {
      return (FileDataStore)createNewDataStore(params);
    }
 else {
      return (FileDataStore)createDataStore(params);
    }
  }
}
