{
  final String typeName=testData.getTempTableName();
  String[] cols={"SHAPE"};
  final SeFilter[] spatFilters;
  try {
    SeExtent extent=new SeExtent(179,-1,180,0);
    SeLayer layer=session.getLayer(typeName);
    SeShape filterShape=new SeShape(layer.getCoordRef());
    filterShape.generateRectangle(extent);
    SeShapeFilter bboxFilter=new SeShapeFilter(typeName,layer.getSpatialColumn(),filterShape,SeFilter.METHOD_ENVP,true);
    spatFilters=new SeFilter[]{bboxFilter};
  }
 catch (  SeException eek) {
    throw new ArcSdeException(eek);
  }
  SeSqlConstruct sqlCons=new SeSqlConstruct(typeName);
  final SeQueryInfo seQueryInfo=new SeQueryInfo();
  seQueryInfo.setColumns(cols);
  seQueryInfo.setConstruct(sqlCons);
  SeExtent extent=session.issue(new Command<SeExtent>(){
    @Override public SeExtent execute(    ISession session,    SeConnection connection) throws SeException, IOException {
      SeQuery spatialQuery=new SeQuery(connection);
      spatialQuery.setSpatialConstraints(SeQuery.SE_SPATIAL_FIRST,false,spatFilters);
      SeExtent extent=spatialQuery.calculateLayerExtent(seQueryInfo);
      return extent;
    }
  }
);
  assertNotNull(extent);
}
