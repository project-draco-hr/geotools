{
  super.setUp();
  URL url=backshp.toURI().toURL();
  ds=new IndexedShapefileDataStore(url,null,false,true,IndexType.QIX);
  numFeatures=0;
  featureStore=(SimpleFeatureStore)ds.getFeatureSource();
{
    SimpleFeatureIterator features=featureStore.getFeatures().features();
    try {
      while (features.hasNext()) {
        numFeatures++;
        SimpleFeature feature=features.next();
        fids.put(feature.getID(),feature);
      }
    }
  finally {
      if (features != null)       features.close();
    }
    assertEquals(numFeatures,fids.size());
  }
}
