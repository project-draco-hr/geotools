{
  VersionDetail vDetail=VersionDetail.extractVersionDetails(query);
  if (vDetail == null) {
    return Iterators.emptyIterator();
  }
  VersionDetail.VersionType vType=vDetail.getType();
switch (vType) {
case Action:
    return fetchByAction(vDetail.getAction()).iterator();
case Date:
  return fetchByDate(vDetail.getDate()).iterator();
case DateRange:
return fetchByRange(vDetail.getRange()).iterator();
case Index:
return fetchByIndex(vDetail.getIndex()).iterator();
}
return Iterators.emptyIterator();
}
