{
  if (ratio > 0 && ratio < Double.POSITIVE_INFINITY) {
    final boolean inverse=(ratio < 0.75);
    if (inverse) {
      ratio=1 / ratio;
    }
    final double integer=Math.rint(ratio);
    if (integer < Integer.MAX_VALUE && Math.abs(ratio - integer) < EPS) {
      int level=(int)integer;
      if (inverse) {
        level=-level;
      }
      return level;
    }
  }
  return 0;
}
