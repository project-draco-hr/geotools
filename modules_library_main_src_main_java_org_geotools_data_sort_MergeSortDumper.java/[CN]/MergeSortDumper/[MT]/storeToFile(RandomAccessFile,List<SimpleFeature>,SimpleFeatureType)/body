{
  long start=raf.getFilePointer();
  List<AttributeDescriptor> attributes=schema.getAttributeDescriptors();
  for (  SimpleFeature sf : features) {
    raf.writeUTF(sf.getID());
    for (    AttributeDescriptor ad : attributes) {
      Object value=sf.getAttribute(ad.getLocalName());
      writeAttribute(raf,ad,value);
    }
  }
  return new FeatureBlockReader(raf,start,features.size(),schema);
}
