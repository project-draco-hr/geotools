{
  String filename="/tmp/wkt.properties";
  Properties diff=new Properties();
  String compare=null;
  if (args.length > 0) {
    filename=args[0];
  }
  if (args.length > 1) {
    File file=new File(args[1]);
    if (file.exists()) {
      InputStream in=new FileInputStream(file);
      diff.load(in);
    }
  }
  FileOutputStream out=new FileOutputStream(filename);
  Writer writer=new BufferedWriter(new OutputStreamWriter(out,"8859_1"));
  writer.append("Generate from EPSG database version " + ThreadedHsqlEpsgFactory.VERSION);
  Properties props=new Properties();
  for (  String code : CRS.getSupportedCodes("EPSG")) {
    try {
      CoordinateReferenceSystem crs=CRS.decode("EPSG:" + code,true);
      String wkt=crs.toString().replaceAll("\n","").replaceAll("  ","");
      CRS.parseWKT(wkt);
      props.put(code,wkt);
      diff.remove(code);
    }
 catch (    Exception e) {
      System.out.println("#" + code + " -> "+ e.getMessage());
    }
  }
  props.store(out,"Generated from EPSG database version " + ThreadedHsqlEpsgFactory.VERSION);
  if (!diff.isEmpty()) {
    diff.store(out,"Extra Definitions Supplied from Community");
  }
  out.close();
}
