{
  SimpleFeatureType ROAD=store.getSchema("road");
  SimpleFeature chrisFeature=SimpleFeatureBuilder.build(ROAD,new Object[]{new Integer(5),"chris"},"fid5");
  chrisFeature.getUserData().put(Hints.USE_PROVIDED_FID,Boolean.TRUE);
  SimpleFeatureStore roadAuto=(SimpleFeatureStore)store.getFeatureSource("road");
  SimpleFeatureCollection addCollection=DataUtilities.collection(chrisFeature);
  List<FeatureId> fids=roadAuto.addFeatures(addCollection);
  assertEquals(1,fids.size());
  FeatureId fid=SimpleFeatureBuilder.createDefaultFeatureIdentifier("fid5");
  assertTrue(fids.contains(fid));
  SimpleFeatureIterator it=roadAuto.getFeatures(ff.id(Collections.singleton(fid))).features();
  assertTrue(it.hasNext());
  SimpleFeature sf=it.next();
  it.close();
  assertEquals(fid,sf.getIdentifier());
}
