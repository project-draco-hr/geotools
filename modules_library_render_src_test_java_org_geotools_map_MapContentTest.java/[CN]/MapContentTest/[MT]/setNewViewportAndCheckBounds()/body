{
  MapContent map=new MapContent();
  map.addLayer(new MockLayer(WORLD_ENV));
  MapViewport newViewport=new MapViewport();
  newViewport.setBounds(SUB_ENV);
  map.setViewport(newViewport);
  ReferencedEnvelope bounds=map.getBounds();
  assertTrue(SUB_ENV.boundsEquals2D(bounds,TOL));
}
