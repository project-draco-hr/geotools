{
  if (Filter.INCLUDE == query.getFilter() && getTransaction() == Transaction.AUTO_COMMIT) {
    File file=new File(store.directory,typeName + ".properties");
    if (cacheCount != -1 && file.lastModified() == cacheTimestamp) {
      return cacheCount;
    }
    cacheCount=countFile(file);
    cacheTimestamp=file.lastModified();
    return cacheCount;
  }
  return -1;
}
