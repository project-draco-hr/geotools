{
  final URL testFile=new File("C:\\work\\data\\bigtiff\\tiles").toURI().toURL();
  assertNotNull(testFile);
  final AbstractGridFormat format=new ImagePyramidFormat();
  assertTrue(format.accepts(testFile));
  final ImagePyramidReader reader=(ImagePyramidReader)format.getReader(testFile);
  assertNotNull(reader);
  GeneralEnvelope ge=reader.getOriginalEnvelope();
  final Parameter<GridGeometry2D> readGG=new Parameter<GridGeometry2D>(AbstractGridFormat.READ_GRIDGEOMETRY2D);
  readGG.setValue(new GridGeometry2D(new GridEnvelope2D(0,0,1024,1024),ge));
  final GridCoverage2D coverage=(GridCoverage2D)reader.read(new GeneralParameterValue[]{readGG});
  assertNotNull("Null value returned instead of a coverage",coverage);
  ImageIOUtilities.visualize(((GridCoverage2D)coverage).getRenderedImage(),"",true);
  PlanarImage.wrapRenderedImage(((GridCoverage2D)coverage).getRenderedImage()).getTiles();
}
