{
  if (source == null) {
    return null;
  }
  final Any[] entries=new Any[source.length];
  for (int i=0; i < entries.length; i++) {
    entries[i]=new Any<T>(i,source[i]);
  }
  final int[] ranks=ranks(entries);
  if (target != null) {
    for (int i=Math.min(entries.length,target.length); --i >= 0; ) {
      @SuppressWarnings("unchecked") final Any<T> entry=(Any<T>)entries[i];
      target[i]=entry.value;
    }
  }
  return ranks;
}
