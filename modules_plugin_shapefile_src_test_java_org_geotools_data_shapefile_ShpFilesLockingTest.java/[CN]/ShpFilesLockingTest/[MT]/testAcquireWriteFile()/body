{
  ShpFiles shpFiles=new ShpFiles("http://somefile.com/shp.shp");
  try {
    shpFiles.acquireWriteFile(DBF,this);
    fail("Not a file should send exception");
  }
 catch (  IllegalStateException e) {
  }
  String path="somefile.shp";
  shpFiles=new ShpFiles(new File(path));
  File file=shpFiles.acquireWriteFile(SHP,this);
  assertEquals(new File(path).getCanonicalPath().toLowerCase(),file.getPath().toLowerCase());
  assertEquals(1,shpFiles.numberOfLocks());
  shpFiles.unlockWrite(file,this);
  assertEquals(0,shpFiles.numberOfLocks());
  shpFiles.dispose();
}
