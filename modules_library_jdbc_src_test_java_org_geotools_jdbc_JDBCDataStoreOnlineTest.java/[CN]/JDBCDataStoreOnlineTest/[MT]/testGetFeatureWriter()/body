{
  try (FeatureWriter<SimpleFeatureType,SimpleFeature> writer=dataStore.getFeatureWriter(tname("ft1"),Transaction.AUTO_COMMIT)){
    while (writer.hasNext()) {
      SimpleFeature feature=writer.next();
      feature.setAttribute(aname("stringProperty"),"foo");
      writer.write();
    }
  }
   Query query=new Query(tname("ft1"));
  try (FeatureReader<SimpleFeatureType,SimpleFeature> reader=dataStore.getFeatureReader(query,Transaction.AUTO_COMMIT)){
    assertTrue(reader.hasNext());
    while (reader.hasNext()) {
      SimpleFeature feature=reader.next();
      assertEquals("foo",feature.getAttribute(aname("stringProperty")));
    }
  }
 }
