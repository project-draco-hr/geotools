{
  reset(conn);
{
    conn.setConnectTimeout(anyInt());
    expectLastCall();
    conn.setReadTimeout(anyInt());
    expectLastCall();
    expect(conn.getInputStream()).andThrow(new IOException());
  }
  replay(conn);
  URI uri=URI.createURI("http://example.com");
  exception.expect(IOException.class);
  handler.createInputStream(uri,Collections.EMPTY_MAP);
}
