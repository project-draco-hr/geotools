{
  this.query=query;
  this.session=session;
  this.fidReader=query.getFidReader();
  this.schema=query.getSchema();
  this.geometryFactory=geometryFactory;
  String typeName=schema.getTypeName();
  this.fidPrefix=new StringBuffer(typeName).append('.');
  this.fidPrefixLen=this.fidPrefix.length();
  final GeometryDescriptor geomType=schema.getGeometryDescriptor();
  if (geomType != null) {
    this.schemaGeometryClass=(Class<? extends Geometry>)geomType.getType().getBinding();
  }
 else {
    this.schemaGeometryClass=null;
  }
  query.execute();
}
