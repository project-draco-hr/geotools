{
  final ImageGeometry geometry=metadata.getGeometry();
  final int dimension=geometry.getDimension();
  final GeneralEnvelope envelope=new GeneralEnvelope(dimension);
  for (int i=0; i < dimension; i++) {
    final NumberRange<Double> range=geometry.getOrdinateRange(i);
    final double min=range.getMinimum();
    final double max=range.getMaximum();
    try {
      envelope.setRange(i,min,max);
    }
 catch (    IndexOutOfBoundsException e) {
      throw new MetadataException(e.getLocalizedMessage());
    }
  }
  return envelope.clone();
}
