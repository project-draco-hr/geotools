{
  final ImageGeometry geometry=metadata.getGeometry();
  final int dimension=geometry.getDimension();
  final int[] lowers=new int[dimension];
  final int[] uppers=new int[dimension];
  for (int i=0; i < dimension; i++) {
    final NumberRange<Integer> range=geometry.getGridRange(i);
    lowers[i]=range.getMinValue();
    uppers[i]=range.getMaxValue();
    if (!range.isMinIncluded())     lowers[i]++;
    if (!range.isMaxIncluded())     uppers[i]--;
  }
  return new GeneralGridEnvelope(lowers,uppers,true);
}
