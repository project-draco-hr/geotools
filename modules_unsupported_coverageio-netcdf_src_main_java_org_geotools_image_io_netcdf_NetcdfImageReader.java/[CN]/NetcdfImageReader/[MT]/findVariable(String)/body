{
  ensureFileOpen();
  Variable candidate=dataset.findVariable(name);
  if (candidate != null) {
    return candidate;
  }
  final List<Variable> variables=dataset.getVariables();
  if (variables != null) {
    for (    final Variable variable : variables) {
      if (variable != null && name.equalsIgnoreCase(variable.getName())) {
        return variable;
      }
    }
  }
  throw new IIOException(Errors.format(ErrorKeys.VARIABLE_NOT_FOUND_IN_FILE_$2,name,dataset.getLocation()));
}
