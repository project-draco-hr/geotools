{
  if (!file.exists() && !file.mkdirs()) {
    throw new IOException("Schema store directory does not exist and could not be created: " + file.getAbsolutePath());
  }
  if (file.isDirectory()) {
    if (!File.createTempFile("test",".tmp",file).delete()) {
      throw new IOException("Unable to write to schema store directory: " + file.getAbsolutePath());
    }
  }
 else {
    throw new IOException("Specified schema store directory exists but is not a directory: " + file.getAbsolutePath());
  }
}
