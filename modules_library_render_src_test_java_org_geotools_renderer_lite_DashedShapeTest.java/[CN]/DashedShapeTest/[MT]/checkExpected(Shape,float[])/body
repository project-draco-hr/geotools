{
  PathIterator pi=stroked.getPathIterator(new AffineTransform());
  float[] piSegment=new float[2];
  for (  float[] segment : segments) {
    if (pi.isDone()) {
      fail("The iterator has less segments than expected");
    }
    int type=pi.currentSegment(piSegment);
    assertEquals(type,(int)segment[0]);
    assertEquals(segment[1],piSegment[0],EPS);
    assertEquals(segment[2],piSegment[1],EPS);
    pi.next();
  }
  if (!pi.isDone()) {
    fail("The iterator has more segments than expected");
  }
}
