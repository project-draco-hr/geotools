{
  PostPreProcessFilterSplittingVisitor visitor=new PostPreProcessFilterSplittingVisitor(ATTRIBUTE_FILTER_CAPABILITIES,schema,null);
  filter.accept(visitor,null);
  Filter preFilter=visitor.getFilterPre();
  if (preFilter != Filter.EXCLUDE && preFilter != Filter.INCLUDE) {
    StringWriter writer=new StringWriter();
    FilterToSQL sqlConverter=new FilterToSQL(writer);
    preFilter.accept(sqlConverter,null);
    return writer.getBuffer().toString();
  }
  return null;
}
