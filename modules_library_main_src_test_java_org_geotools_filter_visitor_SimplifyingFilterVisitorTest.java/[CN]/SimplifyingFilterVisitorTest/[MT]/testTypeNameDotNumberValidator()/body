{
  final String typeName="states";
  FIDValidator validator;
  validator=new SimplifyingFilterVisitor.TypeNameDotNumberFidValidator(typeName);
  visitor.setFIDValidator(validator);
  Set<Identifier> ids=new HashSet<Identifier>();
  ids.add(ff.featureId("_states"));
  ids.add(ff.featureId("states.abc"));
  ids.add(ff.featureId("states.."));
  ids.add(ff.featureId("states.123"));
  Id filter=ff.id(ids);
  Filter result=(Filter)filter.accept(visitor,null);
  Filter expected=ff.id(Collections.singleton(ff.featureId("states.123")));
  assertEquals(expected,result);
}
