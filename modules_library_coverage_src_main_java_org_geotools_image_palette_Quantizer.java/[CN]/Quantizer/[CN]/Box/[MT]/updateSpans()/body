{
  int minr, maxr, ming, maxg, minb, maxb, mina, maxa;
  int color=histogram.getPackedColor(idx);
  minr=maxr=red(color);
  ming=maxg=green(color);
  minb=maxb=blue(color);
  mina=maxa=alpha(color);
  final int start=idx + 1;
  final int end=idx + colors;
  for (int i=start; i < end; i++) {
    color=histogram.getPackedColor(i);
    int r=red(color);
    if (r < minr) {
      minr=r;
    }
 else     if (r > maxr) {
      maxr=r;
    }
    int g=green(color);
    if (g < ming) {
      ming=g;
    }
 else     if (g > maxg) {
      maxg=g;
    }
    int b=blue(color);
    if (b < minb) {
      minb=b;
    }
 else     if (b > maxb) {
      maxb=b;
    }
    int a=alpha(color);
    if (a < mina) {
      mina=a;
    }
 else     if (a > maxa) {
      maxa=a;
    }
  }
  this.spana=maxa - mina;
  this.spanr=maxr - minr;
  this.spang=maxg - ming;
  this.spanb=maxb - minb;
}
