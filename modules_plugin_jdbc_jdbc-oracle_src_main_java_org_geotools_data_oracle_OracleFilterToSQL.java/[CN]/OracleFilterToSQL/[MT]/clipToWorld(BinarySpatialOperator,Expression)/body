{
  if (e instanceof Literal) {
    Geometry eval=e.evaluate(filter,Geometry.class);
    if (dialect != null && isCurrentGeometryGeodetic() && !WORLD.contains(eval.getEnvelopeInternal())) {
      Geometry result=eval.intersection(JTS.toGeometry(WORLD));
      if (result != null && !result.isEmpty()) {
        if (result instanceof GeometryCollection) {
          result=distillSameTypeGeometries((GeometryCollection)result,eval);
        }
        e=new FilterFactoryImpl().createLiteralExpression(result);
      }
    }
  }
  return e;
}
