{
  DefaultQuery q=new DefaultQuery("roads");
  q.setMaxFeatures(10);
  SimpleFeatureType type=DataUtilities.createType("roads","_=the_geom:Point,FID:String,NAME:String");
  JDBCFeatureSource fs=createMock(JDBCFeatureSource.class);
  expect(fs.getSchema()).andReturn(type).anyTimes();
  expect(fs.count(q,Transaction.AUTO_COMMIT)).andReturn(20);
  replay(fs);
  DefaultFeatureResults results=new JDBCFeatureCollection(fs,q);
  assertEquals(10,results.size());
}
