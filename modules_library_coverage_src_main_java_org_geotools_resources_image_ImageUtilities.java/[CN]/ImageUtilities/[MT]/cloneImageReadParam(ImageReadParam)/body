{
  ExtendedImageParam newParam=new ExtendedImageParam();
  if (param.hasController()) {
    newParam.setController(param.getController());
  }
  newParam.setDestination(param.getDestination());
  if (param.getDestinationType() != null) {
    newParam.setDestinationType(param.getDestinationType());
  }
  newParam.setDestinationBands(param.getDestinationBands());
  newParam.setDestinationOffset(param.getDestinationOffset());
  newParam.setSourceBands(param.getSourceBands());
  newParam.setSourceRegion(param.getSourceRegion());
  if (param.getSourceMaxProgressivePass() != Integer.MAX_VALUE) {
    newParam.setSourceProgressivePasses(param.getSourceMinProgressivePass(),param.getSourceNumProgressivePasses());
  }
  if (param.canSetSourceRenderSize()) {
    newParam.setSourceRenderSize(param.getSourceRenderSize());
  }
  newParam.setSourceSubsampling(param.getSourceXSubsampling(),param.getSourceYSubsampling(),param.getSubsamplingXOffset(),param.getSubsamplingYOffset());
  if (param instanceof ExtendedImageParam) {
    newParam.setBands(((ExtendedImageParam)param).getBands());
  }
  return newParam;
}
