{
  deleteIfExists(getTestDB());
  CouchDBConnection db=client.createDB(getTestDB());
  try {
    db.putDesignDocument("not json");
    fail("expected error");
  }
 catch (  CouchDBException ex) {
    assertTrue("expected reason",ex.getMessage().indexOf("invalid UTF-8 JSON") >= 0);
  }
  db.putDesignDocument(resolveFile("design-doc.json"));
}
