{
  AttributeType attrType=descriptor.getType();
  GtEntityType type=GtEntityType.fromBinding(attrType.getBinding());
  hout.writeInt(type.getValue());
  hout.writeBoolean(descriptor.isNillable());
  Name propertyName=descriptor.getName();
  hout.writeString(propertyName.getNamespaceURI() == null ? "" : propertyName.getNamespaceURI());
  hout.writeString(propertyName.getLocalPart());
  hout.writeInt(descriptor.getMaxOccurs());
  hout.writeInt(descriptor.getMinOccurs());
  Name typeName=attrType.getName();
  hout.writeString(typeName.getNamespaceURI() == null ? "" : typeName.getNamespaceURI());
  hout.writeString(typeName.getLocalPart());
  if (type.equals(GtEntityType.GEOMETRY) && attrType instanceof GeometryType) {
    GeometryType gt=(GeometryType)attrType;
    hout.writeObject(gt.getBinding());
    CoordinateReferenceSystem crs=gt.getCoordinateReferenceSystem();
    String srsName;
    if (crs == null) {
      srsName="urn:ogc:def:crs:EPSG::0";
    }
 else {
      srsName=CRS.toSRS(crs);
    }
    if (srsName != null) {
      hout.writeBoolean(true);
      hout.writeString(srsName);
    }
 else {
      String wkt;
      if (crs instanceof Formattable) {
        wkt=((Formattable)crs).toWKT(Formattable.SINGLE_LINE);
      }
 else {
        wkt=crs.toWKT();
      }
      hout.writeBoolean(false);
      hout.writeString(wkt);
    }
  }
}
