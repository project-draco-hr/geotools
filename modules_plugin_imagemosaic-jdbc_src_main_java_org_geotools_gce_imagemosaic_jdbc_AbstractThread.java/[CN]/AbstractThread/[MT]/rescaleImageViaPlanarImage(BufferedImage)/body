{
  PlanarImage planarImage=new TiledImage(image,image.getWidth(),image.getHeight());
  int interpolation=Interpolation.INTERP_NEAREST;
  if (config.getInterpolation().intValue() == 2)   interpolation=Interpolation.INTERP_BILINEAR;
  if (config.getInterpolation().intValue() == 3)   interpolation=Interpolation.INTERP_BICUBIC;
  ImageWorker w=new ImageWorker(planarImage);
  w.scale(new Float(rescaleX),new Float(rescaleY),0.0f,0.0f,Interpolation.getInstance(interpolation));
  RenderedOp result=w.getRenderedOperation();
  Raster scaledImageRaster=result.getData();
  if (!(scaledImageRaster instanceof WritableRaster))   scaledImageRaster=result.copyData();
  ColorModel colorModel=image.getColorModel();
  BufferedImage scaledImage=new BufferedImage(colorModel,(WritableRaster)scaledImageRaster,image.isAlphaPremultiplied(),null);
  return scaledImage;
}
