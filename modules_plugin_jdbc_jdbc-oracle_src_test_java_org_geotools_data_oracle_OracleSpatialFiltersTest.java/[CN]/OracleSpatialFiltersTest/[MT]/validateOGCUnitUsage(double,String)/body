{
  Coordinate coordinate=new Coordinate(3.031,2.754);
  GeometryFactory factory=new GeometryFactory();
  Point point=factory.createPoint(coordinate);
  Geometry[] geometries={point};
  GeometryCollection geometry=new GeometryCollection(geometries,factory);
  FilterFactory2 ff=CommonFactoryFinder.getFilterFactory2(null);
  PropertyName geomName=ff.property(aname("geom"));
  Literal lit=ff.literal(geometry);
  DWithin dwithinGeomFilter=((FilterFactory2)ff).dwithin(geomName,lit,distance,unit);
  Query query=new Query(tname("road"),dwithinGeomFilter);
  SimpleFeatureCollection features=dataStore.getFeatureSource(tname("road")).getFeatures(query);
  assertEquals(1,features.size());
  checkSingleResult(features,"r2");
}
