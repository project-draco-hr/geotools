{
  File shpFile=copyShapefiles(STATE_POP);
  URL url=shpFile.toURI().toURL();
  IndexedShapefileDataStore ds=new IndexedShapefileDataStore(url,null,true,true,IndexType.NONE);
  SimpleFeatureSource fs=ds.getFeatureSource();
  FilterFactory2 ff=CommonFactoryFinder.getFilterFactory2(null);
  DefaultQuery q=new DefaultQuery();
  q.setPropertyNames(new String[]{"STATE_NAME","PERSONS"});
  ReferencedEnvelope queryBounds=new ReferencedEnvelope(-75.102613,-72.361859,40.212597,41.512517,null);
  q.setFilter(ff.bbox(ff.property(""),queryBounds));
  SimpleFeatureCollection fc=fs.getFeatures(q);
  assertTrue(fc.size() > 0);
  ds.dispose();
}
