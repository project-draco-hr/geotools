{
  PropertyIsEqualTo complexFilter=ff.equals(ff.property("measurement/result"),ff.literal(1.1));
  Filter unrolled=(Filter)complexFilter.accept(visitor,null);
  assertNotNull(unrolled);
  assertTrue(unrolled instanceof PropertyIsEqualTo);
  assertNotSame(complexFilter,unrolled);
  Expression left=((PropertyIsEqualTo)unrolled).getExpression1();
  Expression right=((PropertyIsEqualTo)unrolled).getExpression2();
  assertTrue(left instanceof PropertyName);
  assertTrue(right instanceof Literal);
  PropertyName attExp=(PropertyName)left;
  String expectedAtt="results_value";
  assertEquals(expectedAtt,attExp.getPropertyName());
  assertEquals(new Double(1.1),((Literal)right).getValue());
}
