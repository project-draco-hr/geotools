{
  DataBuffer colorMapData;
switch (transferType) {
case DataBuffer.TYPE_BYTE:
    colorMapData=new DataBufferByte(size,numBanks);
  break;
case DataBuffer.TYPE_USHORT:
colorMapData=new DataBufferUShort(size,numBanks);
break;
default :
throw new IllegalArgumentException();
}
for (int elem=0; elem < size; elem++) {
for (int bank=0; bank < numBanks; bank++) {
int value=elem & 0xFF;
colorMapData.setElem(bank,elem,value);
}
}
return colorMapData;
}
