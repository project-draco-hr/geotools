{
  boolean axisFlipped=axisFlipped(srsName);
  ReferencedEnvelope result=reference(layers.get(0).getEnvelope(crs));
  if (result.getCoordinateReferenceSystem() instanceof GeographicCRS && axisFlipped) {
    result=flipEnvelope(result);
  }
  for (int i=1; i < layers.size(); i++) {
    ReferencedEnvelope layerEnvelope=reference(layers.get(i).getEnvelope(crs));
    if (layerEnvelope.getCoordinateReferenceSystem() instanceof GeographicCRS && axisFlipped) {
      layerEnvelope=flipEnvelope(layerEnvelope);
    }
    result.expandToInclude(layerEnvelope);
  }
  this.bounds=result;
  this.originalEnvelope=new GeneralEnvelope(result);
}
