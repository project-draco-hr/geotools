{
  if (reader != null) {
    original=null;
    live=null;
    Pointer<?> driver=OGR_DS_GetDriver(reader.dataSource);
    Pointer<Byte> driverName=OGR_Dr_GetName(driver);
    if ("ESRI Shapefile".equals(getCString(driverName)) && deletedFeatures) {
      String layerName=getCString(OGR_L_GetName(reader.layer));
      OGR_DS_ExecuteSQL(reader.dataSource,pointerToCString("REPACK " + layerName),null,null);
    }
    OGR_L_SyncToDisk(reader.layer);
    reader.close();
  }
}
