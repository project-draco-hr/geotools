{
  if (live == null)   throw new IOException("No current feature to write");
  boolean changed=live.equals(original);
  if (!changed && original != null && layer == reader.layer) {
  }
 else   if (changed && original != null && layer == reader.layer) {
    layer.SetFeature(mapper.convertGTFeature(layer.GetLayerDefn(),live));
  }
 else {
    org.gdal.ogr.Feature ogrFeature=mapper.convertGTFeature(layer.GetLayerDefn(),original != null ? original : live);
    layer.CreateFeature(ogrFeature);
    ((FeatureIdImpl)live.getIdentifier()).setID(mapper.convertOGRFID(featureType,ogrFeature));
    ogrFeature.delete();
  }
  live=null;
  original=null;
}
