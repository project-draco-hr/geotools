{
  if (live == null)   throw new IOException("No current feature to write");
  boolean changed=!live.equals(original);
  if (!changed && original != null) {
  }
 else   if (original != null) {
    Pointer ogrFeature=mapper.convertGTFeature(layerDefinition,live);
    checkError(OGR_L_SetFeature(layer,ogrFeature));
  }
 else {
    Pointer ogrFeature=mapper.convertGTFeature(layerDefinition,live);
    checkError(OGR_L_CreateFeature(layer,ogrFeature));
    String geotoolsId=mapper.convertOGRFID(featureType,ogrFeature);
    ((FeatureIdImpl)live.getIdentifier()).setID(geotoolsId);
    OGR_F_Destroy(ogrFeature);
  }
  live=null;
  original=null;
}
