{
  Utilities.ensureNonNull("inStream",inStream);
  try {
    inStream.mark();
    final Iterator<ImageReader> readersIt=ImageIO.getImageReaders(inStream);
    if (!readersIt.hasNext()) {
      return null;
    }
    return readersIt.next();
  }
  finally {
    try {
      inStream.reset();
    }
 catch (    IOException e) {
      if (LOGGER.isLoggable(Level.FINE))       LOGGER.log(Level.FINE,e.getLocalizedMessage(),e);
    }
  }
}
