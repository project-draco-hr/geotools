{
  Statement st=cx.createStatement();
  try {
    for (    AttributeDescriptor ad : featureType.getAttributeDescriptors()) {
      if (ad instanceof GeometryDescriptor) {
        String bbox=null;
        GeometryDescriptor gd=(GeometryDescriptor)ad;
        if (gd.getCoordinateReferenceSystem() != null) {
          CoordinateReferenceSystem crs=gd.getCoordinateReferenceSystem();
          CoordinateSystem cs=crs.getCoordinateSystem();
          if (cs.getDimension() == 2) {
            CoordinateSystemAxis a0=cs.getAxis(0);
            CoordinateSystemAxis a1=cs.getAxis(1);
            bbox="(";
            bbox+=(Double.isInfinite(a0.getMinimumValue()) ? DEFAULT_AXIS_MIN : a0.getMinimumValue()) + ", ";
            bbox+=(Double.isInfinite(a1.getMinimumValue()) ? DEFAULT_AXIS_MIN : a1.getMinimumValue()) + ", ";
            bbox+=(Double.isInfinite(a0.getMaximumValue()) ? DEFAULT_AXIS_MAX : a0.getMaximumValue()) + ", ";
            bbox+=Double.isInfinite(a1.getMaximumValue()) ? DEFAULT_AXIS_MAX : a1.getMaximumValue();
            bbox+=")";
          }
        }
        if (bbox == null) {
          continue;
        }
        StringBuffer sql=new StringBuffer("CREATE SPATIAL INDEX ");
        encodeTableName(featureType.getTypeName() + "_" + gd.getLocalName()+ "_index",sql);
        sql.append(" ON ");
        encodeTableName(featureType.getTypeName(),sql);
        sql.append("(");
        encodeColumnName(null,gd.getLocalName(),sql);
        sql.append(")");
        sql.append(" WITH ( BOUNDING_BOX = ").append(bbox).append(")");
        LOGGER.fine(sql.toString());
        st.execute(sql.toString());
      }
    }
  }
  finally {
    dataStore.closeSafe(st);
  }
}
