{
  RasterSymbolizer rs=sb.createRasterSymbolizer();
  Style s=sb.createStyle(rs);
  SelectedChannelType red=sf.createSelectedChannelType("red",sf.createContrastEnhancement(ff.literal(0.2)));
  SelectedChannelType green=sf.createSelectedChannelType("green",sf.createContrastEnhancement(ff.literal(0.4)));
  SelectedChannelType blue=sf.createSelectedChannelType("blue",sf.createContrastEnhancement(ff.literal(0.7)));
  SLD.setChannelSelection(s,new SelectedChannelType[]{red,green,blue},null);
  assertNull(SLD.rasterSymbolizer(s).getChannelSelection().getGrayChannel());
  assertNotNull(SLD.rasterSymbolizer(s).getChannelSelection().getRGBChannels());
  SelectedChannelType[] selectedChannels=SLD.rasterSymbolizer(s).getChannelSelection().getRGBChannels();
  assertEquals("red",selectedChannels[0].getChannelName());
  assertEquals("green",selectedChannels[1].getChannelName());
  assertEquals("blue",selectedChannels[2].getChannelName());
  assertNotSame(SLD.rasterSymbolizer(s),rs);
}
