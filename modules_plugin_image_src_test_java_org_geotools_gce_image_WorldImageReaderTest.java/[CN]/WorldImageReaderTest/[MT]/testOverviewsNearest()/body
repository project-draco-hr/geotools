{
  final File file=TestData.file(this,"etopo.tif");
  WorldImageReader wiReader=new WorldImageReader(file);
  assertEquals(0,getChosenOverview(250,wiReader));
  assertEquals(0,getChosenOverview(125,wiReader));
  assertEquals(3,getChosenOverview(73,wiReader));
  assertEquals(2,getChosenOverview(31,wiReader));
  assertEquals(4,getChosenOverview(16,wiReader));
  assertEquals(1,getChosenOverview(9,wiReader));
  assertEquals(1,getChosenOverview(4,wiReader));
  assertEquals(4,getChosenOverview(13,wiReader));
  assertEquals(4,getChosenOverview(13,wiReader));
  wiReader.dispose();
  wiReader=new WorldImageReader(file);
  final ParameterValue policy=(ParameterValue)((AbstractGridFormat)wiReader.getFormat()).OVERVIEW_POLICY.createValue();
  policy.setValue(OverviewPolicy.NEAREST);
  assertEquals(0,getChosenOverview(250,wiReader,policy));
  assertEquals(0,getChosenOverview(125,wiReader,policy));
  assertEquals(3,getChosenOverview(73,wiReader,policy));
  assertEquals(2,getChosenOverview(31,wiReader,policy));
  assertEquals(4,getChosenOverview(16,wiReader,policy));
  assertEquals(1,getChosenOverview(9,wiReader,policy));
  assertEquals(1,getChosenOverview(4,wiReader,policy));
  assertEquals(4,getChosenOverview(13,wiReader));
  assertEquals(4,getChosenOverview(13,wiReader));
  wiReader.dispose();
}
