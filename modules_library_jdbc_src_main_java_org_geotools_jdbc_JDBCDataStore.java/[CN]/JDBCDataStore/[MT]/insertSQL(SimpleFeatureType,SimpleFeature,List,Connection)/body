{
  BasicSQLDialect dialect=(BasicSQLDialect)getSQLDialect();
  PrimaryKey key=null;
  try {
    key=getPrimaryKey(featureType);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  Set<String> pkColumnNames=getColumnNames(key);
  StringBuffer sql=new StringBuffer();
  sql.append("INSERT INTO ");
  encodeTableName(featureType.getTypeName(),sql,null);
  sql.append(" ( ");
  for (int i=0; i < featureType.getAttributeCount(); i++) {
    String colName=featureType.getDescriptor(i).getLocalName();
    if (pkColumnNames.contains(colName)) {
      continue;
    }
    dialect.encodeColumnName(colName,sql);
    sql.append(",");
  }
  boolean useExisting=Boolean.TRUE.equals(feature.getUserData().get(Hints.USE_PROVIDED_FID));
  for (  PrimaryKeyColumn col : key.getColumns()) {
    if (!(col instanceof AutoGeneratedPrimaryKeyColumn) || useExisting) {
      dialect.encodeColumnName(col.getName(),sql);
      sql.append(",");
    }
  }
  sql.setLength(sql.length() - 1);
  sql.append(" ) VALUES ( ");
  for (int i=0; i < featureType.getAttributeCount(); i++) {
    AttributeDescriptor att=featureType.getDescriptor(i);
    String colName=att.getLocalName();
    if (pkColumnNames.contains(colName)) {
      continue;
    }
    Class binding=att.getType().getBinding();
    Object value=feature.getAttribute(colName);
    if (value == null) {
      if (!att.isNillable()) {
      }
      sql.append("null");
    }
 else {
      if (Geometry.class.isAssignableFrom(binding)) {
        try {
          Geometry g=(Geometry)value;
          int srid=getGeometrySRID(g,att);
          dialect.encodeGeometryValue(g,srid,sql);
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
 else {
        dialect.encodeValue(value,binding,sql);
      }
    }
    sql.append(",");
  }
  for (int i=0; i < key.getColumns().size(); i++) {
    PrimaryKeyColumn col=key.getColumns().get(i);
    if (!(col instanceof AutoGeneratedPrimaryKeyColumn) || useExisting) {
      try {
        Object value=keyValues.get(i);
        dialect.encodeValue(value,col.getType(),sql);
        sql.append(",");
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
  sql.setLength(sql.length() - 1);
  sql.append(")");
  return sql.toString();
}
