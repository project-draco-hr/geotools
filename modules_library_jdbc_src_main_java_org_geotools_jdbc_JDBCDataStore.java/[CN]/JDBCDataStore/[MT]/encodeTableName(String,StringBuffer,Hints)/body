{
  VirtualTable vtDefinition=virtualTables.get(tableName);
  if (vtDefinition != null) {
    sql.append("(").append(vtDefinition.expandParameters(hints)).append(")");
    dialect.encodeTableAlias("vtable",sql);
  }
 else {
    if (databaseSchema != null) {
      dialect.encodeSchemaName(databaseSchema,sql);
      sql.append(".");
    }
    dialect.encodeTableName(tableName,sql);
  }
}
