{
  final StagingArea index=getRepository().getIndex();
  Iterator<Triplet<ObjectWriter<?>,BoundingBox,List<String>>> iterator;
  Function<Feature,Triplet<ObjectWriter<?>,BoundingBox,List<String>>> function=new Function<Feature,Triplet<ObjectWriter<?>,BoundingBox,List<String>>>(){
    @Override public Triplet<ObjectWriter<?>,BoundingBox,List<String>> apply(    final Feature f){
      Name name=f.getType().getName();
      String namespaceURI=name.getNamespaceURI();
      String localPart=name.getLocalPart();
      String id=f.getIdentifier().getID();
      Triplet<ObjectWriter<?>,BoundingBox,List<String>> tuple;
      ObjectWriter<?> writer=WrappedSerialisingFactory.getInstance().createFeatureWriter(f);
      BoundingBox bounds=f.getBounds();
      List<String> path=Arrays.asList(namespaceURI,localPart,id);
      tuple=new Triplet<ObjectWriter<?>,BoundingBox,List<String>>(writer,bounds,path);
      return tuple;
    }
  }
;
  iterator=Iterators.transform(Iterators.forArray(features),function);
  index.inserted(iterator,new NullProgressListener(),null);
}
