{
  final GeoGIT ggit=new GeoGIT(getRepository());
  List<RevCommit> commits=new ArrayList<RevCommit>();
  for (  Feature f : features) {
    insertAndAdd(f);
    if (oneCommitPerFeature) {
      RevCommit commit=ggit.commit().call();
      commits.add(commit);
    }
  }
  if (!oneCommitPerFeature) {
    RevCommit commit=ggit.commit().call();
    commits.add(commit);
  }
  return commits;
}
