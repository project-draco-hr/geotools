{
  GridCoverage2D coverage;
  final Parameter<GridGeometry2D> readGGParam=new Parameter<GridGeometry2D>(AbstractGridFormat.READ_GRIDGEOMETRY2D);
  readGGParam.setValue(readGG);
  if (params != null) {
    GeneralParameterValue[] readParams=(GeneralParameterValue[])params;
    final int length=readParams.length;
    if (length > 0) {
      final String name=AbstractGridFormat.READ_GRIDGEOMETRY2D.getName().toString();
      int i=0;
      for (; i < length; i++)       if (readParams[i].getDescriptor().getName().toString().equalsIgnoreCase(name))       break;
      if (i < length) {
        ((Parameter)readParams[i]).setValue(readGGParam);
        coverage=(GridCoverage2D)reader.read(readParams);
      }
 else {
        GeneralParameterValue[] readParams2=new GeneralParameterValue[length + 1];
        System.arraycopy(readParams,0,readParams2,0,length);
        readParams2[length]=readGGParam;
        coverage=(GridCoverage2D)reader.read(readParams2);
      }
    }
 else     coverage=(GridCoverage2D)reader.read(new GeneralParameterValue[]{readGGParam});
  }
 else   if (readGG != null) {
    coverage=(GridCoverage2D)reader.read(new GeneralParameterValue[]{readGGParam});
  }
 else {
    coverage=(GridCoverage2D)reader.read(null);
  }
  return coverage;
}
