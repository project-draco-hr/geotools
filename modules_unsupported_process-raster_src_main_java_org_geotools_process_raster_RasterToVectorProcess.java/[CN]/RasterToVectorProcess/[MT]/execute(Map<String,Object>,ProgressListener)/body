{
  Object o;
  GridCoverage2D cov=(GridCoverage2D)input.get(RasterToVectorFactory.RASTER.key);
  int band=0;
  o=input.get(RasterToVectorFactory.BAND.key);
  if (o != null) {
    band=(Integer)o;
  }
  Envelope bounds=(Envelope)input.get(RasterToVectorFactory.BOUNDS.key);
  Collection<Double> outsideValues=(Collection<Double>)input.get(RasterToVectorFactory.OUTSIDE.key);
  if (outsideValues == null) {
    outsideValues=Collections.emptyList();
  }
  boolean insideEdges=true;
  o=input.get(RasterToVectorFactory.INSIDE_EDGES.key);
  if (o != null) {
    insideEdges=(Boolean)o;
  }
  FeatureCollection features=convert(cov,band,bounds,outsideValues,insideEdges,monitor);
  Map<String,Object> results=new HashMap<String,Object>();
  results.put(RasterToVectorFactory.RESULT_FEATURES.key,features);
  return results;
}
