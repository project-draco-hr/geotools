{
  SimpleFeatureCollection features=(SimpleFeatureCollection)input.get(AbstractFeatureCollectionProcessFactory.FEATURES.key);
  String attributeStr=(String)input.get(VectorToRasterFactory.ATTRIBUTE.key);
  Expression attribute=null;
  try {
    attribute=ECQL.toExpression(attributeStr);
  }
 catch (  CQLException e) {
    throw new VectorToRasterException(e);
  }
  int w=(Integer)input.get(VectorToRasterFactory.RASTER_WIDTH.key);
  int h=(Integer)input.get(VectorToRasterFactory.RASTER_HEIGHT.key);
  Dimension gridDim=new Dimension(w,h);
  ReferencedEnvelope env=(ReferencedEnvelope)input.get(VectorToRasterFactory.BOUNDS.key);
  String title=(String)input.get(VectorToRasterFactory.TITLE.key);
  if (title == null) {
    title="raster";
  }
  GridCoverage2D cov=convert(features,attribute,gridDim,env,title,monitor);
  Map<String,Object> results=new HashMap<String,Object>();
  results.put(VectorToRasterFactory.RESULT.key,cov);
  return results;
}
