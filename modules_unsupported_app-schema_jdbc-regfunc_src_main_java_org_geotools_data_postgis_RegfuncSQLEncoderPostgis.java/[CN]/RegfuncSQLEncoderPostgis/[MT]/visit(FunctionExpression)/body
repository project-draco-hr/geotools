{
  try {
    String name=expression.getName();
    if (!name.matches("\\p{javaJavaIdentifierStart}\\p{javaJavaIdentifierPart}*")) {
      throw new RuntimeException("Function expression name \"" + name + "\" is not a valid SQL identifier");
    }
    out.write(escapeName(name) + "(");
    boolean isFirstParameter=true;
    for (Iterator parameterIterator=expression.getParameters().iterator(); parameterIterator.hasNext(); ) {
      Expression parameter=(Expression)parameterIterator.next();
      if (isFirstParameter) {
        isFirstParameter=false;
      }
 else {
        out.write(", ");
      }
      parameter.accept(this);
    }
    out.write(")");
  }
 catch (  IOException e) {
    throw new RuntimeException("IO problems writing function expression",e);
  }
}
