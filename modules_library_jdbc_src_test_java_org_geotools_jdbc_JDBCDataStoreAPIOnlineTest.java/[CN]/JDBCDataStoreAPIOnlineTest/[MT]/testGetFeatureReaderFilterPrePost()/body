{
  FilterFactory factory=CommonFactoryFinder.getFilterFactory(null);
  FilterFunction_geometryType geomTypeExpr=new FilterFunction_geometryType();
  geomTypeExpr.setParameters((List)Collections.singletonList(factory.property(aname("geom"))));
  PropertyIsEqualTo filter=factory.equals(geomTypeExpr,factory.literal("Polygon"));
  try (Transaction t=new DefaultTransaction()){
    try (FeatureReader<SimpleFeatureType,SimpleFeature> reader=dataStore.getFeatureReader(new Query(tname("road"),filter),t)){
      assertNotNull(reader);
      assertFalse(reader.hasNext());
    }
     filter=factory.equals(geomTypeExpr,factory.literal("LineString"));
    try (FeatureReader<SimpleFeatureType,SimpleFeature> reader=dataStore.getFeatureReader(new Query(tname("road"),filter),t)){
      assertTrue(reader.hasNext());
    }
   }
 }
