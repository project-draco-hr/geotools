{
  SimpleFeature feature;
  int count=0;
  try {
    while (reader.hasNext()) {
      feature=(SimpleFeature)reader.next();
      assertMatch(array,feature);
      count++;
    }
  }
  finally {
    reader.close();
  }
  assertEquals("array not matched by reader",array.length,count);
}
