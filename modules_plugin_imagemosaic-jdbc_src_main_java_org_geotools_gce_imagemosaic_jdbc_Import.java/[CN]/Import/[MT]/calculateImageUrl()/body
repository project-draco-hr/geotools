{
  if (typ == ImportTyp.DIR) {
    try {
      return imageFiles[currentPos - 1].toURI().toURL();
    }
 catch (    MalformedURLException e1) {
    }
  }
  URL startUrl=null;
  if (typ == ImportTyp.SHAPE)   startUrl=shapeFileUrl;
  if (typ == ImportTyp.CSV)   startUrl=csvFileURL;
  String path=startUrl.getPath();
  int index=path.lastIndexOf('/');
  String imagePath=null;
  if (index == -1) {
    imagePath=currentLocation;
  }
 else {
    imagePath=path.substring(0,index + 1) + currentLocation;
  }
  try {
    return new URL(startUrl.getProtocol(),startUrl.getHost(),startUrl.getPort(),imagePath);
  }
 catch (  MalformedURLException e) {
    logError(e,e.getMessage());
    return null;
  }
}
