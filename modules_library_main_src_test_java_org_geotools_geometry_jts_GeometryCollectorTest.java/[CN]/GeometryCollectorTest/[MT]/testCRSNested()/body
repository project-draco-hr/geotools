{
  WKTReader reader=new WKTReader();
  GeometryCollector collector=new GeometryCollector();
  collector.setFactory(null);
  final Geometry p0=reader.read("MULTIPOINT(0 0, 1 1)");
  p0.setUserData(DefaultGeographicCRS.WGS84);
  collector.add(p0);
  final Geometry p1=reader.read("MULTIPOINT(2 2, 3 3)");
  collector.add(p1);
  p1.setUserData(DefaultGeographicCRS.WGS84);
  GeometryCollection result=collector.collect();
  assertEquals(4,result.getNumGeometries());
  assertSame(DefaultGeographicCRS.WGS84,result.getUserData());
  assertEquals(reader.read("POINT(0 0)"),result.getGeometryN(0));
}
