{
  final DefaultTextMetadataParser parser=new DefaultTextMetadataParser();
  parser.setGeographicMetadata(new GeographicMetadata());
  parser.add("Alias 1","Value 1");
  parser.add("Alias 2","Value 2");
  try {
    parser.add("  alias  1","Value X");
    fail();
  }
 catch (  AmbiguousMetadataException exception) {
    if (out != null) {
      out.println(exception);
    }
  }
  parser.add("Alias 1","Value 1");
  parser.add("Alias 3","Value 3");
  parser.addAlias(TextMetadataParser.X_RESOLUTION,"Alias 1");
  parser.addAlias(TextMetadataParser.Y_RESOLUTION,"Alias 2");
  parser.addAlias(TextMetadataParser.Y_RESOLUTION,"Alias 2bis");
  parser.addAlias(TextMetadataParser.X_RESOLUTION,"Alias 1bis");
  parser.addAlias(TextMetadataParser.X_RESOLUTION,"Alias 1");
  try {
    parser.addAlias(TextMetadataParser.X_RESOLUTION,"Alias 2");
    fail();
  }
 catch (  AmbiguousMetadataException exception) {
    if (out != null) {
      out.println(exception);
    }
  }
  parser.add("Alias 2bis","Value 2");
  try {
    parser.add("Alias 1bis","Value 2");
    fail();
  }
 catch (  AmbiguousMetadataException exception) {
    if (out != null) {
      out.println(exception);
    }
  }
}
