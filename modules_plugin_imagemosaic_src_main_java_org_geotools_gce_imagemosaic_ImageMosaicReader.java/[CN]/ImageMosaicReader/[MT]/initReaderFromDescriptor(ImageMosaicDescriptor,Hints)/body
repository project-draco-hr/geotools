{
  Utilities.ensureNonNull("source",source);
  final MosaicConfigurationBean configuration=source.getConfiguration();
  if (configuration == null) {
    throw new DataSourceException("Unable to create reader for this mosaic since we could not parse the configuration.");
  }
  extractProperties(configuration);
  catalog=source.getCatalog();
  if (catalog == null) {
    throw new DataSourceException("Unable to create reader for this mosaic since the inner catalog is null.");
  }
  setGridGeometry();
  rasterManager=new RasterManager(this);
  rasterManager.defaultSM=configuration.getSampleModel();
}
