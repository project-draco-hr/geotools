{
  if (source instanceof File) {
    return getResourceFromFile((File)source);
  }
  if (source instanceof String) {
    File file=new File((String)source);
    return getResourceFromFile(file);
  }
  if (source instanceof Collection<?>) {
    Collection<File> files=null;
    try {
      files=(Collection<File>)source;
    }
 catch (    ClassCastException e) {
      if (LOGGER.isLoggable(Level.WARNING)) {
        LOGGER.log(Level.WARNING,e.getMessage(),e);
      }
    }
    if (files != null) {
      int fileSize=files.size();
      if (fileSize < 1) {
        return null;
      }
 else       if (fileSize == 1) {
        return getResourceFromFile(files.iterator().next());
      }
 else {
        return FILE_COLLECTION;
      }
    }
  }
  return null;
}
