{
  super.setParameters(params);
  if (params.size() != 1) {
    throw new IllegalArgumentException("Require a single argument for average");
  }
  expr=(Expression)getExpression(0);
  expr.accept(new AbstractFilterVisitor(){
    public void visit(    AttributeExpression expression){
      String xpath=expression.getAttributePath();
      if (xpath.startsWith("featureMembers/*/")) {
        xpath=xpath.substring(17);
      }
 else       if (xpath.startsWith("featureMember/*/")) {
        xpath=xpath.substring(16);
      }
      try {
        expression.setAttributePath(xpath);
      }
 catch (      IllegalFilterException e) {
      }
    }
  }
);
}
