{
  YamlMap style=encode("point","zoom.sld");
  YamlMap rule=style.seq("feature-styles").map(0).seq("rules").map(0);
  assertEquals("Large",rule.str("name"));
  Matcher m=Pattern.compile("\\(,(.*)\\)").matcher(rule.str("scale"));
  assertTrue(m.matches());
  assertEquals(1.6E8,Double.parseDouble(m.group(1)),0.1);
  rule=style.seq("feature-styles").map(0).seq("rules").map(1);
  assertEquals("Medium",rule.str("name"));
  m=Pattern.compile("\\((.*),(.*)\\)").matcher(rule.str("scale"));
  assertTrue(m.matches());
  assertEquals(1.6E8,Double.parseDouble(m.group(1)),0.1);
  assertEquals(3.2E8,Double.parseDouble(m.group(2)),0.1);
  rule=style.seq("feature-styles").map(0).seq("rules").map(2);
  assertEquals("Small",rule.str("name"));
  m=Pattern.compile("\\((.*),.*\\)").matcher(rule.str("scale"));
  assertTrue(m.matches());
  assertEquals(3.2E8,Double.parseDouble(m.group(1)),0.1);
}
