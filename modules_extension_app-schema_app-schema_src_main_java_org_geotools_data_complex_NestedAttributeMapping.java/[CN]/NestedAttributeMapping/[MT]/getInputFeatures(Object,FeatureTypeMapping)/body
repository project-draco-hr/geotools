{
  if (isSameSource()) {
    throw new UnsupportedOperationException("Link field is missing from feature chaining mapping!");
  }
  if (source == null || !(nestedFeatureType instanceof AttributeExpressionImpl)) {
    if (fMapping != null) {
      source=fMapping.getSource();
      if (source == null) {
        LOGGER.info("Feature source for '" + fMapping.getTargetFeature().getName() + "' not found when evaluating filter");
        return Collections.EMPTY_LIST;
      }
      nestedIdExpression=fMapping.getFeatureIdExpression();
      List<AttributeMapping> mappings=fMapping.getAttributeMappingsIgnoreIndex(this.nestedTargetXPath);
      if (mappings.size() < 1) {
        throw new IllegalArgumentException("Mapping is missing for: '" + this.nestedTargetXPath + "'!");
      }
      nestedSourceExpression=mappings.get(0).getSourceExpression();
    }
  }
  if (nestedSourceExpression == null) {
    return null;
  }
  return getFilteredFeatures(foreignKeyValue);
}
