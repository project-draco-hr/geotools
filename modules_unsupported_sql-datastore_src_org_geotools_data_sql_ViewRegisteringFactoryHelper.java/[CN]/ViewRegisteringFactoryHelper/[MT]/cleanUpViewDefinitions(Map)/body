{
  Map cleanedUpViews=new HashMap();
  for (Iterator it=params.keySet().iterator(); it.hasNext(); ) {
    String key=(String)it.next();
    if (!key.startsWith("sqlView.")) {
      continue;
    }
    if (!key.endsWith(".typeName")) {
      continue;
    }
    String typeName=(String)params.get(key);
    String viewId=key.substring("sqlView.".length(),key.indexOf(".typeName"));
    String queryKey="sqlView." + viewId + ".sqlQuery";
    String query=(String)params.get(queryKey);
    if (query == null) {
      throw new IllegalArgumentException("No SQL query definition provided for type name " + typeName);
    }
    cleanedUpViews.put(typeName,query);
  }
  return cleanedUpViews;
}
